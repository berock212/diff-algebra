[
    {
        "changes": [
            {"old": {
                "content": "^gfx/webrender_traits.*",
                "line": 26
            }},
            {"new": {
                "content": "^gfx/webrender_api.*",
                "line": 26
            }}
        ],
        "new": {"name": "/.clang-format-ignore"},
        "old": {"name": "/.clang-format-ignore"}
    },
    {
        "changes": [
            {"old": {
                "content": "  if (!mCurrCtrlFrame)",
                "line": 48
            }},
            {"old": {
                "content": "    return;",
                "line": 49
            }},
            {"old": {
                "content": "",
                "line": 50
            }},
            {"old": {
                "content": "  const nsFrameSelection* frameSel = mCurrCtrlFrame->GetConstFrameSelection();",
                "line": 51
            }},
            {"old": {
                "content": "  NS_ASSERTION(frameSel, \"No frame selection for the element!\");",
                "line": 52
            }},
            {"old": {
                "content": "",
                "line": 53
            }},
            {"old": {
                "content": "  mCurrCtrlFrame = nullptr;",
                "line": 54
            }},
            {"old": {
                "content": "  if (!frameSel)",
                "line": 55
            }},
            {"old": {
                "content": "    return;",
                "line": 56
            }},
            {"old": {
                "content": "  Selection* normalSel = frameSel->GetSelection(SelectionType::eNormal);",
                "line": 58
            }},
            {"old": {
                "content": "  normalSel->RemoveSelectionListener(this);",
                "line": 59
            }},
            {"new": {
                "content": "  nsCOMPtr<nsISelection> normalSel = do_QueryReferent(mCurrCtrlNormalSel);",
                "line": 49
            }},
            {"new": {
                "content": "  if (normalSel) {",
                "line": 50
            }},
            {"new": {
                "content": "    normalSel->AsSelection()->RemoveSelectionListener(this);",
                "line": 51
            }},
            {"new": {
                "content": "    mCurrCtrlNormalSel = nullptr;",
                "line": 52
            }},
            {"new": {
                "content": "  }",
                "line": 53
            }},
            {"old": {
                "content": "  Selection* spellSel = frameSel->GetSelection(SelectionType::eSpellCheck);",
                "line": 62
            }},
            {"old": {
                "content": "  spellSel->RemoveSelectionListener(this);",
                "line": 63
            }},
            {"new": {
                "content": "  nsCOMPtr<nsISelection> spellSel = do_QueryReferent(mCurrCtrlSpellSel);",
                "line": 56
            }},
            {"new": {
                "content": "  if (spellSel) {",
                "line": 57
            }},
            {"new": {
                "content": "    spellSel->AsSelection()->RemoveSelectionListener(this);",
                "line": 58
            }},
            {"new": {
                "content": "    mCurrCtrlSpellSel = nullptr;",
                "line": 59
            }},
            {"new": {
                "content": "  }",
                "line": 60
            }},
            {"old": {
                "content": "  mCurrCtrlFrame = aFocusedElm->GetPrimaryFrame();",
                "line": 72
            }},
            {"old": {
                "content": "  if (!mCurrCtrlFrame)",
                "line": 73
            }},
            {"new": {
                "content": "  nsIFrame* controlFrame = aFocusedElm->GetPrimaryFrame();",
                "line": 69
            }},
            {"new": {
                "content": "  if (!controlFrame)",
                "line": 70
            }},
            {"old": {
                "content": "  const nsFrameSelection* frameSel = mCurrCtrlFrame->GetConstFrameSelection();",
                "line": 75
            }},
            {"new": {
                "content": "  const nsFrameSelection* frameSel = controlFrame->GetConstFrameSelection();",
                "line": 72
            }},
            {"old": {
                "content": "  Selection* normalSel = frameSel->GetSelection(SelectionType::eNormal);",
                "line": 80
            }},
            {"old": {
                "content": "  normalSel->AddSelectionListener(this);",
                "line": 81
            }},
            {"new": {
                "content": "  nsCOMPtr<nsISelection> normalSel = frameSel->GetSelection(SelectionType::eNormal);",
                "line": 77
            }},
            {"new": {
                "content": "  normalSel->AsSelection()->AddSelectionListener(this);",
                "line": 78
            }},
            {"new": {
                "content": "  mCurrCtrlNormalSel = do_GetWeakReference(normalSel);",
                "line": 79
            }},
            {"old": {
                "content": "  Selection* spellSel = frameSel->GetSelection(SelectionType::eSpellCheck);",
                "line": 83
            }},
            {"old": {
                "content": "  spellSel->AddSelectionListener(this);",
                "line": 84
            }},
            {"new": {
                "content": "  nsCOMPtr<nsISelection> spellSel = frameSel->GetSelection(SelectionType::eSpellCheck);",
                "line": 81
            }},
            {"new": {
                "content": "  spellSel->AsSelection()->AddSelectionListener(this);",
                "line": 82
            }},
            {"new": {
                "content": "  mCurrCtrlSpellSel = do_GetWeakReference(spellSel);",
                "line": 83
            }}
        ],
        "new": {"name": "/accessible/base/SelectionManager.cpp"},
        "old": {"name": "/accessible/base/SelectionManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  WeakFrame mCurrCtrlFrame;",
                "line": 121
            }},
            {"new": {
                "content": "  nsWeakPtr mCurrCtrlNormalSel;",
                "line": 123
            }},
            {"new": {
                "content": "  nsWeakPtr mCurrCtrlSpellSel;",
                "line": 124
            }}
        ],
        "new": {"name": "/accessible/base/SelectionManager.h"},
        "old": {"name": "/accessible/base/SelectionManager.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 58
            }},
            {"new": {
                "content": "                                , public nsINamed",
                "line": 413
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) final",
                "line": 446
            }},
            {"new": {
                "content": "  {",
                "line": 447
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"PluginTimerCallBack\");",
                "line": 448
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 449
            }},
            {"new": {
                "content": "  }",
                "line": 450
            }},
            {"new": {
                "content": "",
                "line": 451
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(PluginTimerCallBack, nsITimerCallback)",
                "line": 447
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(PluginTimerCallBack, nsITimerCallback, nsINamed)",
                "line": 455
            }}
        ],
        "new": {"name": "/accessible/base/nsAccessibilityService.cpp"},
        "old": {"name": "/accessible/base/nsAccessibilityService.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "skip-if = (os == 'win' && (os_version == '6.2' || os_version == '6.3')) # bug 845134",
                "line": 4
            }},
            {"new": {
                "content": "skip-if = (os == 'win' && (os_version == '6.2' || os_version == '6.3' || os_version == '10.0.15063')) # bug 845134",
                "line": 4
            }}
        ],
        "new": {"name": "/accessible/tests/mochitest/focus/a11y.ini"},
        "old": {"name": "/accessible/tests/mochitest/focus/a11y.ini"}
    },
    {
        "changes": [
            {"new": {
                "content": "// Enables sending the shutdown ping using the pingsender from the first session.",
                "line": 1515
            }},
            {"new": {
                "content": "pref(\"toolkit.telemetry.shutdownPingSender.enabledFirstSession\", false);",
                "line": 1516
            }}
        ],
        "new": {"name": "/browser/app/profile/firefox.js"},
        "old": {"name": "/browser/app/profile/firefox.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "          Social:false, TabCrashHandler:false, Task:false, TelemetryStopwatch:false,",
                "line": 38
            }},
            {"new": {
                "content": "          Social:false, TabCrashHandler:false, TelemetryStopwatch:false,",
                "line": 38
            }},
            {"old": {
                "content": "  [\"Task\", \"resource://gre/modules/Task.jsm\"],",
                "line": 87
            }}
        ],
        "new": {"name": "/browser/base/content/browser.js"},
        "old": {"name": "/browser/base/content/browser.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "// Avoid timeouts, as in bug 1325530",
                "line": 4
            }},
            {"new": {
                "content": "requestLongerTimeout(2);",
                "line": 5
            }},
            {"new": {
                "content": "",
                "line": 6
            }}
        ],
        "new": {"name": "/browser/base/content/test/tabcrashed/browser_shown.js"},
        "old": {"name": "/browser/base/content/test/tabcrashed/browser_shown.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"DownloadHistory\",",
                "line": 49
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/DownloadHistory.jsm\");",
                "line": 50
            }},
            {"old": {
                "content": "                                  \"resource://gre/modules/osfile.jsm\")",
                "line": 58
            }},
            {"old": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"PlacesUtils\",",
                "line": 59
            }},
            {"old": {
                "content": "                                  \"resource://gre/modules/PlacesUtils.jsm\");",
                "line": 60
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/osfile.jsm\");",
                "line": 60
            }},
            {"old": {
                "content": "        // API module (bug 941009).  Moreover, the fact that state is stored as",
                "line": 743
            }},
            {"old": {
                "content": "        // annotations should be ideally hidden behind methods of",
                "line": 744
            }},
            {"old": {
                "content": "        // nsIDownloadHistory (bug 830415).",
                "line": 745
            }},
            {"old": {
                "content": "        if (!this._isPrivate) {",
                "line": 746
            }},
            {"old": {
                "content": "          try {",
                "line": 747
            }},
            {"old": {
                "content": "            let downloadMetaData = {",
                "line": 748
            }},
            {"old": {
                "content": "              state: DownloadsCommon.stateOfDownload(download),",
                "line": 749
            }},
            {"old": {
                "content": "              endTime: download.endTime,",
                "line": 750
            }},
            {"old": {
                "content": "            };",
                "line": 751
            }},
            {"old": {
                "content": "            if (download.succeeded) {",
                "line": 752
            }},
            {"old": {
                "content": "              downloadMetaData.fileSize = download.target.size;",
                "line": 753
            }},
            {"old": {
                "content": "            }",
                "line": 754
            }},
            {"old": {
                "content": "            if (download.error && download.error.reputationCheckVerdict) {",
                "line": 755
            }},
            {"old": {
                "content": "              downloadMetaData.reputationCheckVerdict =",
                "line": 756
            }},
            {"old": {
                "content": "                download.error.reputationCheckVerdict;",
                "line": 757
            }},
            {"old": {
                "content": "            }",
                "line": 758
            }},
            {"old": {
                "content": "",
                "line": 759
            }},
            {"old": {
                "content": "            PlacesUtils.annotations.setPageAnnotation(",
                "line": 760
            }},
            {"old": {
                "content": "                          NetUtil.newURI(download.source.url),",
                "line": 761
            }},
            {"old": {
                "content": "                          \"downloads/metaData\",",
                "line": 762
            }},
            {"old": {
                "content": "                          JSON.stringify(downloadMetaData), 0,",
                "line": 763
            }},
            {"old": {
                "content": "                          PlacesUtils.annotations.EXPIRE_WITH_HISTORY);",
                "line": 764
            }},
            {"old": {
                "content": "          } catch (ex) {",
                "line": 765
            }},
            {"old": {
                "content": "            Cu.reportError(ex);",
                "line": 766
            }},
            {"old": {
                "content": "          }",
                "line": 767
            }},
            {"old": {
                "content": "        }",
                "line": 768
            }},
            {"new": {
                "content": "        // API module (bug 941009).",
                "line": 743
            }},
            {"new": {
                "content": "        DownloadHistory.updateMetaData(download);",
                "line": 744
            }}
        ],
        "new": {"name": "/browser/components/downloads/DownloadsCommon.jsm"},
        "old": {"name": "/browser/components/downloads/DownloadsCommon.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "          Task:false, UITour:false, UIState:false, UpdateListener:false, WebChannel:false,",
                "line": 41
            }},
            {"new": {
                "content": "          UITour:false, UIState:false, UpdateListener:false, WebChannel:false,",
                "line": 41
            }},
            {"old": {
                "content": "  [\"Task\", \"resource://gre/modules/Task.jsm\"],",
                "line": 96
            }}
        ],
        "new": {"name": "/browser/components/nsBrowserGlue.js"},
        "old": {"name": "/browser/components/nsBrowserGlue.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "const PREF_STYLO_ENABLED = \"layout.css.servo.enabled\";",
                "line": 10
            }},
            {"new": {
                "content": "    let styloEnabled = Services.prefs.getBoolPref(PREF_STYLO_ENABLED, false);",
                "line": 123
            }},
            {"new": {
                "content": "",
                "line": 124
            }},
            {"new": {
                "content": "    let params = new URLSearchParams();",
                "line": 125
            }},
            {"new": {
                "content": "    params.append(\"url\", `${tabData.url}`);",
                "line": 126
            }},
            {"new": {
                "content": "    params.append(\"src\", \"desktop-reporter\");",
                "line": 127
            }},
            {"new": {
                "content": "    if (styloEnabled) {",
                "line": 128
            }},
            {"new": {
                "content": "        params.append(\"details\", \"layout.css.servo.enabled: true\");",
                "line": 129
            }},
            {"new": {
                "content": "        params.append(\"label\", \"type-stylo\");",
                "line": 130
            }},
            {"new": {
                "content": "    }",
                "line": 131
            }},
            {"old": {
                "content": "      `${WebCompatReporter.endpoint}?url=${encodeURIComponent(tabData.url)}&src=desktop-reporter`,",
                "line": 123
            }},
            {"new": {
                "content": "      `${WebCompatReporter.endpoint}?${params}`,",
                "line": 133
            }}
        ],
        "new": {"name": "/browser/extensions/webcompat-reporter/content/WebCompatReporter.jsm"},
        "old": {"name": "/browser/extensions/webcompat-reporter/content/WebCompatReporter.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "    '--with-crashreporter-enable-percent',",
                "line": 252
            }}
        ],
        "new": {"name": "/build/moz.configure/old.configure"},
        "old": {"name": "/build/moz.configure/old.configure"}
    },
    {
        "changes": [
            {"new": {
                "content": "[browser_grids_restored-after-reload.js]",
                "line": 35
            }}
        ],
        "new": {"name": "/devtools/client/inspector/grids/test/browser.ini"},
        "old": {"name": "/devtools/client/inspector/grids/test/browser.ini"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* vim: set ft=javascript ts=2 et sw=2 tw=80: */",
                "line": 0
            }},
            {"new": {
                "content": "/* Any copyright is dedicated to the Public Domain.",
                "line": 1
            }},
            {"new": {
                "content": " http://creativecommons.org/publicdomain/zero/1.0/ */",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "\"use strict\";",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "// Tests that the grid highlighter is re-displayed after reloading a page and the grid",
                "line": 6
            }},
            {"new": {
                "content": "// item is highlighted.",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }},
            {"new": {
                "content": "const TEST_URI = `",
                "line": 9
            }},
            {"new": {
                "content": "  <style type='text/css'>",
                "line": 10
            }},
            {"new": {
                "content": "    #grid {",
                "line": 11
            }},
            {"new": {
                "content": "      display: grid;",
                "line": 12
            }},
            {"new": {
                "content": "    }",
                "line": 13
            }},
            {"new": {
                "content": "  </style>",
                "line": 14
            }},
            {"new": {
                "content": "  <div id=\"grid\">",
                "line": 15
            }},
            {"new": {
                "content": "    <div id=\"cell1\">cell1</div>",
                "line": 16
            }},
            {"new": {
                "content": "    <div id=\"cell2\">cell2</div>",
                "line": 17
            }},
            {"new": {
                "content": "  </div>",
                "line": 18
            }},
            {"new": {
                "content": "`;",
                "line": 19
            }},
            {"new": {
                "content": "",
                "line": 20
            }},
            {"new": {
                "content": "const OTHER_URI = `",
                "line": 21
            }},
            {"new": {
                "content": "  <style type='text/css'>",
                "line": 22
            }},
            {"new": {
                "content": "    #grid {",
                "line": 23
            }},
            {"new": {
                "content": "      display: grid;",
                "line": 24
            }},
            {"new": {
                "content": "    }",
                "line": 25
            }},
            {"new": {
                "content": "  </style>",
                "line": 26
            }},
            {"new": {
                "content": "  <div id=\"grid\">",
                "line": 27
            }},
            {"new": {
                "content": "    <div id=\"cell1\">cell1</div>",
                "line": 28
            }},
            {"new": {
                "content": "    <div id=\"cell2\">cell2</div>",
                "line": 29
            }},
            {"new": {
                "content": "    <div id=\"cell3\">cell3</div>",
                "line": 30
            }},
            {"new": {
                "content": "  </div>",
                "line": 31
            }},
            {"new": {
                "content": "`;",
                "line": 32
            }},
            {"new": {
                "content": "",
                "line": 33
            }},
            {"new": {
                "content": "add_task(function* () {",
                "line": 34
            }},
            {"new": {
                "content": "  yield addTab(\"data:text/html;charset=utf-8,\" + encodeURIComponent(TEST_URI));",
                "line": 35
            }},
            {"new": {
                "content": "  let { gridInspector, inspector } = yield openLayoutView();",
                "line": 36
            }},
            {"new": {
                "content": "  let { document: doc } = gridInspector;",
                "line": 37
            }},
            {"new": {
                "content": "  let { highlighters, store } = inspector;",
                "line": 38
            }},
            {"new": {
                "content": "",
                "line": 39
            }},
            {"new": {
                "content": "  yield selectNode(\"#grid\", inspector);",
                "line": 40
            }},
            {"new": {
                "content": "  let gridList = doc.getElementById(\"grid-list\");",
                "line": 41
            }},
            {"new": {
                "content": "  let checkbox = gridList.children[0].querySelector(\"input\");",
                "line": 42
            }},
            {"new": {
                "content": "",
                "line": 43
            }},
            {"new": {
                "content": "  info(\"Toggling ON the CSS grid highlighter from the layout panel.\");",
                "line": 44
            }},
            {"new": {
                "content": "  let onHighlighterShown = highlighters.once(\"grid-highlighter-shown\");",
                "line": 45
            }},
            {"new": {
                "content": "  let onCheckboxChange = waitUntilState(store, state =>",
                "line": 46
            }},
            {"new": {
                "content": "    state.grids.length == 1 &&",
                "line": 47
            }},
            {"new": {
                "content": "    state.grids[0].highlighted);",
                "line": 48
            }},
            {"new": {
                "content": "  checkbox.click();",
                "line": 49
            }},
            {"new": {
                "content": "  yield onHighlighterShown;",
                "line": 50
            }},
            {"new": {
                "content": "  yield onCheckboxChange;",
                "line": 51
            }},
            {"new": {
                "content": "",
                "line": 52
            }},
            {"new": {
                "content": "  info(\"Checking the CSS grid highlighter is created.\");",
                "line": 53
            }},
            {"new": {
                "content": "  ok(highlighters.highlighters[HIGHLIGHTER_TYPE],",
                "line": 54
            }},
            {"new": {
                "content": "    \"CSS grid highlighter is created in the highlighters overlay.\");",
                "line": 55
            }},
            {"new": {
                "content": "  ok(highlighters.gridHighlighterShown, \"CSS grid highlighter is shown.\");",
                "line": 56
            }},
            {"new": {
                "content": "",
                "line": 57
            }},
            {"new": {
                "content": "  info(\"Reload the page, expect the highlighter to be displayed once again and \" +",
                "line": 58
            }},
            {"new": {
                "content": "    \"grid is checked\");",
                "line": 59
            }},
            {"new": {
                "content": "  let onStateRestored = highlighters.once(\"grid-state-restored\");",
                "line": 60
            }},
            {"new": {
                "content": "  let onGridListRestored = waitUntilState(store, state =>",
                "line": 61
            }},
            {"new": {
                "content": "    state.grids.length == 1 &&",
                "line": 62
            }},
            {"new": {
                "content": "    state.grids[0].highlighted);",
                "line": 63
            }},
            {"new": {
                "content": "  yield refreshTab(gBrowser.selectedTab);",
                "line": 64
            }},
            {"new": {
                "content": "  let { restored } = yield onStateRestored;",
                "line": 65
            }},
            {"new": {
                "content": "  yield onGridListRestored;",
                "line": 66
            }},
            {"new": {
                "content": "",
                "line": 67
            }},
            {"new": {
                "content": "  info(\"Check that the grid highlighter can be displayed after reloading the page\");",
                "line": 68
            }},
            {"new": {
                "content": "  ok(restored, \"The highlighter state was restored\");",
                "line": 69
            }},
            {"new": {
                "content": "  ok(highlighters.gridHighlighterShown, \"CSS grid highlighter is shown.\");",
                "line": 70
            }},
            {"new": {
                "content": "",
                "line": 71
            }},
            {"new": {
                "content": "  info(\"Navigate to another URL, and check that the highlighter is hidden and \" +",
                "line": 72
            }},
            {"new": {
                "content": "    \"grid is unchecked\");",
                "line": 73
            }},
            {"new": {
                "content": "  let otherUri = \"data:text/html;charset=utf-8,\" + encodeURIComponent(OTHER_URI);",
                "line": 74
            }},
            {"new": {
                "content": "  onStateRestored = highlighters.once(\"grid-state-restored\");",
                "line": 75
            }},
            {"new": {
                "content": "  onGridListRestored = waitUntilState(store, state =>",
                "line": 76
            }},
            {"new": {
                "content": "    state.grids.length == 1 &&",
                "line": 77
            }},
            {"new": {
                "content": "    !state.grids[0].highlighted);",
                "line": 78
            }},
            {"new": {
                "content": "  yield navigateTo(inspector, otherUri);",
                "line": 79
            }},
            {"new": {
                "content": "  ({ restored } = yield onStateRestored);",
                "line": 80
            }},
            {"new": {
                "content": "  yield onGridListRestored;",
                "line": 81
            }},
            {"new": {
                "content": "",
                "line": 82
            }},
            {"new": {
                "content": "  info(\"Check that the grid highlighter is hidden after navigating to a different page\");",
                "line": 83
            }},
            {"new": {
                "content": "  ok(!restored, \"The highlighter state was not restored\");",
                "line": 84
            }},
            {"new": {
                "content": "  ok(!highlighters.gridHighlighterShown, \"CSS grid highlighter is hidden.\");",
                "line": 85
            }},
            {"new": {
                "content": "});",
                "line": 86
            }}
        ],
        "new": {"name": "/devtools/client/inspector/grids/test/browser_grids_restored-after-reload.js"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "  this._onContextMenu = this._onContextMenu.bind(this);",
                "line": 107
            }},
            {"old": {
                "content": "  this.onNewRoot = this.onNewRoot.bind(this);",
                "line": 108
            }},
            {"old": {
                "content": "  this._onContextMenu = this._onContextMenu.bind(this);",
                "line": 109
            }},
            {"old": {
                "content": "  this.onTextBoxContextMenu = this.onTextBoxContextMenu.bind(this);",
                "line": 110
            }},
            {"new": {
                "content": "  this._onMarkupFrameLoad = this._onMarkupFrameLoad.bind(this);",
                "line": 109
            }},
            {"new": {
                "content": "",
                "line": 111
            }},
            {"new": {
                "content": "  this.onDetached = this.onDetached.bind(this);",
                "line": 112
            }},
            {"new": {
                "content": "  this.onMarkupLoaded = this.onMarkupLoaded.bind(this);",
                "line": 113
            }},
            {"old": {
                "content": "  this.onDetached = this.onDetached.bind(this);",
                "line": 113
            }},
            {"new": {
                "content": "  this.onNewRoot = this.onNewRoot.bind(this);",
                "line": 115
            }},
            {"old": {
                "content": "  this._onMarkupFrameLoad = this._onMarkupFrameLoad.bind(this);",
                "line": 115
            }},
            {"old": {
                "content": "  this.onSidebarShown = this.onSidebarShown.bind(this);",
                "line": 117
            }},
            {"new": {
                "content": "  this.onShowBoxModelHighlighterForNode =",
                "line": 118
            }},
            {"new": {
                "content": "    this.onShowBoxModelHighlighterForNode.bind(this);",
                "line": 119
            }},
            {"old": {
                "content": "  this.onShowBoxModelHighlighterForNode =",
                "line": 120
            }},
            {"old": {
                "content": "    this.onShowBoxModelHighlighterForNode.bind(this);",
                "line": 121
            }},
            {"new": {
                "content": "  this.onSidebarShown = this.onSidebarShown.bind(this);",
                "line": 122
            }},
            {"new": {
                "content": "  this.onTextBoxContextMenu = this.onTextBoxContextMenu.bind(this);",
                "line": 123
            }},
            {"old": {
                "content": "      this.once(\"markuploaded\", () => {",
                "line": 780
            }},
            {"old": {
                "content": "        if (!this.markup) {",
                "line": 781
            }},
            {"old": {
                "content": "          return;",
                "line": 782
            }},
            {"old": {
                "content": "        }",
                "line": 783
            }},
            {"old": {
                "content": "        this.markup.expandNode(this.selection.nodeFront);",
                "line": 784
            }},
            {"old": {
                "content": "        this.emit(\"new-root\");",
                "line": 785
            }},
            {"old": {
                "content": "      });",
                "line": 786
            }},
            {"new": {
                "content": "      this.once(\"markuploaded\", this.onMarkupLoaded);",
                "line": 782
            }},
            {"new": {
                "content": "  /**",
                "line": 790
            }},
            {"new": {
                "content": "   * Handler for \"markuploaded\" event fired on a new root mutation and after the markup",
                "line": 791
            }},
            {"new": {
                "content": "   * view is initialized. Expands the current selected node and restores the saved",
                "line": 792
            }},
            {"new": {
                "content": "   * highlighter state.",
                "line": 793
            }},
            {"new": {
                "content": "   */",
                "line": 794
            }},
            {"new": {
                "content": "  onMarkupLoaded: Task.async(function* () {",
                "line": 795
            }},
            {"new": {
                "content": "    if (!this.markup) {",
                "line": 796
            }},
            {"new": {
                "content": "      return;",
                "line": 797
            }},
            {"new": {
                "content": "    }",
                "line": 798
            }},
            {"new": {
                "content": "",
                "line": 799
            }},
            {"new": {
                "content": "    this.markup.expandNode(this.selection.nodeFront);",
                "line": 800
            }},
            {"new": {
                "content": "",
                "line": 801
            }},
            {"new": {
                "content": "    // Restore the highlighter states prior to emitting \"new-root\".",
                "line": 802
            }},
            {"new": {
                "content": "    yield Promise.all([",
                "line": 803
            }},
            {"new": {
                "content": "      this.highlighters.restoreGridState(),",
                "line": 804
            }},
            {"new": {
                "content": "      this.highlighters.restoreShapeState()",
                "line": 805
            }},
            {"new": {
                "content": "    ]);",
                "line": 806
            }},
            {"new": {
                "content": "",
                "line": 807
            }},
            {"new": {
                "content": "    this.emit(\"new-root\");",
                "line": 808
            }},
            {"new": {
                "content": "  }),",
                "line": 809
            }},
            {"new": {
                "content": "",
                "line": 810
            }}
        ],
        "new": {"name": "/devtools/client/inspector/inspector.js"},
        "old": {"name": "/devtools/client/inspector/inspector.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "  this.onNavigate = this.onNavigate.bind(this);",
                "line": 53
            }},
            {"old": {
                "content": "  this.inspector.target.on(\"navigate\", this.onNavigate);",
                "line": 60
            }},
            {"old": {
                "content": "   * Restore the saved highlighter states.",
                "line": 388
            }},
            {"new": {
                "content": "   * Restores the saved grid highlighter state.",
                "line": 386
            }},
            {"new": {
                "content": "   */",
                "line": 387
            }},
            {"new": {
                "content": "  restoreGridState: Task.async(function* () {",
                "line": 388
            }},
            {"new": {
                "content": "    try {",
                "line": 389
            }},
            {"new": {
                "content": "      yield this.restoreState(\"grid\", this.state.grid, this.showGridHighlighter);",
                "line": 390
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 391
            }},
            {"new": {
                "content": "      this._handleRejection(e);",
                "line": 392
            }},
            {"new": {
                "content": "    }",
                "line": 393
            }},
            {"new": {
                "content": "  }),",
                "line": 394
            }},
            {"new": {
                "content": "",
                "line": 395
            }},
            {"new": {
                "content": "  /**",
                "line": 396
            }},
            {"new": {
                "content": "   * Restores the saved shape highlighter state.",
                "line": 397
            }},
            {"new": {
                "content": "   */",
                "line": 398
            }},
            {"new": {
                "content": "  restoreShapeState: Task.async(function* () {",
                "line": 399
            }},
            {"new": {
                "content": "    try {",
                "line": 400
            }},
            {"new": {
                "content": "      yield this.restoreState(\"shapes\", this.state.shapes, this.showShapesHighlighter);",
                "line": 401
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 402
            }},
            {"new": {
                "content": "      this._handleRejection(e);",
                "line": 403
            }},
            {"new": {
                "content": "    }",
                "line": 404
            }},
            {"new": {
                "content": "  }),",
                "line": 405
            }},
            {"new": {
                "content": "",
                "line": 406
            }},
            {"new": {
                "content": "  /**",
                "line": 407
            }},
            {"new": {
                "content": "   * Helper function called by restoreGridState and restoreShapeState.",
                "line": 408
            }},
            {"new": {
                "content": "   * Restores the saved highlighter state for the given highlighter and their state.",
                "line": 409
            }},
            {"new": {
                "content": "   *",
                "line": 410
            }},
            {"new": {
                "content": "",
                "line": 422
            }},
            {"old": {
                "content": "    // Wait for the new root to be ready in the inspector.",
                "line": 405
            }},
            {"old": {
                "content": "    yield this.onInspectorNewRoot;",
                "line": 406
            }},
            {"old": {
                "content": "",
                "line": 407
            }},
            {"old": {
                "content": "   * Restore saved highlighter state after navigate.",
                "line": 715
            }},
            {"old": {
                "content": "   */",
                "line": 716
            }},
            {"old": {
                "content": "  onNavigate: Task.async(function* () {",
                "line": 717
            }},
            {"old": {
                "content": "    try {",
                "line": 718
            }},
            {"old": {
                "content": "      yield this.restoreState(\"grid\", this.state.grid, this.showGridHighlighter);",
                "line": 719
            }},
            {"old": {
                "content": "      yield this.restoreState(\"shapes\", this.state.shapes, this.showShapesHighlighter);",
                "line": 720
            }},
            {"old": {
                "content": "    } catch (e) {",
                "line": 721
            }},
            {"old": {
                "content": "      this._handleRejection(e);",
                "line": 722
            }},
            {"old": {
                "content": "    }",
                "line": 723
            }},
            {"old": {
                "content": "  }),",
                "line": 724
            }},
            {"old": {
                "content": "",
                "line": 725
            }},
            {"old": {
                "content": "  /**",
                "line": 726
            }},
            {"old": {
                "content": "",
                "line": 735
            }},
            {"old": {
                "content": "    // The inspector panel should emit the new-root event when it is ready after navigate.",
                "line": 736
            }},
            {"old": {
                "content": "    this.onInspectorNewRoot = this.inspector.once(\"new-root\");",
                "line": 737
            }},
            {"old": {
                "content": "    this.inspector.target.off(\"navigate\", this.onNavigate);",
                "line": 757
            }}
        ],
        "new": {"name": "/devtools/client/inspector/shared/highlighters-overlay.js"},
        "old": {"name": "/devtools/client/inspector/shared/highlighters-overlay.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "pref(\"devtools.gridinspector.showNegativeLineNumbers\", false);",
                "line": 82
            }}
        ],
        "new": {"name": "/devtools/client/preferences/devtools.js"},
        "old": {"name": "/devtools/client/preferences/devtools.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "const NEGATIVE_LINE_NUMBERS_PREF = \"devtools.gridinspector.showNegativeLineNumbers\";",
                "line": 34
            }},
            {"old": {
                "content": "    this.onNavigate = this.onNavigate.bind(this);",
                "line": 351
            }},
            {"old": {
                "content": "    this.highlighterEnv.on(\"navigate\", this.onNavigate);",
                "line": 354
            }},
            {"old": {
                "content": "    highlighterEnv.off(\"navigate\", this.onNavigate);",
                "line": 590
            }},
            {"old": {
                "content": "  /**",
                "line": 676
            }},
            {"old": {
                "content": "   * Called when the page navigates. Used to clear the cached gap patterns and avoid",
                "line": 677
            }},
            {"old": {
                "content": "   * using DeadWrapper objects as gap patterns the next time.",
                "line": 678
            }},
            {"old": {
                "content": "   */",
                "line": 679
            }},
            {"old": {
                "content": "  onNavigate() {",
                "line": 680
            }},
            {"old": {
                "content": "    this._clearCache();",
                "line": 681
            }},
            {"old": {
                "content": "  }",
                "line": 682
            }},
            {"old": {
                "content": "",
                "line": 683
            }},
            {"new": {
                "content": "  /**",
                "line": 681
            }},
            {"new": {
                "content": "   * Called when the page will-navigate. Used to hide the grid highlighter and clear",
                "line": 682
            }},
            {"new": {
                "content": "   * the cached gap patterns and avoid using DeadWrapper obejcts as gap patterns the",
                "line": 683
            }},
            {"new": {
                "content": "   * next time.",
                "line": 684
            }},
            {"new": {
                "content": "   */",
                "line": 685
            }},
            {"new": {
                "content": "    this._clearCache();",
                "line": 687
            }},
            {"new": {
                "content": "",
                "line": 688
            }},
            {"new": {
                "content": "",
                "line": 1143
            }},
            {"new": {
                "content": "      if (Services.prefs.getBoolPref(NEGATIVE_LINE_NUMBERS_PREF)) {",
                "line": 1144
            }},
            {"new": {
                "content": "        this.renderNegativeLineNumbers(fragment.cols, COLUMNS, \"left\", \"top\",",
                "line": 1145
            }},
            {"new": {
                "content": "                          this.getLastRowLinePos(fragment));",
                "line": 1146
            }},
            {"new": {
                "content": "        this.renderNegativeLineNumbers(fragment.rows, ROWS, \"top\", \"left\",",
                "line": 1147
            }},
            {"new": {
                "content": "                          this.getLastColLinePos(fragment));",
                "line": 1148
            }},
            {"new": {
                "content": "      }",
                "line": 1149
            }},
            {"new": {
                "content": "    }",
                "line": 1150
            }},
            {"new": {
                "content": "  }",
                "line": 1151
            }},
            {"new": {
                "content": "",
                "line": 1152
            }},
            {"new": {
                "content": "  /**",
                "line": 1153
            }},
            {"new": {
                "content": "   * Render the negative grid lines given the grid dimension information of the",
                "line": 1154
            }},
            {"new": {
                "content": "   * column or row lines.",
                "line": 1155
            }},
            {"new": {
                "content": "   *",
                "line": 1156
            }},
            {"new": {
                "content": "   * See @param for renderLines.",
                "line": 1157
            }},
            {"new": {
                "content": "   */",
                "line": 1158
            }},
            {"new": {
                "content": "  renderNegativeLineNumbers(gridDimension, dimensionType, mainSide, crossSide,",
                "line": 1159
            }},
            {"new": {
                "content": "            startPos) {",
                "line": 1160
            }},
            {"new": {
                "content": "    let lineStartPos = startPos;",
                "line": 1161
            }},
            {"new": {
                "content": "",
                "line": 1162
            }},
            {"new": {
                "content": "    const { lines } = gridDimension;",
                "line": 1163
            }},
            {"new": {
                "content": "",
                "line": 1164
            }},
            {"new": {
                "content": "    for (let i = 0, line = lines[i]; i < lines.length; line = lines[++i]) {",
                "line": 1165
            }},
            {"new": {
                "content": "      let linePos = line.start;",
                "line": 1166
            }},
            {"new": {
                "content": "",
                "line": 1167
            }},
            {"new": {
                "content": "      const negativeLineNumber = i - lines.length;",
                "line": 1168
            }},
            {"new": {
                "content": "",
                "line": 1169
            }},
            {"new": {
                "content": "      this.renderGridLineNumber(negativeLineNumber, linePos, lineStartPos, line.breadth,",
                "line": 1170
            }},
            {"new": {
                "content": "        dimensionType);",
                "line": 1171
            }},
            {"new": {
                "content": "    // Keep track of the number of collapsed lines per line position",
                "line": 1358
            }},
            {"new": {
                "content": "    let stackedLines = [];",
                "line": 1359
            }},
            {"new": {
                "content": "",
                "line": 1360
            }},
            {"new": {
                "content": "      // Check for overlapping lines. We render a second box beneath the last overlapping",
                "line": 1375
            }},
            {"new": {
                "content": "      // line number to indicate there are lines beneath it.",
                "line": 1376
            }},
            {"new": {
                "content": "      const gridLine = gridDimension.tracks[line.number - 1];",
                "line": 1377
            }},
            {"new": {
                "content": "      if (gridLine) {",
                "line": 1378
            }},
            {"new": {
                "content": "        const { breadth }  = gridLine;",
                "line": 1379
            }},
            {"new": {
                "content": "        if (breadth === 0) {",
                "line": 1380
            }},
            {"new": {
                "content": "          stackedLines.push(gridDimension.lines[i].number);",
                "line": 1381
            }},
            {"new": {
                "content": "          if (stackedLines.length > 0) {",
                "line": 1382
            }},
            {"new": {
                "content": "            this.renderGridLineNumber(line.number, linePos, lineStartPos, line.breadth,",
                "line": 1383
            }},
            {"new": {
                "content": "              dimensionType, 1);",
                "line": 1384
            }},
            {"new": {
                "content": "          }",
                "line": 1385
            }},
            {"new": {
                "content": "          continue;",
                "line": 1386
            }},
            {"new": {
                "content": "        }",
                "line": 1387
            }},
            {"new": {
                "content": "      }",
                "line": 1388
            }},
            {"new": {
                "content": "",
                "line": 1389
            }},
            {"new": {
                "content": "   * @param  {Number||undefined} stackedLineIndex",
                "line": 1471
            }},
            {"new": {
                "content": "   *         The line index position of the stacked line.",
                "line": 1472
            }},
            {"old": {
                "content": "  renderGridLineNumber(lineNumber, linePos, startPos, breadth, dimensionType) {",
                "line": 1428
            }},
            {"new": {
                "content": "  renderGridLineNumber(lineNumber, linePos, startPos, breadth, dimensionType,",
                "line": 1474
            }},
            {"new": {
                "content": "    stackedLineIndex) {",
                "line": 1475
            }},
            {"new": {
                "content": "    let startOffset = (boxHeight + 2) / devicePixelRatio;",
                "line": 1509
            }},
            {"new": {
                "content": "",
                "line": 1510
            }},
            {"new": {
                "content": "    if (Services.prefs.getBoolPref(NEGATIVE_LINE_NUMBERS_PREF)) {",
                "line": 1511
            }},
            {"new": {
                "content": "      // If the line number is negative, offset it from the grid container edge,",
                "line": 1512
            }},
            {"new": {
                "content": "      // (downwards if its a column, rightwards if its a row).",
                "line": 1513
            }},
            {"new": {
                "content": "      if (lineNumber < 0) {",
                "line": 1514
            }},
            {"new": {
                "content": "        startPos += startOffset;",
                "line": 1515
            }},
            {"new": {
                "content": "      } else {",
                "line": 1516
            }},
            {"new": {
                "content": "        startPos -= startOffset;",
                "line": 1517
            }},
            {"new": {
                "content": "      }",
                "line": 1518
            }},
            {"new": {
                "content": "    }",
                "line": 1519
            }},
            {"new": {
                "content": "",
                "line": 1520
            }},
            {"new": {
                "content": "    if (stackedLineIndex) {",
                "line": 1531
            }},
            {"new": {
                "content": "      // Offset the stacked line number by half of the box's width/height",
                "line": 1532
            }},
            {"new": {
                "content": "      const xOffset = boxWidth / 4;",
                "line": 1533
            }},
            {"new": {
                "content": "      const yOffset = boxHeight / 4;",
                "line": 1534
            }},
            {"new": {
                "content": "",
                "line": 1535
            }},
            {"new": {
                "content": "      x += xOffset;",
                "line": 1536
            }},
            {"new": {
                "content": "      y += yOffset;",
                "line": 1537
            }},
            {"new": {
                "content": "    }",
                "line": 1538
            }},
            {"new": {
                "content": "",
                "line": 1539
            }},
            {"old": {
                "content": "    this.ctx.fillText(lineNumber, x + padding, y + textHeight + padding);",
                "line": 1485
            }},
            {"new": {
                "content": "    const numberText = stackedLineIndex ? \"\" : lineNumber;",
                "line": 1553
            }},
            {"new": {
                "content": "    this.ctx.fillText(numberText, x + padding, y + textHeight + padding);",
                "line": 1554
            }}
        ],
        "new": {"name": "/devtools/server/actors/highlighters/css-grid.js"},
        "old": {"name": "/devtools/server/actors/highlighters/css-grid.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "nsDocShell::DispatchToTabGroup(const char* aName,",
                "line": 1771
            }},
            {"old": {
                "content": "                               TaskCategory aCategory,",
                "line": 1772
            }},
            {"new": {
                "content": "nsDocShell::DispatchToTabGroup(TaskCategory aCategory,",
                "line": 1771
            }},
            {"old": {
                "content": "  return tabGroup->Dispatch(aName, aCategory, runnable.forget());",
                "line": 1784
            }},
            {"new": {
                "content": "  return tabGroup->Dispatch(aCategory, runnable.forget());",
                "line": 1783
            }},
            {"old": {
                "content": "    \"nsDocShell::FireDummyOnLocationChange\",",
                "line": 1790
            }},
            {"old": {
                "content": "  nsRefreshTimer* refreshTimer = new nsRefreshTimer();",
                "line": 6794
            }},
            {"new": {
                "content": "  nsCOMPtr<nsITimerCallback> refreshTimer =",
                "line": 6792
            }},
            {"new": {
                "content": "    new nsRefreshTimer(this, aURI, aDelay, aRepeat, aMetaRefresh);",
                "line": 6793
            }},
            {"new": {
                "content": "",
                "line": 6794
            }},
            {"old": {
                "content": "  nsCOMPtr<nsISupports> dataRef = refreshTimer;  // Get the ref count to 1",
                "line": 6797
            }},
            {"old": {
                "content": "",
                "line": 6798
            }},
            {"old": {
                "content": "  refreshTimer->mDocShell = this;",
                "line": 6799
            }},
            {"old": {
                "content": "  refreshTimer->mURI = aURI;",
                "line": 6800
            }},
            {"old": {
                "content": "  refreshTimer->mDelay = aDelay;",
                "line": 6801
            }},
            {"old": {
                "content": "  refreshTimer->mRepeat = aRepeat;",
                "line": 6802
            }},
            {"old": {
                "content": "  refreshTimer->mMetaRefresh = aMetaRefresh;",
                "line": 6803
            }},
            {"old": {
                "content": "",
                "line": 6804
            }},
            {"old": {
                "content": "  nsresult rv = DispatchToTabGroup(\"nsDocShell::RestorePresentationEvent\",",
                "line": 8592
            }},
            {"old": {
                "content": "                                   TaskCategory::Other,",
                "line": 8593
            }},
            {"new": {
                "content": "  nsresult rv = DispatchToTabGroup(TaskCategory::Other,",
                "line": 8584
            }},
            {"old": {
                "content": "      return DispatchToTabGroup(\"nsDocShell::InternalLoadEvent\",",
                "line": 10266
            }},
            {"old": {
                "content": "                                TaskCategory::Other, ev.forget());",
                "line": 10267
            }},
            {"new": {
                "content": "      return DispatchToTabGroup(TaskCategory::Other, ev.forget());",
                "line": 10257
            }},
            {"old": {
                "content": "nsRefreshTimer::nsRefreshTimer()",
                "line": 13635
            }},
            {"old": {
                "content": "  : mDelay(0), mRepeat(false), mMetaRefresh(false)",
                "line": 13636
            }},
            {"new": {
                "content": "nsRefreshTimer::nsRefreshTimer(nsDocShell* aDocShell, nsIURI* aURI,",
                "line": 13625
            }},
            {"new": {
                "content": "                               int32_t aDelay, bool aRepeat, bool aMetaRefresh)",
                "line": 13626
            }},
            {"new": {
                "content": "  : mDocShell(aDocShell), mURI(aURI), mDelay(aDelay), mRepeat(aRepeat),",
                "line": 13627
            }},
            {"new": {
                "content": "    mMetaRefresh(aMetaRefresh)",
                "line": 13628
            }},
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 13639
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 13653
            }},
            {"new": {
                "content": "nsRefreshTimer::GetName(nsACString& aName)",
                "line": 13654
            }},
            {"new": {
                "content": "{",
                "line": 13655
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsRefreshTimer\");",
                "line": 13656
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 13657
            }},
            {"new": {
                "content": "}",
                "line": 13658
            }},
            {"new": {
                "content": "",
                "line": 13659
            }},
            {"old": {
                "content": "  return DispatchToTabGroup(\"nsDocShell::OnLinkClickEvent\",",
                "line": 14167
            }},
            {"old": {
                "content": "                            TaskCategory::UI, ev.forget());",
                "line": 14168
            }},
            {"new": {
                "content": "  return DispatchToTabGroup(TaskCategory::UI, ev.forget());",
                "line": 14167
            }}
        ],
        "new": {"name": "/docshell/base/nsDocShell.cpp"},
        "old": {"name": "/docshell/base/nsDocShell.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 44
            }},
            {"new": {
                "content": "                     , public nsINamed",
                "line": 108
            }},
            {"old": {
                "content": "  nsRefreshTimer();",
                "line": 109
            }},
            {"new": {
                "content": "  nsRefreshTimer(nsDocShell* aDocShell, nsIURI* aURI, int32_t aDelay,",
                "line": 111
            }},
            {"new": {
                "content": "                 bool aRepeat, bool aMetaRefresh);",
                "line": 112
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 115
            }},
            {"old": {
                "content": "  nsresult DispatchToTabGroup(const char* aName,",
                "line": 1091
            }},
            {"old": {
                "content": "                              mozilla::TaskCategory aCategory,",
                "line": 1092
            }},
            {"new": {
                "content": "  nsresult DispatchToTabGroup(mozilla::TaskCategory aCategory,",
                "line": 1095
            }}
        ],
        "new": {"name": "/docshell/base/nsDocShell.h"},
        "old": {"name": "/docshell/base/nsDocShell.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsresult rv = mDocument->Dispatch(\"nsSHEntryShared::DestroyViewerEvent\",",
                "line": 215
            }},
            {"old": {
                "content": "                                    mozilla::TaskCategory::Other, evt.forget());",
                "line": 216
            }},
            {"new": {
                "content": "  nsresult rv = mDocument->Dispatch(mozilla::TaskCategory::Other, evt.forget());",
                "line": 215
            }}
        ],
        "new": {"name": "/docshell/shistory/nsSHEntryShared.cpp"},
        "old": {"name": "/docshell/shistory/nsSHEntryShared.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    size_t threshold = -1;",
                "line": 433
            }},
            {"new": {
                "content": "    int32_t threshold = -1;",
                "line": 433
            }},
            {"old": {
                "content": "        threshold = mThresholds.Length();",
                "line": 437
            }},
            {"new": {
                "content": "        threshold = (int32_t)mThresholds.Length();",
                "line": 437
            }},
            {"old": {
                "content": "            threshold = k + 1;",
                "line": 441
            }},
            {"new": {
                "content": "            threshold = (int32_t)k + 1;",
                "line": 441
            }}
        ],
        "new": {"name": "/dom/base/DOMIntersectionObserver.cpp"},
        "old": {"name": "/dom/base/DOMIntersectionObserver.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "DispatcherTrait::Dispatch(const char* aName,",
                "line": 14
            }},
            {"old": {
                "content": "                          TaskCategory aCategory,",
                "line": 15
            }},
            {"new": {
                "content": "DispatcherTrait::Dispatch(TaskCategory aCategory,",
                "line": 14
            }},
            {"old": {
                "content": "  return SchedulerGroup::UnlabeledDispatch(aName, aCategory, Move(aRunnable));",
                "line": 18
            }},
            {"new": {
                "content": "  return SchedulerGroup::UnlabeledDispatch(aCategory, Move(aRunnable));",
                "line": 17
            }}
        ],
        "new": {"name": "/dom/base/DispatcherTrait.cpp"},
        "old": {"name": "/dom/base/DispatcherTrait.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  virtual nsresult Dispatch(const char* aName,",
                "line": 28
            }},
            {"old": {
                "content": "                            TaskCategory aCategory,",
                "line": 29
            }},
            {"new": {
                "content": "  virtual nsresult Dispatch(TaskCategory aCategory,",
                "line": 28
            }}
        ],
        "new": {"name": "/dom/base/DispatcherTrait.h"},
        "old": {"name": "/dom/base/DispatcherTrait.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "DocGroup::Dispatch(const char* aName,",
                "line": 56
            }},
            {"old": {
                "content": "                   TaskCategory aCategory,",
                "line": 57
            }},
            {"new": {
                "content": "DocGroup::Dispatch(TaskCategory aCategory,",
                "line": 56
            }},
            {"old": {
                "content": "  return mTabGroup->Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 60
            }},
            {"new": {
                "content": "  return mTabGroup->Dispatch(aCategory, Move(aRunnable));",
                "line": 59
            }}
        ],
        "new": {"name": "/dom/base/DocGroup.cpp"},
        "old": {"name": "/dom/base/DocGroup.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsresult Dispatch(const char* aName,",
                "line": 81
            }},
            {"old": {
                "content": "                    TaskCategory aCategory,",
                "line": 82
            }},
            {"new": {
                "content": "  nsresult Dispatch(TaskCategory aCategory,",
                "line": 81
            }}
        ],
        "new": {"name": "/dom/base/DocGroup.h"},
        "old": {"name": "/dom/base/DocGroup.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 52
            }},
            {"new": {
                "content": "                              , public nsINamed",
                "line": 197
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 282
            }},
            {"new": {
                "content": "  {",
                "line": 283
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"nsAutoScrollTimer\");",
                "line": 284
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 285
            }},
            {"new": {
                "content": "  }",
                "line": 286
            }},
            {"new": {
                "content": "",
                "line": 287
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsAutoScrollTimer, nsITimerCallback)",
                "line": 300
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsAutoScrollTimer, nsITimerCallback, nsINamed)",
                "line": 308
            }}
        ],
        "new": {"name": "/dom/base/Selection.cpp"},
        "old": {"name": "/dom/base/Selection.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 244
            }},
            {"old": {
                "content": "TimeoutExecutor::SetName(const char* aName)",
                "line": 245
            }},
            {"old": {
                "content": "{",
                "line": 246
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 247
            }},
            {"old": {
                "content": "}",
                "line": 248
            }},
            {"old": {
                "content": "",
                "line": 249
            }}
        ],
        "new": {"name": "/dom/base/TimeoutExecutor.cpp"},
        "old": {"name": "/dom/base/TimeoutExecutor.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsIDocShell.h\"",
                "line": 11
            }},
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 12
            }},
            {"old": {
                "content": "  // * If it is using user media",
                "line": 108
            }},
            {"old": {
                "content": "  // * If it is using WebRTC",
                "line": 109
            }},
            {"old": {
                "content": "  // * If it has open WebSockets",
                "line": 110
            }},
            {"old": {
                "content": "  // * If it has active IndexedDB databases",
                "line": 111
            }},
            {"old": {
                "content": "  // Check if there are any active IndexedDB databases",
                "line": 122
            }},
            {"old": {
                "content": "  if (mWindow.AsInner()->HasActiveIndexedDBDatabases()) {",
                "line": 123
            }},
            {"old": {
                "content": "    return true;",
                "line": 124
            }},
            {"old": {
                "content": "  }",
                "line": 125
            }},
            {"old": {
                "content": "",
                "line": 126
            }},
            {"old": {
                "content": "  // Check if we have active GetUserMedia",
                "line": 127
            }},
            {"old": {
                "content": "  if (MediaManager::Exists() &&",
                "line": 128
            }},
            {"old": {
                "content": "      MediaManager::Get()->IsWindowStillActive(mWindow.WindowID())) {",
                "line": 129
            }},
            {"old": {
                "content": "    return true;",
                "line": 130
            }},
            {"old": {
                "content": "  }",
                "line": 131
            }},
            {"old": {
                "content": "",
                "line": 132
            }},
            {"old": {
                "content": "  bool active = false;",
                "line": 133
            }},
            {"old": {
                "content": "#if 0",
                "line": 134
            }},
            {"old": {
                "content": "  // Check if we have active PeerConnections This doesn't actually",
                "line": 135
            }},
            {"old": {
                "content": "  // work, since we sometimes call IsActive from Resume, which in turn",
                "line": 136
            }},
            {"old": {
                "content": "  // is sometimes called from nsGlobalWindow::LeaveModalState. The",
                "line": 137
            }},
            {"old": {
                "content": "  // problem here is that LeaveModalState can be called with pending",
                "line": 138
            }},
            {"old": {
                "content": "  // exeptions on the js context, and the following call to",
                "line": 139
            }},
            {"old": {
                "content": "  // HasActivePeerConnection is a JS call, which will assert on that",
                "line": 140
            }},
            {"old": {
                "content": "  // exception. Also, calling JS is expensive so we should try to fix",
                "line": 141
            }},
            {"old": {
                "content": "  // this in some other way.",
                "line": 142
            }},
            {"old": {
                "content": "  nsCOMPtr<IPeerConnectionManager> pcManager =",
                "line": 143
            }},
            {"old": {
                "content": "    do_GetService(IPEERCONNECTION_MANAGER_CONTRACTID);",
                "line": 144
            }},
            {"old": {
                "content": "",
                "line": 145
            }},
            {"old": {
                "content": "  if (pcManager && NS_SUCCEEDED(pcManager->HasActivePeerConnection(",
                "line": 146
            }},
            {"old": {
                "content": "                     mWindow.WindowID(), &active)) &&",
                "line": 147
            }},
            {"old": {
                "content": "      active) {",
                "line": 148
            }},
            {"old": {
                "content": "    return true;",
                "line": 149
            }},
            {"old": {
                "content": "  }",
                "line": 150
            }},
            {"old": {
                "content": "#endif // MOZ_WEBRTC",
                "line": 151
            }},
            {"old": {
                "content": "",
                "line": 152
            }},
            {"old": {
                "content": "  // Check if we have web sockets",
                "line": 153
            }},
            {"old": {
                "content": "  RefPtr<WebSocketEventService> eventService = WebSocketEventService::Get();",
                "line": 154
            }},
            {"old": {
                "content": "  if (eventService &&",
                "line": 155
            }},
            {"old": {
                "content": "      NS_SUCCEEDED(eventService->HasListenerFor(mWindow.WindowID(), &active)) &&",
                "line": 156
            }},
            {"old": {
                "content": "      active) {",
                "line": 157
            }},
            {"old": {
                "content": "    return true;",
                "line": 158
            }},
            {"old": {
                "content": "  }",
                "line": 159
            }},
            {"old": {
                "content": "",
                "line": 160
            }},
            {"old": {
                "content": "  if (mBudgetThrottleTimeouts && mExecutionBudget < TimeDuration()) {",
                "line": 248
            }},
            {"new": {
                "content": "  if (BudgetThrottlingEnabled() && mExecutionBudget < TimeDuration()) {",
                "line": 207
            }},
            {"old": {
                "content": "  if (mBudgetThrottleTimeouts) {",
                "line": 374
            }},
            {"new": {
                "content": "  if (BudgetThrottlingEnabled()) {",
                "line": 333
            }},
            {"new": {
                "content": "                                     , public nsINamed",
                "line": 1168
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 1178
            }},
            {"new": {
                "content": "  {",
                "line": 1179
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"ThrottleTimeoutsCallback\");",
                "line": 1180
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 1181
            }},
            {"new": {
                "content": "  }",
                "line": 1182
            }},
            {"new": {
                "content": "",
                "line": 1183
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(ThrottleTimeoutsCallback, nsITimerCallback)",
                "line": 1225
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(ThrottleTimeoutsCallback, nsITimerCallback, nsINamed)",
                "line": 1191
            }},
            {"new": {
                "content": "bool",
                "line": 1200
            }},
            {"new": {
                "content": "TimeoutManager::BudgetThrottlingEnabled() const",
                "line": 1201
            }},
            {"new": {
                "content": "{",
                "line": 1202
            }},
            {"new": {
                "content": "  // A window can be throttled using budget if",
                "line": 1203
            }},
            {"new": {
                "content": "  // * It isn't active",
                "line": 1204
            }},
            {"new": {
                "content": "  // * If it isn't using user media",
                "line": 1205
            }},
            {"new": {
                "content": "  // * If it isn't using WebRTC",
                "line": 1206
            }},
            {"new": {
                "content": "  // * If it hasn't got open WebSockets",
                "line": 1207
            }},
            {"new": {
                "content": "  // * If it hasn't got active IndexedDB databases",
                "line": 1208
            }},
            {"new": {
                "content": "  //",
                "line": 1209
            }},
            {"new": {
                "content": "  // Note that we allow both foreground and background to be",
                "line": 1210
            }},
            {"new": {
                "content": "  // considered for budget throttling. What determines if they are if",
                "line": 1211
            }},
            {"new": {
                "content": "  // budget throttling is enabled is the regeneration factor.",
                "line": 1212
            }},
            {"new": {
                "content": "",
                "line": 1213
            }},
            {"new": {
                "content": "  if (!mBudgetThrottleTimeouts || IsActive()) {",
                "line": 1214
            }},
            {"new": {
                "content": "    return false;",
                "line": 1215
            }},
            {"new": {
                "content": "  }",
                "line": 1216
            }},
            {"new": {
                "content": "",
                "line": 1217
            }},
            {"new": {
                "content": "  // Check if there are any active IndexedDB databases",
                "line": 1218
            }},
            {"new": {
                "content": "  if (mWindow.AsInner()->HasActiveIndexedDBDatabases()) {",
                "line": 1219
            }},
            {"new": {
                "content": "    return false;",
                "line": 1220
            }},
            {"new": {
                "content": "  }",
                "line": 1221
            }},
            {"new": {
                "content": "",
                "line": 1222
            }},
            {"new": {
                "content": "  // Check if we have active GetUserMedia",
                "line": 1223
            }},
            {"new": {
                "content": "  if (MediaManager::Exists() &&",
                "line": 1224
            }},
            {"new": {
                "content": "      MediaManager::Get()->IsWindowStillActive(mWindow.WindowID())) {",
                "line": 1225
            }},
            {"new": {
                "content": "    return false;",
                "line": 1226
            }},
            {"new": {
                "content": "  }",
                "line": 1227
            }},
            {"new": {
                "content": "",
                "line": 1228
            }},
            {"new": {
                "content": "  bool active = false;",
                "line": 1229
            }},
            {"new": {
                "content": "#if 0",
                "line": 1230
            }},
            {"new": {
                "content": "  // Check if we have active PeerConnections This doesn't actually",
                "line": 1231
            }},
            {"new": {
                "content": "  // work, since we sometimes call IsActive from Resume, which in turn",
                "line": 1232
            }},
            {"new": {
                "content": "  // is sometimes called from nsGlobalWindow::LeaveModalState. The",
                "line": 1233
            }},
            {"new": {
                "content": "  // problem here is that LeaveModalState can be called with pending",
                "line": 1234
            }},
            {"new": {
                "content": "  // exeptions on the js context, and the following call to",
                "line": 1235
            }},
            {"new": {
                "content": "  // HasActivePeerConnection is a JS call, which will assert on that",
                "line": 1236
            }},
            {"new": {
                "content": "  // exception. Also, calling JS is expensive so we should try to fix",
                "line": 1237
            }},
            {"new": {
                "content": "  // this in some other way.",
                "line": 1238
            }},
            {"new": {
                "content": "  nsCOMPtr<IPeerConnectionManager> pcManager =",
                "line": 1239
            }},
            {"new": {
                "content": "    do_GetService(IPEERCONNECTION_MANAGER_CONTRACTID);",
                "line": 1240
            }},
            {"new": {
                "content": "",
                "line": 1241
            }},
            {"new": {
                "content": "  if (pcManager && NS_SUCCEEDED(pcManager->HasActivePeerConnection(",
                "line": 1242
            }},
            {"new": {
                "content": "                     mWindow.WindowID(), &active)) &&",
                "line": 1243
            }},
            {"new": {
                "content": "      active) {",
                "line": 1244
            }},
            {"new": {
                "content": "    return false;",
                "line": 1245
            }},
            {"new": {
                "content": "  }",
                "line": 1246
            }},
            {"new": {
                "content": "#endif // MOZ_WEBRTC",
                "line": 1247
            }},
            {"new": {
                "content": "",
                "line": 1248
            }},
            {"new": {
                "content": "  // Check if we have web sockets",
                "line": 1249
            }},
            {"new": {
                "content": "  RefPtr<WebSocketEventService> eventService = WebSocketEventService::Get();",
                "line": 1250
            }},
            {"new": {
                "content": "  if (eventService &&",
                "line": 1251
            }},
            {"new": {
                "content": "      NS_SUCCEEDED(eventService->HasListenerFor(mWindow.WindowID(), &active)) &&",
                "line": 1252
            }},
            {"new": {
                "content": "      active) {",
                "line": 1253
            }},
            {"new": {
                "content": "    return false;",
                "line": 1254
            }},
            {"new": {
                "content": "  }",
                "line": 1255
            }},
            {"new": {
                "content": "",
                "line": 1256
            }},
            {"new": {
                "content": "  return true;",
                "line": 1257
            }},
            {"new": {
                "content": "}",
                "line": 1258
            }},
            {"new": {
                "content": "",
                "line": 1259
            }}
        ],
        "new": {"name": "/dom/base/TimeoutManager.cpp"},
        "old": {"name": "/dom/base/TimeoutManager.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  bool BudgetThrottlingEnabled() const;",
                "line": 147
            }},
            {"new": {
                "content": "",
                "line": 148
            }}
        ],
        "new": {"name": "/dom/base/TimeoutManager.h"},
        "old": {"name": "/dom/base/TimeoutManager.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsCacheableFuncStringNodeList::sType = nsCacheableFuncStringContentList::eNodeList;",
                "line": 249
            }},
            {"new": {
                "content": "  nsCachableElementsByNameNodeList::sType = nsCacheableFuncStringContentList::eNodeList;",
                "line": 249
            }},
            {"new": {
                "content": "// Explicit instantiations to avoid link errors",
                "line": 337
            }},
            {"new": {
                "content": "template",
                "line": 338
            }},
            {"old": {
                "content": "NS_GetFuncStringNodeList(nsINode* aRootNode,",
                "line": 338
            }},
            {"old": {
                "content": "                         nsContentListMatchFunc aFunc,",
                "line": 339
            }},
            {"old": {
                "content": "                         nsContentListDestroyFunc aDestroyFunc,",
                "line": 340
            }},
            {"old": {
                "content": "                         nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 341
            }},
            {"old": {
                "content": "                         const nsAString& aString)",
                "line": 342
            }},
            {"old": {
                "content": "{",
                "line": 343
            }},
            {"old": {
                "content": "  return GetFuncStringContentList<nsCacheableFuncStringNodeList>(aRootNode,",
                "line": 344
            }},
            {"old": {
                "content": "                                                                 aFunc,",
                "line": 345
            }},
            {"old": {
                "content": "                                                                 aDestroyFunc,",
                "line": 346
            }},
            {"old": {
                "content": "                                                                 aDataAllocator,",
                "line": 347
            }},
            {"old": {
                "content": "                                                                 aString);",
                "line": 348
            }},
            {"old": {
                "content": "}",
                "line": 349
            }},
            {"old": {
                "content": "",
                "line": 350
            }},
            {"new": {
                "content": "GetFuncStringContentList<nsCachableElementsByNameNodeList>(nsINode* aRootNode,",
                "line": 340
            }},
            {"new": {
                "content": "                                                           nsContentListMatchFunc aFunc,",
                "line": 341
            }},
            {"new": {
                "content": "                                                           nsContentListDestroyFunc aDestroyFunc,",
                "line": 342
            }},
            {"new": {
                "content": "                                                           nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 343
            }},
            {"new": {
                "content": "                                                           const nsAString& aString);",
                "line": 344
            }},
            {"new": {
                "content": "template",
                "line": 345
            }},
            {"old": {
                "content": "NS_GetFuncStringHTMLCollection(nsINode* aRootNode,",
                "line": 352
            }},
            {"old": {
                "content": "                               nsContentListMatchFunc aFunc,",
                "line": 353
            }},
            {"old": {
                "content": "                               nsContentListDestroyFunc aDestroyFunc,",
                "line": 354
            }},
            {"old": {
                "content": "                               nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 355
            }},
            {"old": {
                "content": "                               const nsAString& aString)",
                "line": 356
            }},
            {"old": {
                "content": "{",
                "line": 357
            }},
            {"old": {
                "content": "  return GetFuncStringContentList<nsCacheableFuncStringHTMLCollection>(aRootNode,",
                "line": 358
            }},
            {"old": {
                "content": "                                                                       aFunc,",
                "line": 359
            }},
            {"old": {
                "content": "                                                                       aDestroyFunc,",
                "line": 360
            }},
            {"old": {
                "content": "                                                                       aDataAllocator,",
                "line": 361
            }},
            {"old": {
                "content": "                                                                       aString);",
                "line": 362
            }},
            {"old": {
                "content": "}",
                "line": 363
            }},
            {"new": {
                "content": "GetFuncStringContentList<nsCacheableFuncStringHTMLCollection>(nsINode* aRootNode,",
                "line": 347
            }},
            {"new": {
                "content": "                                                              nsContentListMatchFunc aFunc,",
                "line": 348
            }},
            {"new": {
                "content": "                                                              nsContentListDestroyFunc aDestroyFunc,",
                "line": 349
            }},
            {"new": {
                "content": "                                                              nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 350
            }},
            {"new": {
                "content": "                                                              const nsAString& aString);",
                "line": 351
            }},
            {"old": {
                "content": "// nsCacheableFuncStringNodeList",
                "line": 1076
            }},
            {"new": {
                "content": "// nsCachableElementsByNameNodeList",
                "line": 1064
            }},
            {"old": {
                "content": "nsCacheableFuncStringNodeList::WrapObject(JSContext *cx, JS::Handle<JSObject*> aGivenProto)",
                "line": 1078
            }},
            {"new": {
                "content": "nsCachableElementsByNameNodeList::WrapObject(JSContext *cx, JS::Handle<JSObject*> aGivenProto)",
                "line": 1066
            }},
            {"new": {
                "content": "void",
                "line": 1070
            }},
            {"new": {
                "content": "nsCachableElementsByNameNodeList::AttributeChanged(nsIDocument* aDocument,",
                "line": 1071
            }},
            {"new": {
                "content": "                                                   Element* aElement,",
                "line": 1072
            }},
            {"new": {
                "content": "                                                   int32_t aNameSpaceID,",
                "line": 1073
            }},
            {"new": {
                "content": "                                                   nsIAtom* aAttribute,",
                "line": 1074
            }},
            {"new": {
                "content": "                                                   int32_t aModType,",
                "line": 1075
            }},
            {"new": {
                "content": "                                                   const nsAttrValue* aOldValue)",
                "line": 1076
            }},
            {"new": {
                "content": "{",
                "line": 1077
            }},
            {"new": {
                "content": "  // No need to rebuild the list if the changed attribute is not the name",
                "line": 1078
            }},
            {"new": {
                "content": "  // attribute.",
                "line": 1079
            }},
            {"new": {
                "content": "  if (aAttribute != nsGkAtoms::name) {",
                "line": 1080
            }},
            {"new": {
                "content": "    return;",
                "line": 1081
            }},
            {"new": {
                "content": "  }",
                "line": 1082
            }},
            {"new": {
                "content": "",
                "line": 1083
            }},
            {"new": {
                "content": "  nsCacheableFuncStringContentList::AttributeChanged(aDocument, aElement,",
                "line": 1084
            }},
            {"new": {
                "content": "                                                     aNameSpaceID, aAttribute,",
                "line": 1085
            }},
            {"new": {
                "content": "                                                     aModType, aOldValue);",
                "line": 1086
            }},
            {"new": {
                "content": "}",
                "line": 1087
            }},
            {"new": {
                "content": "",
                "line": 1088
            }}
        ],
        "new": {"name": "/dom/base/nsContentList.cpp"},
        "old": {"name": "/dom/base/nsContentList.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "class nsCacheableFuncStringNodeList",
                "line": 546
            }},
            {"new": {
                "content": "class nsCachableElementsByNameNodeList",
                "line": 546
            }},
            {"old": {
                "content": "  nsCacheableFuncStringNodeList(nsINode* aRootNode,",
                "line": 550
            }},
            {"old": {
                "content": "                                nsContentListMatchFunc aFunc,",
                "line": 551
            }},
            {"old": {
                "content": "                                nsContentListDestroyFunc aDestroyFunc,",
                "line": 552
            }},
            {"old": {
                "content": "                                nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 553
            }},
            {"old": {
                "content": "                                const nsAString& aString)",
                "line": 554
            }},
            {"new": {
                "content": "  nsCachableElementsByNameNodeList(nsINode* aRootNode,",
                "line": 550
            }},
            {"new": {
                "content": "                                   nsContentListMatchFunc aFunc,",
                "line": 551
            }},
            {"new": {
                "content": "                                   nsContentListDestroyFunc aDestroyFunc,",
                "line": 552
            }},
            {"new": {
                "content": "                                   nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 553
            }},
            {"new": {
                "content": "                                   const nsAString& aString)",
                "line": 554
            }},
            {"new": {
                "content": "  NS_DECL_NSIMUTATIONOBSERVER_ATTRIBUTECHANGED",
                "line": 562
            }},
            {"new": {
                "content": "",
                "line": 563
            }}
        ],
        "new": {"name": "/dom/base/nsContentList.h"},
        "old": {"name": "/dom/base/nsContentList.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "template<class ListType>",
                "line": 58
            }},
            {"old": {
                "content": "NS_GetFuncStringNodeList(nsINode* aRootNode,",
                "line": 59
            }},
            {"new": {
                "content": "GetFuncStringContentList(nsINode* aRootNode,",
                "line": 60
            }},
            {"old": {
                "content": "already_AddRefed<nsContentList>",
                "line": 64
            }},
            {"old": {
                "content": "NS_GetFuncStringHTMLCollection(nsINode* aRootNode,",
                "line": 65
            }},
            {"old": {
                "content": "                               nsContentListMatchFunc aFunc,",
                "line": 66
            }},
            {"old": {
                "content": "                               nsContentListDestroyFunc aDestroyFunc,",
                "line": 67
            }},
            {"old": {
                "content": "                               nsFuncStringContentListDataAllocator aDataAllocator,",
                "line": 68
            }},
            {"old": {
                "content": "                               const nsAString& aString);",
                "line": 69
            }}
        ],
        "new": {"name": "/dom/base/nsContentListDeclarations.h"},
        "old": {"name": "/dom/base/nsContentListDeclarations.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 1660
            }},
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 1661
            }},
            {"old": {
                "content": "nsContentSink::SetName(const char* aName)",
                "line": 1662
            }},
            {"old": {
                "content": "{",
                "line": 1663
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 1664
            }},
            {"old": {
                "content": "}",
                "line": 1665
            }}
        ],
        "new": {"name": "/dom/base/nsContentSink.cpp"},
        "old": {"name": "/dom/base/nsContentSink.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "class nsCacheableFuncStringHTMLCollection;",
                "line": 56
            }},
            {"old": {
                "content": "    return NS_GetFuncStringHTMLCollection(aRootNode, MatchClassNames,",
                "line": 2084
            }},
            {"old": {
                "content": "                                          DestroyClassNameArray,",
                "line": 2085
            }},
            {"old": {
                "content": "                                          AllocClassMatchingInfo,",
                "line": 2086
            }},
            {"old": {
                "content": "                                          aClasses);",
                "line": 2087
            }},
            {"new": {
                "content": "    return GetFuncStringContentList<nsCacheableFuncStringHTMLCollection>(aRootNode,",
                "line": 2085
            }},
            {"new": {
                "content": "                                                                         MatchClassNames,",
                "line": 2086
            }},
            {"new": {
                "content": "                                                                         DestroyClassNameArray,",
                "line": 2087
            }},
            {"new": {
                "content": "                                                                         AllocClassMatchingInfo,",
                "line": 2088
            }},
            {"new": {
                "content": "                                                                         aClasses);",
                "line": 2089
            }}
        ],
        "new": {"name": "/dom/base/nsContentUtils.h"},
        "old": {"name": "/dom/base/nsContentUtils.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "      aWin->GetDoc()->WarnOnceAbout(nsIDocument::eWindow_Controllers);",
                "line": 1584
            }},
            {"new": {
                "content": "      aWin->GetDoc()->WarnOnceAbout(nsIDocument::eWindow_Cc_ontrollers);",
                "line": 1584
            }}
        ],
        "new": {"name": "/dom/base/nsDOMClassInfo.cpp"},
        "old": {"name": "/dom/base/nsDOMClassInfo.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "DEPRECATED_OPERATION(Window_Controllers)",
                "line": 39
            }},
            {"new": {
                "content": "DEPRECATED_OPERATION(Window_Cc_ontrollers)",
                "line": 39
            }}
        ],
        "new": {"name": "/dom/base/nsDeprecatedOperationList.h"},
        "old": {"name": "/dom/base/nsDeprecatedOperationList.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "nsIDocument::Dispatch(const char* aName,",
                "line": 3050
            }},
            {"old": {
                "content": "                      TaskCategory aCategory,",
                "line": 3051
            }},
            {"new": {
                "content": "nsIDocument::Dispatch(TaskCategory aCategory,",
                "line": 3050
            }},
            {"old": {
                "content": "    return mDocGroup->Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 3056
            }},
            {"old": {
                "content": "  }",
                "line": 3057
            }},
            {"old": {
                "content": "  return DispatcherTrait::Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 3058
            }},
            {"new": {
                "content": "    return mDocGroup->Dispatch(aCategory, Move(aRunnable));",
                "line": 3055
            }},
            {"new": {
                "content": "  }",
                "line": 3056
            }},
            {"new": {
                "content": "  return DispatcherTrait::Dispatch(aCategory, Move(aRunnable));",
                "line": 3057
            }},
            {"old": {
                "content": "        Dispatch(\"nsDocument::NotifyStyleSheetApplicableStateChanged\",",
                "line": 4461
            }},
            {"old": {
                "content": "                 TaskCategory::Other, notification.forget()));",
                "line": 4462
            }},
            {"new": {
                "content": "        Dispatch(TaskCategory::Other, notification.forget()));",
                "line": 4460
            }},
            {"old": {
                "content": "    Dispatch(\"nsDocument::DispatchContentLoadedEvents\", TaskCategory::Other, ev.forget());",
                "line": 5408
            }},
            {"new": {
                "content": "    Dispatch(TaskCategory::Other, ev.forget());",
                "line": 5406
            }},
            {"old": {
                "content": "  nsresult rv = Dispatch(\"nsDocument::DoNotifyPossibleTitleChange\",",
                "line": 7048
            }},
            {"old": {
                "content": "                         TaskCategory::Other, do_AddRef(event));",
                "line": 7049
            }},
            {"new": {
                "content": "  nsresult rv = Dispatch(TaskCategory::Other, do_AddRef(event));",
                "line": 7046
            }},
            {"old": {
                "content": "    Dispatch(\"nsUnblockOnloadEvent\", TaskCategory::Other, evt.forget());",
                "line": 8895
            }},
            {"new": {
                "content": "    Dispatch(TaskCategory::Other, evt.forget());",
                "line": 8892
            }},
            {"old": {
                "content": "    Dispatch(\"nsDelayedEventDispatcher\", TaskCategory::Other, ded.forget());",
                "line": 9806
            }},
            {"new": {
                "content": "    Dispatch(TaskCategory::Other, ded.forget());",
                "line": 9803
            }},
            {"old": {
                "content": "    aDoc->Dispatch(\"nsCallExitFullscreen\", TaskCategory::Other, exit.forget());",
                "line": 10959
            }},
            {"new": {
                "content": "    aDoc->Dispatch(TaskCategory::Other, exit.forget());",
                "line": 10956
            }},
            {"old": {
                "content": "  Dispatch(\"nsCallRequestFullScreen\", TaskCategory::Other, event.forget());",
                "line": 11240
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory::Other, event.forget());",
                "line": 11237
            }},
            {"old": {
                "content": "  Dispatch(\"PointerLockRequest\", TaskCategory::Other, request.forget());",
                "line": 12117
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory::Other, request.forget());",
                "line": 12114
            }},
            {"old": {
                "content": "  Dispatch(\"nsDocument::UpdateVisibilityState\", TaskCategory::Other, event.forget());",
                "line": 12302
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory::Other, event.forget());",
                "line": 12299
            }},
            {"old": {
                "content": "  Dispatch(\"nsDocument::IntersectionObserverNotification\", TaskCategory::Other,",
                "line": 12850
            }},
            {"old": {
                "content": "           notification.forget());",
                "line": 12851
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory::Other, notification.forget());",
                "line": 12847
            }},
            {"old": {
                "content": "    if (NS_SUCCEEDED(Dispatch(\"nsIDocument::HandleRebuildUserFontSet\",",
                "line": 13142
            }},
            {"old": {
                "content": "                              TaskCategory::Other, ev.forget()))) {",
                "line": 13143
            }},
            {"new": {
                "content": "    if (NS_SUCCEEDED(Dispatch(TaskCategory::Other, ev.forget()))) {",
                "line": 13138
            }}
        ],
        "new": {"name": "/dom/base/nsDocument.cpp"},
        "old": {"name": "/dom/base/nsDocument.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "GK_ATOM(onvisibilitychange, \"onvisibilitychange\")",
                "line": 1036
            }}
        ],
        "new": {"name": "/dom/base/nsGkAtomList.h"},
        "old": {"name": "/dom/base/nsGkAtomList.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/dom/StorageUtils.h\"",
                "line": 26
            }},
            {"old": {
                "content": "  virtual nsIEventTarget*",
                "line": 499
            }},
            {"new": {
                "content": "  nsIPrincipal*",
                "line": 500
            }},
            {"new": {
                "content": "  GetPrincipal() const override",
                "line": 501
            }},
            {"new": {
                "content": "  {",
                "line": 502
            }},
            {"new": {
                "content": "    return mWindow ? mWindow->GetPrincipal() : nullptr;",
                "line": 503
            }},
            {"new": {
                "content": "  }",
                "line": 504
            }},
            {"new": {
                "content": "",
                "line": 505
            }},
            {"new": {
                "content": "  bool",
                "line": 506
            }},
            {"new": {
                "content": "  IsPrivateBrowsing() const override",
                "line": 507
            }},
            {"new": {
                "content": "  {",
                "line": 508
            }},
            {"new": {
                "content": "    return mWindow ? mWindow->IsPrivateBrowsing() : false;",
                "line": 509
            }},
            {"new": {
                "content": "  }",
                "line": 510
            }},
            {"new": {
                "content": "",
                "line": 511
            }},
            {"new": {
                "content": "  nsIEventTarget*",
                "line": 512
            }},
            {"old": {
                "content": "IdleRequestExecutor::SetName(const char* aName)",
                "line": 682
            }},
            {"old": {
                "content": "{",
                "line": 683
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 684
            }},
            {"old": {
                "content": "}",
                "line": 685
            }},
            {"old": {
                "content": "",
                "line": 686
            }},
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 687
            }},
            {"old": {
                "content": "  aError = Dispatch(\"PostMessageEvent\", TaskCategory::Other, event.forget());",
                "line": 9242
            }},
            {"new": {
                "content": "  aError = Dispatch(TaskCategory::Other, event.forget());",
                "line": 9249
            }},
            {"old": {
                "content": "      aWindow->Dispatch(\"nsCloseEvent\", TaskCategory::Other, ev.forget());",
                "line": 9294
            }},
            {"new": {
                "content": "      aWindow->Dispatch(TaskCategory::Other, ev.forget());",
                "line": 9301
            }},
            {"old": {
                "content": "  nsresult rv =",
                "line": 9826
            }},
            {"old": {
                "content": "    Dispatch(\"WindowDestroyedEvent\", TaskCategory::Other, runnable.forget());",
                "line": 9827
            }},
            {"new": {
                "content": "  nsresult rv = Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 9833
            }},
            {"old": {
                "content": "  return Dispatch(\"HashchangeCallback\", TaskCategory::Other, callback.forget());",
                "line": 11094
            }},
            {"new": {
                "content": "  return Dispatch(TaskCategory::Other, callback.forget());",
                "line": 11100
            }},
            {"old": {
                "content": "  if (NS_FAILED(Dispatch(\"NotifyIdleObserverRunnable\", TaskCategory::Other,",
                "line": 11695
            }},
            {"old": {
                "content": "                         caller.forget()))) {",
                "line": 11696
            }},
            {"new": {
                "content": "  if (NS_FAILED(Dispatch(TaskCategory::Other, caller.forget()))) {",
                "line": 11701
            }},
            {"old": {
                "content": "  // Enforce that the source storage area's private browsing state matches",
                "line": 12372
            }},
            {"old": {
                "content": "  // this window's state.  These flag checks and their maintenance independent",
                "line": 12373
            }},
            {"old": {
                "content": "  // from the principal's OriginAttributes matter because chrome docshells",
                "line": 12374
            }},
            {"old": {
                "content": "  // that are part of private browsing windows can be private browsing without",
                "line": 12375
            }},
            {"old": {
                "content": "  // having their OriginAttributes set (because they have the system",
                "line": 12376
            }},
            {"old": {
                "content": "  // principal).",
                "line": 12377
            }},
            {"old": {
                "content": "  bool isPrivateBrowsing = IsPrivateBrowsing();",
                "line": 12378
            }},
            {"old": {
                "content": "  if (isPrivateBrowsing != aPrivateBrowsing) {",
                "line": 12379
            }},
            {"old": {
                "content": "    return;",
                "line": 12380
            }},
            {"old": {
                "content": "  }",
                "line": 12381
            }},
            {"new": {
                "content": "  MOZ_DIAGNOSTIC_ASSERT(IsPrivateBrowsing() == aPrivateBrowsing);",
                "line": 12377
            }},
            {"old": {
                "content": "    nsIPrincipal* storagePrincipal = aEvent->GetPrincipal();",
                "line": 12434
            }},
            {"old": {
                "content": "    if (!storagePrincipal) {",
                "line": 12435
            }},
            {"old": {
                "content": "      return;",
                "line": 12436
            }},
            {"old": {
                "content": "    }",
                "line": 12437
            }},
            {"old": {
                "content": "",
                "line": 12438
            }},
            {"old": {
                "content": "    bool equals = false;",
                "line": 12439
            }},
            {"old": {
                "content": "    nsresult rv = storagePrincipal->Equals(principal, &equals);",
                "line": 12440
            }},
            {"old": {
                "content": "    NS_ENSURE_SUCCESS_VOID(rv);",
                "line": 12441
            }},
            {"old": {
                "content": "",
                "line": 12442
            }},
            {"old": {
                "content": "    if (!equals) {",
                "line": 12443
            }},
            {"old": {
                "content": "      return;",
                "line": 12444
            }},
            {"old": {
                "content": "    }",
                "line": 12445
            }},
            {"new": {
                "content": "",
                "line": 12430
            }},
            {"new": {
                "content": "    MOZ_DIAGNOSTIC_ASSERT(StorageUtils::PrincipalsEqual(aEvent->GetPrincipal(),",
                "line": 12431
            }},
            {"new": {
                "content": "                                                        principal));",
                "line": 12432
            }},
            {"old": {
                "content": "    mWin->Dispatch(\"nsGlobalWindow::UnblockScriptedClosing\",",
                "line": 12898
            }},
            {"old": {
                "content": "                   TaskCategory::Other, caller.forget());",
                "line": 12899
            }},
            {"new": {
                "content": "    mWin->Dispatch(TaskCategory::Other, caller.forget());",
                "line": 12885
            }},
            {"old": {
                "content": "nsGlobalWindow::Dispatch(const char* aName,",
                "line": 15401
            }},
            {"old": {
                "content": "                         TaskCategory aCategory,",
                "line": 15402
            }},
            {"new": {
                "content": "nsGlobalWindow::Dispatch(TaskCategory aCategory,",
                "line": 15387
            }},
            {"old": {
                "content": "    return GetDocGroup()->Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 15407
            }},
            {"old": {
                "content": "  }",
                "line": 15408
            }},
            {"old": {
                "content": "  return DispatcherTrait::Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 15409
            }},
            {"new": {
                "content": "    return GetDocGroup()->Dispatch(aCategory, Move(aRunnable));",
                "line": 15392
            }},
            {"new": {
                "content": "  }",
                "line": 15393
            }},
            {"new": {
                "content": "  return DispatcherTrait::Dispatch(aCategory, Move(aRunnable));",
                "line": 15394
            }}
        ],
        "new": {"name": "/dom/base/nsGlobalWindow.cpp"},
        "old": {"name": "/dom/base/nsGlobalWindow.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  virtual nsresult Dispatch(const char* aName,",
                "line": 1828
            }},
            {"old": {
                "content": "                            mozilla::TaskCategory aCategory,",
                "line": 1829
            }},
            {"new": {
                "content": "  virtual nsresult Dispatch(mozilla::TaskCategory aCategory,",
                "line": 1828
            }}
        ],
        "new": {"name": "/dom/base/nsGlobalWindow.h"},
        "old": {"name": "/dom/base/nsGlobalWindow.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  virtual nsresult Dispatch(const char* aName,",
                "line": 2937
            }},
            {"old": {
                "content": "                            mozilla::TaskCategory aCategory,",
                "line": 2938
            }},
            {"new": {
                "content": "  virtual nsresult Dispatch(mozilla::TaskCategory aCategory,",
                "line": 2937
            }}
        ],
        "new": {"name": "/dom/base/nsIDocument.h"},
        "old": {"name": "/dom/base/nsIDocument.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "         T* GetData(JSObject*, bool* isShared, const JS::AutoCheckCannotGC&),",
                "line": 198
            }},
            {"new": {
                "content": "         T* GetData(JSObject*, bool* isShared, const JS::AutoRequireNoGC&),",
                "line": 198
            }}
        ],
        "new": {"name": "/dom/bindings/TypedArray.h"},
        "old": {"name": "/dom/bindings/TypedArray.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 6
            }},
            {"new": {
                "content": "                               , public nsINamed",
                "line": 13
            }},
            {"new": {
                "content": "    NS_IMETHOD GetName(nsACString& aName) override",
                "line": 21
            }},
            {"new": {
                "content": "    {",
                "line": 22
            }},
            {"new": {
                "content": "      aName.AssignLiteral(\"WatchdogTimerEvent\");",
                "line": 23
            }},
            {"new": {
                "content": "      return NS_OK;",
                "line": 24
            }},
            {"new": {
                "content": "    }",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(WatchdogTimerEvent, nsITimerCallback, nsISupports)",
                "line": 28
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(WatchdogTimerEvent, nsITimerCallback, nsINamed)",
                "line": 36
            }}
        ],
        "new": {"name": "/dom/canvas/WebGLContextLossHandler.cpp"},
        "old": {"name": "/dom/canvas/WebGLContextLossHandler.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    gImage.crossOrigin = \"anonymous\";",
                "line": 41
            }},
            {"old": {
                "content": "}",
                "line": 93
            }},
            {"new": {
                "content": "}",
                "line": 92
            }}
        ],
        "new": {"name": "/dom/canvas/test/imagebitmap_extensions_prepareSources.js"},
        "old": {"name": "/dom/canvas/test/imagebitmap_extensions_prepareSources.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "img.crossOrigin = \"anonymous\";",
                "line": 39
            }}
        ],
        "new": {"name": "/dom/canvas/test/test_2d.fill.pattern.imageSmoothingEnabled.html"},
        "old": {"name": "/dom/canvas/test/test_2d.fill.pattern.imageSmoothingEnabled.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "img.crossOrigin = \"anonymous\";",
                "line": 20889
            }},
            {"old": {
                "content": "img.crossOrigin = \"anonymous\";",
                "line": 21016
            }}
        ],
        "new": {"name": "/dom/canvas/test/test_canvas.html"},
        "old": {"name": "/dom/canvas/test/test_canvas.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "    gImage.crossOrigin = \"anonymous\";",
                "line": 163
            }}
        ],
        "new": {"name": "/dom/canvas/test/test_imagebitmap_cropping.html"},
        "old": {"name": "/dom/canvas/test/test_imagebitmap_cropping.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "    img.crossOrigin = \"anonymous\";",
                "line": 171
            }}
        ],
        "new": {"name": "/dom/canvas/test/test_toDataURL_alpha.html"},
        "old": {"name": "/dom/canvas/test/test_toDataURL_alpha.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      return global->Dispatch(\"AsyncEventDispatcher\", TaskCategory::Other, ensureDeletionWhenFailing.forget());",
                "line": 85
            }},
            {"new": {
                "content": "      return global->Dispatch(TaskCategory::Other, ensureDeletionWhenFailing.forget());",
                "line": 85
            }},
            {"old": {
                "content": "      return doc->Dispatch(\"AsyncEventDispatcher\", TaskCategory::Other, ensureDeletionWhenFailing.forget());",
                "line": 91
            }},
            {"new": {
                "content": "      return doc->Dispatch(TaskCategory::Other, ensureDeletionWhenFailing.forget());",
                "line": 91
            }}
        ],
        "new": {"name": "/dom/events/AsyncEventDispatcher.cpp"},
        "old": {"name": "/dom/events/AsyncEventDispatcher.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    rv = global->Dispatch(\"GASRunnable\", TaskCategory::Other, runnable.forget());",
                "line": 480
            }},
            {"new": {
                "content": "    rv = global->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 480
            }}
        ],
        "new": {"name": "/dom/events/DataTransferItem.cpp"},
        "old": {"name": "/dom/events/DataTransferItem.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      global->Dispatch(nullptr, TaskCategory::Other, runnable.forget());",
                "line": 372
            }},
            {"new": {
                "content": "      global->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 372
            }},
            {"old": {
                "content": "      node->OwnerDoc()->Dispatch(nullptr, TaskCategory::Other,",
                "line": 374
            }},
            {"old": {
                "content": "                                 runnable.forget());",
                "line": 375
            }},
            {"new": {
                "content": "      node->OwnerDoc()->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 374
            }}
        ],
        "new": {"name": "/dom/events/EventListenerService.cpp"},
        "old": {"name": "/dom/events/EventListenerService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "DOCUMENT_ONLY_EVENT(visibilitychange,",
                "line": 684
            }},
            {"new": {
                "content": "                    eVisibilityChange,",
                "line": 685
            }},
            {"new": {
                "content": "                    EventNameType_HTMLXUL,",
                "line": 686
            }},
            {"new": {
                "content": "                    eBasicEventClass)",
                "line": 687
            }},
            {"new": {
                "content": "",
                "line": 688
            }}
        ],
        "new": {"name": "/dom/events/EventNameList.h"},
        "old": {"name": "/dom/events/EventNameList.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 237
            }},
            {"old": {
                "content": "UITimerCallback::SetName(const char* aName)",
                "line": 238
            }},
            {"old": {
                "content": "{",
                "line": 239
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 240
            }},
            {"old": {
                "content": "}",
                "line": 241
            }},
            {"old": {
                "content": "",
                "line": 242
            }}
        ],
        "new": {"name": "/dom/events/EventStateManager.cpp"},
        "old": {"name": "/dom/events/EventStateManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    globalObject->Dispatch(nullptr, TaskCategory::Other,",
                "line": 1849
            }},
            {"new": {
                "content": "    globalObject->Dispatch(TaskCategory::Other,",
                "line": 1849
            }}
        ],
        "new": {"name": "/dom/events/IMEContentObserver.cpp"},
        "old": {"name": "/dom/events/IMEContentObserver.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 72
            }},
            {"new": {
                "content": "// nsINamed",
                "line": 684
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 685
            }},
            {"new": {
                "content": "FileReader::GetName(nsACString& aName)",
                "line": 686
            }},
            {"new": {
                "content": "{",
                "line": 687
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"FileReader\");",
                "line": 688
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 689
            }},
            {"new": {
                "content": "}",
                "line": 690
            }},
            {"new": {
                "content": "",
                "line": 691
            }}
        ],
        "new": {"name": "/dom/file/FileReader.cpp"},
        "old": {"name": "/dom/file/FileReader.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 12
            }},
            {"new": {
                "content": "                         public nsINamed,",
                "line": 42
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 53
            }}
        ],
        "new": {"name": "/dom/file/FileReader.h"},
        "old": {"name": "/dom/file/FileReader.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"IPCBlobInputStreamThread::Initialize\",",
                "line": 127
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 128
            }},
            {"old": {
                "content": "                          runnable.forget());",
                "line": 129
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 127
            }}
        ],
        "new": {"name": "/dom/file/ipc/IPCBlobInputStreamThread.cpp"},
        "old": {"name": "/dom/file/ipc/IPCBlobInputStreamThread.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  NS_IMETHOD",
                "line": 469
            }},
            {"old": {
                "content": "  SetName(const char* aName) override",
                "line": 470
            }},
            {"old": {
                "content": "  {",
                "line": 471
            }},
            {"old": {
                "content": "    MOZ_CRASH(\"The name shall never be set!\");",
                "line": 472
            }},
            {"old": {
                "content": "    return NS_OK;",
                "line": 473
            }},
            {"old": {
                "content": "  }",
                "line": 474
            }},
            {"old": {
                "content": "",
                "line": 475
            }}
        ],
        "new": {"name": "/dom/file/nsHostObjectProtocolHandler.cpp"},
        "old": {"name": "/dom/file/nsHostObjectProtocolHandler.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 27
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 161
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 182
            }},
            {"new": {
                "content": "  {",
                "line": 183
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"FlyWebMDNSService\");",
                "line": 184
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 185
            }},
            {"new": {
                "content": "  }",
                "line": 186
            }},
            {"new": {
                "content": "",
                "line": 187
            }},
            {"old": {
                "content": "                  nsITimerCallback)",
                "line": 297
            }},
            {"new": {
                "content": "                  nsITimerCallback,",
                "line": 305
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 306
            }}
        ],
        "new": {"name": "/dom/flyweb/FlyWebService.cpp"},
        "old": {"name": "/dom/flyweb/FlyWebService.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(MLSFallback, nsITimerCallback)",
                "line": 9
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(MLSFallback, nsITimerCallback, nsINamed)",
                "line": 9
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 59
            }},
            {"new": {
                "content": "MLSFallback::GetName(nsACString& aName)",
                "line": 60
            }},
            {"new": {
                "content": "{",
                "line": 61
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"MLSFallback\");",
                "line": 62
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 63
            }},
            {"new": {
                "content": "}",
                "line": 64
            }},
            {"new": {
                "content": "",
                "line": 65
            }}
        ],
        "new": {"name": "/dom/geolocation/MLSFallback.cpp"},
        "old": {"name": "/dom/geolocation/MLSFallback.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 7
            }},
            {"new": {
                "content": "                  , public nsINamed",
                "line": 29
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 34
            }}
        ],
        "new": {"name": "/dom/geolocation/MLSFallback.h"},
        "old": {"name": "/dom/geolocation/MLSFallback.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 23
            }},
            {"new": {
                "content": "                                  , public nsINamed",
                "line": 97
            }},
            {"new": {
                "content": "    NS_IMETHOD GetName(nsACString& aName) override",
                "line": 105
            }},
            {"new": {
                "content": "    {",
                "line": 106
            }},
            {"new": {
                "content": "      aName.AssignLiteral(\"nsGeolocationRequest::TimerCallbackHolder\");",
                "line": 107
            }},
            {"new": {
                "content": "      return NS_OK;",
                "line": 108
            }},
            {"new": {
                "content": "    }",
                "line": 109
            }},
            {"new": {
                "content": "",
                "line": 110
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsGeolocationRequest::TimerCallbackHolder, nsISupports, nsITimerCallback)",
                "line": 636
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsGeolocationRequest::TimerCallbackHolder,",
                "line": 644
            }},
            {"new": {
                "content": "                  nsITimerCallback,",
                "line": 645
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 646
            }}
        ],
        "new": {"name": "/dom/geolocation/nsGeolocation.cpp"},
        "old": {"name": "/dom/geolocation/nsGeolocation.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  return OwnerDoc()->Dispatch(\"HTMLCanvasElement::CallPrintCallback\",",
                "line": 531
            }},
            {"old": {
                "content": "                              TaskCategory::Other,",
                "line": 532
            }},
            {"old": {
                "content": "                              renderEvent.forget());",
                "line": 533
            }},
            {"new": {
                "content": "  return OwnerDoc()->Dispatch(TaskCategory::Other, renderEvent.forget());",
                "line": 531
            }},
            {"old": {
                "content": "      \"FireNullBlobEvent\",",
                "line": 853
            }}
        ],
        "new": {"name": "/dom/html/HTMLCanvasElement.cpp"},
        "old": {"name": "/dom/html/HTMLCanvasElement.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  doc->Dispatch(\"HTMLTrackElement::DispatchTrackRunnable\",",
                "line": 447
            }},
            {"old": {
                "content": "                TaskCategory::Other, runnable.forget());",
                "line": 448
            }},
            {"new": {
                "content": "  doc->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 447
            }}
        ],
        "new": {"name": "/dom/html/HTMLTrackElement.cpp"},
        "old": {"name": "/dom/html/HTMLTrackElement.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "        \"TextTrackManager::UpdateCueDisplay\",",
                "line": 632
            }},
            {"old": {
                "content": "        \"TextTrackManager::TimeMarchesOn\",",
                "line": 655
            }}
        ],
        "new": {"name": "/dom/html/TextTrackManager.cpp"},
        "old": {"name": "/dom/html/TextTrackManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (HasName()) {",
                "line": 488
            }},
            {"new": {
                "content": "    if (CanHaveName(NodeInfo()->NameAtom()) && HasName()) {",
                "line": 488
            }},
            {"old": {
                "content": "      if (aValue && !aValue->Equals(EmptyString(), eIgnoreCase) &&",
                "line": 778
            }},
            {"old": {
                "content": "          CanHaveName(NodeInfo()->NameAtom())) {",
                "line": 779
            }},
            {"new": {
                "content": "      if (aValue && !aValue->Equals(EmptyString(), eIgnoreCase)) {",
                "line": 778
            }},
            {"old": {
                "content": "        AddToNameTable(aValue->GetAtomValue());",
                "line": 786
            }},
            {"new": {
                "content": "        if (CanHaveName(NodeInfo()->NameAtom())) {",
                "line": 785
            }},
            {"new": {
                "content": "          AddToNameTable(aValue->GetAtomValue());",
                "line": 786
            }},
            {"new": {
                "content": "        }",
                "line": 787
            }}
        ],
        "new": {"name": "/dom/html/nsGenericHTMLElement.cpp"},
        "old": {"name": "/dom/html/nsGenericHTMLElement.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (HasName()) {",
                "line": 735
            }},
            {"new": {
                "content": "    if (CanHaveName(NodeInfo()->NameAtom()) && HasName()) {",
                "line": 735
            }}
        ],
        "new": {"name": "/dom/html/nsGenericHTMLElement.h"},
        "old": {"name": "/dom/html/nsGenericHTMLElement.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 2039
            }},
            {"new": {
                "content": "  if (!aElement->HasName()) {",
                "line": 2040
            }},
            {"new": {
                "content": "    return false;",
                "line": 2041
            }},
            {"new": {
                "content": "  }",
                "line": 2042
            }},
            {"new": {
                "content": "",
                "line": 2043
            }}
        ],
        "new": {"name": "/dom/html/nsHTMLDocument.cpp"},
        "old": {"name": "/dom/html/nsHTMLDocument.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    return NS_GetFuncStringNodeList(this, MatchNameAttribute, nullptr,",
                "line": 195
            }},
            {"old": {
                "content": "                                    UseExistingNameString, aName);",
                "line": 196
            }},
            {"new": {
                "content": "    return GetFuncStringContentList<nsCachableElementsByNameNodeList>(this,",
                "line": 195
            }},
            {"new": {
                "content": "                                                                      MatchNameAttribute,",
                "line": 196
            }},
            {"new": {
                "content": "                                                                      nullptr,",
                "line": 197
            }},
            {"new": {
                "content": "                                                                      UseExistingNameString,",
                "line": 198
            }},
            {"new": {
                "content": "                                                                      aName);",
                "line": 199
            }}
        ],
        "new": {"name": "/dom/html/nsHTMLDocument.h"},
        "old": {"name": "/dom/html/nsHTMLDocument.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "[test_getElementsByName_after_mutation.html]",
                "line": 613
            }}
        ],
        "new": {"name": "/dom/html/test/mochitest.ini"},
        "old": {"name": "/dom/html/test/mochitest.ini"}
    },
    {
        "changes": [
            {"new": {
                "content": "<!DOCTYPE HTML>",
                "line": 0
            }},
            {"new": {
                "content": "<html>",
                "line": 1
            }},
            {"new": {
                "content": "<!--",
                "line": 2
            }},
            {"new": {
                "content": "https://bugzilla.mozilla.org/show_bug.cgi?id=1376695",
                "line": 3
            }},
            {"new": {
                "content": "-->",
                "line": 4
            }},
            {"new": {
                "content": "<head>",
                "line": 5
            }},
            {"new": {
                "content": "  <title>Test for Bug 1376695</title>",
                "line": 6
            }},
            {"new": {
                "content": "  <script type=\"application/javascript\" src=\"/tests/SimpleTest/SimpleTest.js\"></script>",
                "line": 7
            }},
            {"new": {
                "content": "  <link rel=\"stylesheet\" type=\"text/css\" href=\"/tests/SimpleTest/test.css\"/>",
                "line": 8
            }},
            {"new": {
                "content": "</head>",
                "line": 9
            }},
            {"new": {
                "content": "<body>",
                "line": 10
            }},
            {"new": {
                "content": "<a target=\"_blank\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1376695\">Mozilla Bug 1376695</a>",
                "line": 11
            }},
            {"new": {
                "content": "<p id=\"display\"></p>",
                "line": 12
            }},
            {"new": {
                "content": "<div id=\"originalFoo\" name=\"foo\">",
                "line": 13
            }},
            {"new": {
                "content": "<pre id=\"test\">",
                "line": 14
            }},
            {"new": {
                "content": "<script type=\"application/javascript\">",
                "line": 15
            }},
            {"new": {
                "content": "",
                "line": 16
            }},
            {"new": {
                "content": "/** Test to ensure that the list returned by getElementsByName is updated after",
                "line": 17
            }},
            {"new": {
                "content": "  * mutations.",
                "line": 18
            }},
            {"new": {
                "content": "  **/",
                "line": 19
            }},
            {"new": {
                "content": "",
                "line": 20
            }},
            {"new": {
                "content": "var fooList = document.getElementsByName(\"foo\");",
                "line": 21
            }},
            {"new": {
                "content": "var originalDiv = document.getElementById(\"originalFoo\");",
                "line": 22
            }},
            {"new": {
                "content": "",
                "line": 23
            }},
            {"new": {
                "content": "is(fooList.length, 1, \"Should find one element with name 'foo' initially\");",
                "line": 24
            }},
            {"new": {
                "content": "is(fooList[0], originalDiv, \"Element should be the original div\");",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "var newTree = document.createElement(\"p\");",
                "line": 27
            }},
            {"new": {
                "content": "var child1 = document.createElement(\"div\");",
                "line": 28
            }},
            {"new": {
                "content": "var child2 = document.createElement(\"div\");",
                "line": 29
            }},
            {"new": {
                "content": "child2.setAttribute(\"name\", \"foo\");",
                "line": 30
            }},
            {"new": {
                "content": "",
                "line": 31
            }},
            {"new": {
                "content": "newTree.appendChild(child1);",
                "line": 32
            }},
            {"new": {
                "content": "newTree.appendChild(child2);",
                "line": 33
            }},
            {"new": {
                "content": "document.body.appendChild(newTree);",
                "line": 34
            }},
            {"new": {
                "content": "",
                "line": 35
            }},
            {"new": {
                "content": "is(fooList.length, 2,",
                "line": 36
            }},
            {"new": {
                "content": "   \"Should find two elements with name 'foo' after appending the new tree\");",
                "line": 37
            }},
            {"new": {
                "content": "is(fooList[1], child2, \"Element should be the new appended div with name 'foo'\");",
                "line": 38
            }},
            {"new": {
                "content": "",
                "line": 39
            }},
            {"new": {
                "content": "document.body.removeChild(newTree);",
                "line": 40
            }},
            {"new": {
                "content": "",
                "line": 41
            }},
            {"new": {
                "content": "is(fooList.length, 1,",
                "line": 42
            }},
            {"new": {
                "content": "   \"Should find one element with name 'foo' after removing the new tree\");",
                "line": 43
            }},
            {"new": {
                "content": "is(fooList[0], originalDiv,",
                "line": 44
            }},
            {"new": {
                "content": "   \"Element should be the original div after removing the new tree\");",
                "line": 45
            }},
            {"new": {
                "content": "",
                "line": 46
            }},
            {"new": {
                "content": "</script>",
                "line": 47
            }},
            {"new": {
                "content": "</pre>",
                "line": 48
            }},
            {"new": {
                "content": "</body>",
                "line": 49
            }},
            {"new": {
                "content": "</html>",
                "line": 50
            }}
        ],
        "new": {"name": "/dom/html/test/test_getElementsByName_after_mutation.html"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"old": {
                "content": "  size_t compiledSize;",
                "line": 9884
            }},
            {"old": {
                "content": "  module->serializedSize(nullptr, &compiledSize);",
                "line": 9885
            }},
            {"old": {
                "content": "",
                "line": 9886
            }},
            {"new": {
                "content": "  size_t compiledSize = module->compiledSerializedSize();",
                "line": 9884
            }},
            {"old": {
                "content": "  module->serialize(nullptr, 0, compiled.get(), compiledSize);",
                "line": 9891
            }},
            {"new": {
                "content": "  module->compiledSerialize(compiled.get(), compiledSize);",
                "line": 9889
            }}
        ],
        "new": {"name": "/dom/indexedDB/ActorsParent.cpp"},
        "old": {"name": "/dom/indexedDB/ActorsParent.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    size_t bytecodeSize;",
                "line": 349
            }},
            {"old": {
                "content": "    size_t compiledSize;",
                "line": 350
            }},
            {"old": {
                "content": "    module->serializedSize(&bytecodeSize, &compiledSize);",
                "line": 351
            }},
            {"old": {
                "content": "",
                "line": 352
            }},
            {"new": {
                "content": "    size_t bytecodeSize = module->bytecodeSerializedSize();",
                "line": 349
            }},
            {"old": {
                "content": "",
                "line": 355
            }},
            {"old": {
                "content": "    UniquePtr<uint8_t[]> compiled(new uint8_t[compiledSize]);",
                "line": 356
            }},
            {"old": {
                "content": "    MOZ_ASSERT(compiled);",
                "line": 357
            }},
            {"old": {
                "content": "",
                "line": 358
            }},
            {"old": {
                "content": "    module->serialize(bytecode.get(),",
                "line": 359
            }},
            {"old": {
                "content": "                      bytecodeSize,",
                "line": 360
            }},
            {"old": {
                "content": "                      compiled.get(),",
                "line": 361
            }},
            {"old": {
                "content": "                      compiledSize);",
                "line": 362
            }},
            {"new": {
                "content": "    module->bytecodeSerialize(bytecode.get(), bytecodeSize);",
                "line": 352
            }},
            {"new": {
                "content": "    size_t compiledSize = module->compiledSerializedSize();",
                "line": 356
            }},
            {"new": {
                "content": "    UniquePtr<uint8_t[]> compiled(new uint8_t[compiledSize]);",
                "line": 357
            }},
            {"new": {
                "content": "    MOZ_ASSERT(compiled);",
                "line": 358
            }},
            {"new": {
                "content": "    module->compiledSerialize(compiled.get(), compiledSize);",
                "line": 359
            }},
            {"new": {
                "content": "",
                "line": 360
            }}
        ],
        "new": {"name": "/dom/indexedDB/IDBObjectStore.cpp"},
        "old": {"name": "/dom/indexedDB/IDBObjectStore.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_QUERY_INTERFACE(IndexedDatabaseManager, nsIObserver, nsITimerCallback)",
                "line": 1107
            }},
            {"new": {
                "content": "NS_IMPL_QUERY_INTERFACE(IndexedDatabaseManager, nsIObserver, nsITimerCallback,",
                "line": 1107
            }},
            {"new": {
                "content": "                        nsINamed)",
                "line": 1108
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1163
            }},
            {"new": {
                "content": "IndexedDatabaseManager::GetName(nsACString& aName)",
                "line": 1164
            }},
            {"new": {
                "content": "{",
                "line": 1165
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"IndexedDatabaseManager\");",
                "line": 1166
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1167
            }},
            {"new": {
                "content": "}",
                "line": 1168
            }},
            {"new": {
                "content": "",
                "line": 1169
            }}
        ],
        "new": {"name": "/dom/indexedDB/IndexedDatabaseManager.cpp"},
        "old": {"name": "/dom/indexedDB/IndexedDatabaseManager.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 17
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 46
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 67
            }}
        ],
        "new": {"name": "/dom/indexedDB/IndexedDatabaseManager.h"},
        "old": {"name": "/dom/indexedDB/IndexedDatabaseManager.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include <stdint.h> // for UINT32_MAX, uintptr_t",
                "line": 7
            }},
            {"new": {
                "content": "#include \"mozilla/CheckedInt.h\"",
                "line": 13
            }},
            {"old": {
                "content": "      aTarget.EncodeLocaleString(str, typeOffset, aLocale);",
                "line": 197
            }},
            {"new": {
                "content": "      nsresult rv = aTarget.EncodeLocaleString(str, typeOffset, aLocale);",
                "line": 199
            }},
            {"new": {
                "content": "      if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 200
            }},
            {"new": {
                "content": "        return rv;",
                "line": 201
            }},
            {"new": {
                "content": "      }",
                "line": 202
            }},
            {"old": {
                "content": "    EncodeString(str, aTypeOffset);",
                "line": 222
            }},
            {"old": {
                "content": "    return NS_OK;",
                "line": 223
            }},
            {"new": {
                "content": "    return EncodeString(str, aTypeOffset);",
                "line": 227
            }},
            {"old": {
                "content": "      EncodeBinary(obj, /* aIsViewObject */ false, aTypeOffset);",
                "line": 300
            }},
            {"old": {
                "content": "      return NS_OK;",
                "line": 301
            }},
            {"new": {
                "content": "      return EncodeBinary(obj, /* aIsViewObject */ false, aTypeOffset);",
                "line": 304
            }},
            {"old": {
                "content": "      EncodeBinary(obj, /* aIsViewObject */ true, aTypeOffset);",
                "line": 304
            }},
            {"old": {
                "content": "      return NS_OK;",
                "line": 305
            }},
            {"new": {
                "content": "      return EncodeBinary(obj, /* aIsViewObject */ true, aTypeOffset);",
                "line": 307
            }},
            {"old": {
                "content": "void",
                "line": 416
            }},
            {"new": {
                "content": "nsresult",
                "line": 418
            }},
            {"old": {
                "content": "  EncodeString(start, end, aTypeOffset);",
                "line": 421
            }},
            {"new": {
                "content": "  return EncodeString(start, end, aTypeOffset);",
                "line": 423
            }},
            {"new": {
                "content": "}",
                "line": 424
            }},
            {"new": {
                "content": "",
                "line": 425
            }},
            {"new": {
                "content": "template <typename T>",
                "line": 426
            }},
            {"new": {
                "content": "nsresult",
                "line": 427
            }},
            {"new": {
                "content": "Key::EncodeString(const T* aStart, const T* aEnd, uint8_t aTypeOffset)",
                "line": 428
            }},
            {"new": {
                "content": "{",
                "line": 429
            }},
            {"new": {
                "content": "  return EncodeAsString(aStart, aEnd, eString + aTypeOffset);",
                "line": 430
            }},
            {"old": {
                "content": "void",
                "line": 424
            }},
            {"old": {
                "content": "Key::EncodeString(const T* aStart, const T* aEnd, uint8_t aTypeOffset)",
                "line": 425
            }},
            {"old": {
                "content": "{",
                "line": 426
            }},
            {"old": {
                "content": "  EncodeAsString(aStart, aEnd, eString + aTypeOffset);",
                "line": 427
            }},
            {"old": {
                "content": "}",
                "line": 428
            }},
            {"old": {
                "content": "",
                "line": 429
            }},
            {"old": {
                "content": "template <typename T>",
                "line": 430
            }},
            {"old": {
                "content": "void",
                "line": 431
            }},
            {"new": {
                "content": "nsresult",
                "line": 433
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(aStart > aEnd || UINT32_MAX - 2 < uintptr_t(aEnd - aStart))) {",
                "line": 437
            }},
            {"new": {
                "content": "    IDB_REPORT_INTERNAL_ERR();",
                "line": 438
            }},
            {"new": {
                "content": "    return NS_ERROR_DOM_INDEXEDDB_UNKNOWN_ERR;",
                "line": 439
            }},
            {"new": {
                "content": "  }",
                "line": 440
            }},
            {"old": {
                "content": "  uint32_t size = (aEnd - aStart) + 2;",
                "line": 437
            }},
            {"new": {
                "content": "  uint32_t checkedSize = aEnd - aStart;",
                "line": 443
            }},
            {"new": {
                "content": "  CheckedUint32 size = checkedSize;",
                "line": 444
            }},
            {"new": {
                "content": "  size += 2;",
                "line": 445
            }},
            {"new": {
                "content": "",
                "line": 446
            }},
            {"new": {
                "content": "  MOZ_ASSERT(size.isValid());",
                "line": 447
            }},
            {"new": {
                "content": "      if (!size.isValid()) {",
                "line": 453
            }},
            {"new": {
                "content": "        IDB_REPORT_INTERNAL_ERR();",
                "line": 454
            }},
            {"new": {
                "content": "        return NS_ERROR_DOM_INDEXEDDB_UNKNOWN_ERR;",
                "line": 455
            }},
            {"new": {
                "content": "      }",
                "line": 456
            }},
            {"new": {
                "content": "  size += oldLen;",
                "line": 461
            }},
            {"new": {
                "content": "",
                "line": 462
            }},
            {"new": {
                "content": "  if (!size.isValid()) {",
                "line": 463
            }},
            {"new": {
                "content": "    IDB_REPORT_INTERNAL_ERR();",
                "line": 464
            }},
            {"new": {
                "content": "    return NS_ERROR_DOM_INDEXEDDB_UNKNOWN_ERR;",
                "line": 465
            }},
            {"new": {
                "content": "  }",
                "line": 466
            }},
            {"new": {
                "content": "",
                "line": 467
            }},
            {"old": {
                "content": "  if (!mBuffer.GetMutableData(&buffer, oldLen + size)) {",
                "line": 448
            }},
            {"old": {
                "content": "    return;",
                "line": 449
            }},
            {"new": {
                "content": "  if (!mBuffer.GetMutableData(&buffer, size.value())) {",
                "line": 469
            }},
            {"new": {
                "content": "    IDB_REPORT_INTERNAL_ERR();",
                "line": 470
            }},
            {"new": {
                "content": "    return NS_ERROR_DOM_INDEXEDDB_UNKNOWN_ERR;",
                "line": 471
            }},
            {"new": {
                "content": "",
                "line": 503
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 504
            }},
            {"old": {
                "content": "  EncodeString(keyBuffer.Elements(),",
                "line": 517
            }},
            {"old": {
                "content": "               keyBuffer.Elements()+sortKeyLength,",
                "line": 518
            }},
            {"old": {
                "content": "               aTypeOffset);",
                "line": 519
            }},
            {"old": {
                "content": "  return NS_OK;",
                "line": 520
            }},
            {"new": {
                "content": "  return EncodeString(keyBuffer.Elements(),",
                "line": 541
            }},
            {"new": {
                "content": "                      keyBuffer.Elements()+sortKeyLength,",
                "line": 542
            }},
            {"new": {
                "content": "                      aTypeOffset);",
                "line": 543
            }},
            {"old": {
                "content": "void",
                "line": 640
            }},
            {"new": {
                "content": "nsresult",
                "line": 663
            }},
            {"old": {
                "content": "  EncodeAsString(bufferData, bufferData + bufferLength, eBinary + aTypeOffset);",
                "line": 651
            }},
            {"new": {
                "content": "  return EncodeAsString(bufferData, bufferData + bufferLength, eBinary + aTypeOffset);",
                "line": 674
            }}
        ],
        "new": {"name": "/dom/indexedDB/Key.cpp"},
        "old": {"name": "/dom/indexedDB/Key.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  void",
                "line": 286
            }},
            {"new": {
                "content": "  nsresult",
                "line": 286
            }},
            {"old": {
                "content": "  void",
                "line": 289
            }},
            {"new": {
                "content": "  nsresult",
                "line": 289
            }},
            {"old": {
                "content": "  void",
                "line": 292
            }},
            {"new": {
                "content": "  nsresult",
                "line": 292
            }},
            {"old": {
                "content": "  void",
                "line": 301
            }},
            {"new": {
                "content": "  nsresult",
                "line": 301
            }}
        ],
        "new": {"name": "/dom/indexedDB/Key.h"},
        "old": {"name": "/dom/indexedDB/Key.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"indexedDB::ScriptErrorHelper::Dump\",",
                "line": 216
            }},
            {"old": {
                "content": "                            TaskCategory::Other,",
                "line": 217
            }},
            {"old": {
                "content": "                            runnable.forget()));",
                "line": 218
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other, runnable.forget()));",
                "line": 216
            }},
            {"old": {
                "content": "      SystemGroup::Dispatch(\"indexedDB::ScriptErrorHelper::DumpLocalizedMessage\",",
                "line": 249
            }},
            {"old": {
                "content": "                            TaskCategory::Other,",
                "line": 250
            }},
            {"old": {
                "content": "                            runnable.forget()));",
                "line": 251
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other, runnable.forget()));",
                "line": 247
            }}
        ],
        "new": {"name": "/dom/indexedDB/ScriptErrorHelper.cpp"},
        "old": {"name": "/dom/indexedDB/ScriptErrorHelper.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsIPaymentAddress.idl\"",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "[builtinclass, scriptable, uuid(2a338575-c688-40ee-a157-7488ab292ef2)]",
                "line": 8
            }},
            {"new": {
                "content": "interface nsIPaymentResponseData: nsISupports",
                "line": 9
            }},
            {"new": {
                "content": "{",
                "line": 10
            }},
            {"new": {
                "content": "  const uint32_t GENERAL_RESPONSE = 0;",
                "line": 11
            }},
            {"new": {
                "content": "  const uint32_t BASICCARD_RESPONSE = 1;",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "  readonly attribute uint32_t type;",
                "line": 14
            }},
            {"new": {
                "content": "  void init(in uint32_t aType);",
                "line": 15
            }},
            {"new": {
                "content": "};",
                "line": 16
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "[builtinclass, scriptable, uuid(b986773e-2b30-4ed2-b8fe-6a96631c8000)]",
                "line": 18
            }},
            {"new": {
                "content": "interface nsIGeneralResponseData : nsIPaymentResponseData",
                "line": 19
            }},
            {"new": {
                "content": "{",
                "line": 20
            }},
            {"new": {
                "content": "  readonly attribute AString data;",
                "line": 21
            }},
            {"new": {
                "content": "",
                "line": 22
            }},
            {"new": {
                "content": "  [implicit_jscontext]",
                "line": 23
            }},
            {"new": {
                "content": "  void initData(in jsval aData);",
                "line": 24
            }},
            {"new": {
                "content": "};",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "/*",
                "line": 27
            }},
            {"new": {
                "content": "  Since PaymentAddress is an no constructor interface type, UI code can not",
                "line": 28
            }},
            {"new": {
                "content": "  easy create PaymentAddress by calling new PaymentAddress().",
                "line": 29
            }},
            {"new": {
                "content": "  Unfortunately, BasicCardResponse has a PaymentAddress attribute, billingAddress",
                "line": 30
            }},
            {"new": {
                "content": "  , it means UI can not create BsaicCardResponse by calling the init() with a",
                "line": 31
            }},
            {"new": {
                "content": "  given JSObject directly, because PaymentAddress creation in JS code is hard.",
                "line": 32
            }},
            {"new": {
                "content": "  To let UI code can create BasicCardResponse easier, nsIBasicCardResponse is",
                "line": 33
            }},
            {"new": {
                "content": "  provided for UI by passing the raw data of BasicCardResponse,",
                "line": 34
            }},
            {"new": {
                "content": "*/",
                "line": 35
            }},
            {"new": {
                "content": "[builtinclass, scriptable, uuid(0d55a5e6-d185-44f0-b992-a8e1321e4bce)]",
                "line": 36
            }},
            {"new": {
                "content": "interface nsIBasicCardResponseData : nsIPaymentResponseData",
                "line": 37
            }},
            {"new": {
                "content": "{",
                "line": 38
            }},
            {"new": {
                "content": "  readonly attribute AString data;",
                "line": 39
            }},
            {"new": {
                "content": "",
                "line": 40
            }},
            {"new": {
                "content": "  void initData(in AString aCardholderName,",
                "line": 41
            }},
            {"new": {
                "content": "                in AString aCardNumber,",
                "line": 42
            }},
            {"new": {
                "content": "                in AString aExpiryMonth,",
                "line": 43
            }},
            {"new": {
                "content": "                in AString aExpiryYear,",
                "line": 44
            }},
            {"new": {
                "content": "                in AString aCardSecurityCode,",
                "line": 45
            }},
            {"new": {
                "content": "                in nsIPaymentAddress billingAddress);",
                "line": 46
            }},
            {"new": {
                "content": "};",
                "line": 47
            }},
            {"old": {
                "content": "            in AString aData,",
                "line": 95
            }},
            {"new": {
                "content": "            in nsIPaymentResponseData aData,",
                "line": 137
            }},
            {"new": {
                "content": "#define NS_GENERAL_RESPONSE_DATA_CID \\",
                "line": 184
            }},
            {"new": {
                "content": "  { 0xb986773e, 0x2b30, 0x4ed2, { 0xb8, 0xfe, 0x6a, 0x96, 0x63, 0x1c, 0x80, 0x00 } }",
                "line": 185
            }},
            {"new": {
                "content": "#define NS_GENERAL_RESPONSE_DATA_CONTRACT_ID \\",
                "line": 186
            }},
            {"new": {
                "content": "  \"@mozilla.org/dom/payments/general-response-data;1\"",
                "line": 187
            }},
            {"new": {
                "content": "",
                "line": 188
            }},
            {"new": {
                "content": "#define NS_BASICCARD_RESPONSE_DATA_CID \\",
                "line": 189
            }},
            {"new": {
                "content": "  { 0x0d55a5e6, 0xd185, 0x44f0, { 0xb9, 0x92, 0xa8, 0xe1, 0x32, 0x1e, 0x4b, 0xce } }",
                "line": 190
            }},
            {"new": {
                "content": "#define NS_BASICCARD_RESPONSE_DATA_CONTRACT_ID \\",
                "line": 191
            }},
            {"new": {
                "content": "  \"@mozilla.org/dom/payments/basiccard-response-data;1\"",
                "line": 192
            }},
            {"new": {
                "content": "",
                "line": 193
            }}
        ],
        "new": {"name": "/dom/interfaces/payments/nsIPaymentActionResponse.idl"},
        "old": {"name": "/dom/interfaces/payments/nsIPaymentActionResponse.idl"}
    },
    {
        "changes": [
            {"old": {
                "content": "  readonly attribute AString data;",
                "line": 12
            }},
            {"new": {
                "content": "  [implicit_jscontext]",
                "line": 12
            }},
            {"new": {
                "content": "  readonly attribute jsval data;",
                "line": 13
            }},
            {"old": {
                "content": "  readonly attribute AString data;",
                "line": 37
            }},
            {"new": {
                "content": "  [implicit_jscontext]",
                "line": 38
            }},
            {"new": {
                "content": "  readonly attribute jsval data;",
                "line": 39
            }}
        ],
        "new": {"name": "/dom/interfaces/payments/nsIPaymentRequest.idl"},
        "old": {"name": "/dom/interfaces/payments/nsIPaymentRequest.idl"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 20
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 229
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 275
            }},
            {"new": {
                "content": "  {",
                "line": 276
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"ParticularProcessPriorityManager\");",
                "line": 277
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 278
            }},
            {"new": {
                "content": "  }",
                "line": 279
            }},
            {"new": {
                "content": "",
                "line": 280
            }},
            {"old": {
                "content": "                  nsISupportsWeakReference);",
                "line": 561
            }},
            {"new": {
                "content": "                  nsISupportsWeakReference,",
                "line": 569
            }},
            {"new": {
                "content": "                  nsINamed);",
                "line": 570
            }}
        ],
        "new": {"name": "/dom/ipc/ProcessPriorityManager.cpp"},
        "old": {"name": "/dom/ipc/ProcessPriorityManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "TabChildGlobal::Dispatch(const char* aName,",
                "line": 3545
            }},
            {"old": {
                "content": "                         TaskCategory aCategory,",
                "line": 3546
            }},
            {"new": {
                "content": "TabChildGlobal::Dispatch(TaskCategory aCategory,",
                "line": 3545
            }},
            {"old": {
                "content": "    return mTabChild->TabGroup()->Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 3550
            }},
            {"new": {
                "content": "    return mTabChild->TabGroup()->Dispatch(aCategory, Move(aRunnable));",
                "line": 3549
            }},
            {"old": {
                "content": "  return DispatcherTrait::Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 3552
            }},
            {"new": {
                "content": "  return DispatcherTrait::Dispatch(aCategory, Move(aRunnable));",
                "line": 3551
            }}
        ],
        "new": {"name": "/dom/ipc/TabChild.cpp"},
        "old": {"name": "/dom/ipc/TabChild.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  virtual nsresult Dispatch(const char* aName,",
                "line": 152
            }},
            {"old": {
                "content": "                            mozilla::TaskCategory aCategory,",
                "line": 153
            }},
            {"new": {
                "content": "  virtual nsresult Dispatch(mozilla::TaskCategory aCategory,",
                "line": 152
            }}
        ],
        "new": {"name": "/dom/ipc/TabChild.h"},
        "old": {"name": "/dom/ipc/TabChild.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "  , mIsMouseEnterIntoWidgetEventSuppressed(false)",
                "line": 175
            }},
            {"old": {
                "content": "  if (mIsDestroyed || !mIsReadyToHandleInputEvents) {",
                "line": 1093
            }},
            {"new": {
                "content": "  if (mIsDestroyed) {",
                "line": 1094
            }},
            {"new": {
                "content": "  if (!mIsReadyToHandleInputEvents) {",
                "line": 1116
            }},
            {"new": {
                "content": "    if (eMouseEnterIntoWidget == aEvent.mMessage) {",
                "line": 1117
            }},
            {"new": {
                "content": "      MOZ_ASSERT(!mIsMouseEnterIntoWidgetEventSuppressed);",
                "line": 1118
            }},
            {"new": {
                "content": "      mIsMouseEnterIntoWidgetEventSuppressed = true;",
                "line": 1119
            }},
            {"new": {
                "content": "    } else if (eMouseExitFromWidget == aEvent.mMessage) {",
                "line": 1120
            }},
            {"new": {
                "content": "      MOZ_ASSERT(mIsMouseEnterIntoWidgetEventSuppressed);",
                "line": 1121
            }},
            {"new": {
                "content": "      mIsMouseEnterIntoWidgetEventSuppressed = false;",
                "line": 1122
            }},
            {"new": {
                "content": "    }",
                "line": 1123
            }},
            {"new": {
                "content": "    return;",
                "line": 1124
            }},
            {"new": {
                "content": "  }",
                "line": 1125
            }},
            {"new": {
                "content": "  if (mIsMouseEnterIntoWidgetEventSuppressed) {",
                "line": 1129
            }},
            {"new": {
                "content": "    // In the case that the TabParent suppressed the eMouseEnterWidget event due",
                "line": 1130
            }},
            {"new": {
                "content": "    // to its corresponding TabChild wasn't ready to handle it, we have to",
                "line": 1131
            }},
            {"new": {
                "content": "    // resend it when the TabChild is ready.",
                "line": 1132
            }},
            {"new": {
                "content": "    mIsMouseEnterIntoWidgetEventSuppressed = false;",
                "line": 1133
            }},
            {"new": {
                "content": "    WidgetMouseEvent localEvent(aEvent);",
                "line": 1134
            }},
            {"new": {
                "content": "    localEvent.mMessage = eMouseEnterIntoWidget;",
                "line": 1135
            }},
            {"new": {
                "content": "    DebugOnly<bool> ret = SendRealMouseButtonEvent(localEvent, guid, blockId);",
                "line": 1136
            }},
            {"new": {
                "content": "    NS_WARNING_ASSERTION(ret, \"SendRealMouseButtonEvent(eMouseEnterIntoWidget) failed\");",
                "line": 1137
            }},
            {"new": {
                "content": "    MOZ_ASSERT(!ret || localEvent.HasBeenPostedToRemoteProcess());",
                "line": 1138
            }},
            {"new": {
                "content": "  }",
                "line": 1139
            }},
            {"new": {
                "content": "",
                "line": 1140
            }}
        ],
        "new": {"name": "/dom/ipc/TabParent.cpp"},
        "old": {"name": "/dom/ipc/TabParent.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  // True if we suppress the eMouseEnterIntoWidget event due to the TabChild was",
                "line": 785
            }},
            {"new": {
                "content": "  // not ready to handle it. We will resend it when the next time we fire a",
                "line": 786
            }},
            {"new": {
                "content": "  // mouse event and the TabChild is ready.",
                "line": 787
            }},
            {"new": {
                "content": "  bool mIsMouseEnterIntoWidgetEventSuppressed;",
                "line": 788
            }},
            {"new": {
                "content": "",
                "line": 789
            }}
        ],
        "new": {"name": "/dom/ipc/TabParent.h"},
        "old": {"name": "/dom/ipc/TabParent.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "Window_ControllersWarning=window.controllers/Controllers is deprecated. Do not use it for UA detection.",
                "line": 189
            }},
            {"new": {
                "content": "Window_Cc_ontrollersWarning=window.controllers/Controllers is deprecated. Do not use it for UA detection.",
                "line": 189
            }}
        ],
        "new": {"name": "/dom/locales/en-US/chrome/dom/dom.properties"},
        "old": {"name": "/dom/locales/en-US/chrome/dom/dom.properties"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 826
            }},
            {"old": {
                "content": "DecoderDoctorDocumentWatcher::SetName(const char* aName)",
                "line": 827
            }},
            {"old": {
                "content": "{",
                "line": 828
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 829
            }},
            {"old": {
                "content": "}",
                "line": 830
            }},
            {"old": {
                "content": "",
                "line": 831
            }}
        ],
        "new": {"name": "/dom/media/DecoderDoctorDiagnostics.cpp"},
        "old": {"name": "/dom/media/DecoderDoctorDiagnostics.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "                             SystemGroup::Dispatch(\"ShutdownThreadEvent\",",
                "line": 208
            }},
            {"old": {
                "content": "                                                   TaskCategory::Other,",
                "line": 209
            }},
            {"new": {
                "content": "                             SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 208
            }}
        ],
        "new": {"name": "/dom/media/FileBlockCache.cpp"},
        "old": {"name": "/dom/media/FileBlockCache.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"MediaCache::UpdateEvent\",",
                "line": 1511
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 1512
            }},
            {"old": {
                "content": "                        event.forget());",
                "line": 1513
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, event.forget());",
                "line": 1511
            }}
        ],
        "new": {"name": "/dom/media/MediaCache.cpp"},
        "old": {"name": "/dom/media/MediaCache.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 12
            }},
            {"old": {
                "content": "class FuzzTimerCallBack final : public nsITimerCallback",
                "line": 19
            }},
            {"new": {
                "content": "class FuzzTimerCallBack final : public nsITimerCallback, public nsINamed",
                "line": 20
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 31
            }},
            {"new": {
                "content": "  {",
                "line": 32
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"FuzzTimerCallBack\");",
                "line": 33
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 34
            }},
            {"new": {
                "content": "  }",
                "line": 35
            }},
            {"new": {
                "content": "",
                "line": 36
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(FuzzTimerCallBack, nsITimerCallback)",
                "line": 33
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(FuzzTimerCallBack, nsITimerCallback, nsINamed)",
                "line": 40
            }}
        ],
        "new": {"name": "/dom/media/MediaDevices.cpp"},
        "old": {"name": "/dom/media/MediaDevices.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"GlobalAllocPolicy::ClearOnShutdown\",",
                "line": 118
            }}
        ],
        "new": {"name": "/dom/media/MediaFormatReader.cpp"},
        "old": {"name": "/dom/media/MediaFormatReader.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 7
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 7
            }},
            {"old": {
                "content": "      mReentrantMonitor(\"mediaqueue\"),",
                "line": 30
            }},
            {"new": {
                "content": "      mRecursiveMutex(\"mediaqueue\"),",
                "line": 30
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 37
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 37
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 41
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 41
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 50
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 50
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 58
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 58
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 62
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 62
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 69
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 69
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 76
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 76
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 81
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 81
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 89
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 89
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 98
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 98
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 104
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 104
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 138
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 138
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 144
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 144
            }},
            {"old": {
                "content": "  mutable ReentrantMonitor mReentrantMonitor;",
                "line": 167
            }},
            {"new": {
                "content": "  mutable RecursiveMutex mRecursiveMutex;",
                "line": 167
            }}
        ],
        "new": {"name": "/dom/media/MediaQueue.h"},
        "old": {"name": "/dom/media/MediaQueue.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"MediaResource::Destroy\",",
                "line": 66
            }}
        ],
        "new": {"name": "/dom/media/MediaResource.cpp"},
        "old": {"name": "/dom/media/MediaResource.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1532
            }},
            {"new": {
                "content": "MediaStreamGraphImpl::GetName(nsACString& aName)",
                "line": 1533
            }},
            {"new": {
                "content": "{",
                "line": 1534
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"MediaStreamGraphImpl\");",
                "line": 1535
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1536
            }},
            {"new": {
                "content": "}",
                "line": 1537
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(MediaStreamGraphImpl, nsIMemoryReporter, nsITimerCallback)",
                "line": 3623
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(MediaStreamGraphImpl, nsIMemoryReporter, nsITimerCallback,",
                "line": 3629
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 3630
            }}
        ],
        "new": {"name": "/dom/media/MediaStreamGraph.cpp"},
        "old": {"name": "/dom/media/MediaStreamGraph.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 14
            }},
            {"old": {
                "content": "                             public nsITimerCallback",
                "line": 101
            }},
            {"new": {
                "content": "                             public nsITimerCallback,",
                "line": 102
            }},
            {"new": {
                "content": "                             public nsINamed",
                "line": 103
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 109
            }}
        ],
        "new": {"name": "/dom/media/MediaStreamGraphImpl.h"},
        "old": {"name": "/dom/media/MediaStreamGraphImpl.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"TextTrack::DispatchAsyncTrustedEvent\",",
                "line": 339
            }}
        ],
        "new": {"name": "/dom/media/TextTrack.cpp"},
        "old": {"name": "/dom/media/TextTrack.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    nsGlobalWindow::Cast(win)->Dispatch(",
                "line": 192
            }},
            {"old": {
                "content": "      \"TextTrackList::CreateAndDispatchChangeEvent\", TaskCategory::Other,",
                "line": 193
            }},
            {"old": {
                "content": "      eventRunner.forget());",
                "line": 194
            }},
            {"new": {
                "content": "    nsGlobalWindow::Cast(win)->Dispatch(TaskCategory::Other, eventRunner.forget());",
                "line": 192
            }}
        ],
        "new": {"name": "/dom/media/TextTrackList.cpp"},
        "old": {"name": "/dom/media/TextTrackList.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 342
            }},
            {"new": {
                "content": "SimpleTimer::GetName(nsACString& aName)",
                "line": 343
            }},
            {"new": {
                "content": "{",
                "line": 344
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"SimpleTimer\");",
                "line": 345
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 346
            }},
            {"new": {
                "content": "}",
                "line": 347
            }},
            {"new": {
                "content": "",
                "line": 348
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(SimpleTimer, nsITimerCallback)",
                "line": 378
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(SimpleTimer, nsITimerCallback, nsINamed)",
                "line": 385
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"LogToBrowserConsole\", TaskCategory::Other, task.forget());",
                "line": 398
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 405
            }}
        ],
        "new": {"name": "/dom/media/VideoUtils.cpp"},
        "old": {"name": "/dom/media/VideoUtils.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 22
            }},
            {"old": {
                "content": "class SimpleTimer : public nsITimerCallback",
                "line": 284
            }},
            {"new": {
                "content": "class SimpleTimer : public nsITimerCallback, public nsINamed",
                "line": 285
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 289
            }}
        ],
        "new": {"name": "/dom/media/VideoUtils.h"},
        "old": {"name": "/dom/media/VideoUtils.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"GMPCrashHelper::Destroy\",",
                "line": 20
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 21
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 20
            }}
        ],
        "new": {"name": "/dom/media/gmp/GMPCrashHelper.cpp"},
        "old": {"name": "/dom/media/gmp/GMPCrashHelper.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"SendCreateGMPService\", TaskCategory::Other, r.forget());",
                "line": 399
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 399
            }}
        ],
        "new": {"name": "/dom/media/gmp/GMPServiceChild.cpp"},
        "old": {"name": "/dom/media/gmp/GMPServiceChild.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      \"GMPTestMonitor::SetFinished\",",
                "line": 36
            }}
        ],
        "new": {"name": "/dom/media/gtest/GMPTestMonitor.h"},
        "old": {"name": "/dom/media/gtest/GMPTestMonitor.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"ClearGMPStorage\", TaskCategory::Other, task.forget());",
                "line": 429
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 429
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"TestForgetThisSite_Forget\",",
                "line": 800
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 801
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 800
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"GMPShutdownObserver\", TaskCategory::Other, task.forget());",
                "line": 1221
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 1220
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"GMPStorageTest::Dummy\", TaskCategory::Other, task.forget());",
                "line": 1239
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 1238
            }}
        ],
        "new": {"name": "/dom/media/gtest/TestGMPCrossOrigin.cpp"},
        "old": {"name": "/dom/media/gtest/TestGMPCrossOrigin.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"CaptureTask::TaskComplete\",",
                "line": 194
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 195
            }},
            {"old": {
                "content": "                        event.forget());",
                "line": 196
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, event.forget());",
                "line": 194
            }}
        ],
        "new": {"name": "/dom/media/imagecapture/CaptureTask.cpp"},
        "old": {"name": "/dom/media/imagecapture/CaptureTask.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"~AutoTaskQueue\", TaskCategory::Other, task.forget());",
                "line": 63
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 63
            }}
        ],
        "new": {"name": "/dom/media/mediasource/AutoTaskQueue.h"},
        "old": {"name": "/dom/media/mediasource/AutoTaskQueue.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"~OggDemuxer::report_telemetry\",",
                "line": 144
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 145
            }},
            {"old": {
                "content": "                          task.forget());",
                "line": 146
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 144
            }}
        ],
        "new": {"name": "/dom/media/ogg/OggDemuxer.cpp"},
        "old": {"name": "/dom/media/ogg/OggDemuxer.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"WMFAudioMFTManager::Output()::report_telemetry\",",
                "line": 258
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 259
            }},
            {"old": {
                "content": "                          task.forget());",
                "line": 260
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 258
            }}
        ],
        "new": {"name": "/dom/media/platforms/wmf/WMFAudioMFTManager.cpp"},
        "old": {"name": "/dom/media/platforms/wmf/WMFAudioMFTManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"WMFMediaDataDecoder::SendTelemetry\",",
                "line": 67
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 68
            }},
            {"old": {
                "content": "                        runnable.forget());",
                "line": 69
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 67
            }}
        ],
        "new": {"name": "/dom/media/platforms/wmf/WMFMediaDataDecoder.cpp"},
        "old": {"name": "/dom/media/platforms/wmf/WMFMediaDataDecoder.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"VideoUtils::DeleteObjectTask\", TaskCategory::Other, r.forget());",
                "line": 94
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 94
            }},
            {"old": {
                "content": "  SystemGroup::Dispatch(\"~WMFVideoMFTManager::report_telemetry\",",
                "line": 162
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 163
            }},
            {"old": {
                "content": "                        task.forget());",
                "line": 164
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 162
            }}
        ],
        "new": {"name": "/dom/media/platforms/wmf/WMFVideoMFTManager.cpp"},
        "old": {"name": "/dom/media/platforms/wmf/WMFVideoMFTManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  SystemGroup::Dispatch(\"MediaDecodeTask::OnMetadataRead()::report_telemetry\",",
                "line": 271
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 272
            }},
            {"old": {
                "content": "                        task.forget());",
                "line": 273
            }},
            {"new": {
                "content": "  SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 271
            }}
        ],
        "new": {"name": "/dom/media/webaudio/MediaBufferDecoder.cpp"},
        "old": {"name": "/dom/media/webaudio/MediaBufferDecoder.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"dom::WebAudioUtils::LogToDeveloperConsole\",",
                "line": 106
            }},
            {"old": {
                "content": "        TaskCategory::Other, task.forget());",
                "line": 107
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, task.forget());",
                "line": 106
            }}
        ],
        "new": {"name": "/dom/media/webaudio/WebAudioUtils.cpp"},
        "old": {"name": "/dom/media/webaudio/WebAudioUtils.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(MediaEngineDefaultVideoSource, nsITimerCallback)",
                "line": 31
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(MediaEngineDefaultVideoSource, nsITimerCallback, nsINamed)",
                "line": 31
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 285
            }},
            {"new": {
                "content": "MediaEngineDefaultVideoSource::GetName(nsACString& aName)",
                "line": 286
            }},
            {"new": {
                "content": "{",
                "line": 287
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"MediaEngineDefaultVideoSource\");",
                "line": 288
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 289
            }},
            {"new": {
                "content": "}",
                "line": 290
            }},
            {"new": {
                "content": "",
                "line": 291
            }}
        ],
        "new": {"name": "/dom/media/webrtc/MediaEngineDefault.cpp"},
        "old": {"name": "/dom/media/webrtc/MediaEngineDefault.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 5
            }},
            {"new": {
                "content": "                                      public nsINamed,",
                "line": 37
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 89
            }}
        ],
        "new": {"name": "/dom/media/webrtc/MediaEngineDefault.h"},
        "old": {"name": "/dom/media/webrtc/MediaEngineDefault.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    MOZ_ALWAYS_SUCCEEDS(global->Dispatch(\"MessagePortMessage\", TaskCategory::Other, do_AddRef(mPostMessageRunnable)));",
                "line": 561
            }},
            {"new": {
                "content": "    MOZ_ALWAYS_SUCCEEDS(global->Dispatch(TaskCategory::Other, do_AddRef(mPostMessageRunnable)));",
                "line": 561
            }}
        ],
        "new": {"name": "/dom/messagechannel/MessagePort.cpp"},
        "old": {"name": "/dom/messagechannel/MessagePort.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "                                      public nsIRunnable",
                "line": 227
            }},
            {"new": {
                "content": "                                      public nsIRunnable,",
                "line": 227
            }},
            {"new": {
                "content": "                                      public nsINamed",
                "line": 228
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 249
            }},
            {"new": {
                "content": "  {",
                "line": 250
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"NotificationPermissionRequest\");",
                "line": 251
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 252
            }},
            {"new": {
                "content": "  }",
                "line": 253
            }},
            {"new": {
                "content": "",
                "line": 254
            }},
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 535
            }},
            {"old": {
                "content": "  global->Dispatch(\"Notification::RequestPermission\", TaskCategory::Other,",
                "line": 1798
            }},
            {"old": {
                "content": "                   request.forget());",
                "line": 1799
            }},
            {"new": {
                "content": "  global->Dispatch(TaskCategory::Other, request.forget());",
                "line": 1806
            }},
            {"old": {
                "content": "  aRv = global->Dispatch(\"Notification::Get\", TaskCategory::Other,",
                "line": 1994
            }},
            {"old": {
                "content": "                         r.forget());",
                "line": 1995
            }},
            {"new": {
                "content": "  aRv = global->Dispatch(TaskCategory::Other, r.forget());",
                "line": 2001
            }}
        ],
        "new": {"name": "/dom/notification/Notification.cpp"},
        "old": {"name": "/dom/notification/Notification.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* vim:set ts=2 sw=2 sts=2 et cindent: */",
                "line": 0
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 1
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 2
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 3
            }},
            {"new": {
                "content": "",
                "line": 4
            }},
            {"new": {
                "content": "#include \"BasicCardPayment.h\"",
                "line": 5
            }},
            {"new": {
                "content": "#include \"PaymentAddress.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"mozilla/ClearOnShutdown.h\"",
                "line": 7
            }},
            {"new": {
                "content": "#include \"nsArrayUtils.h\"",
                "line": 8
            }},
            {"new": {
                "content": "#include \"nsISupportsPrimitives.h\"",
                "line": 9
            }},
            {"new": {
                "content": "#include \"nsCharSeparatedTokenizer.h\"",
                "line": 10
            }},
            {"new": {
                "content": "#include \"nsDataHashtable.h\"",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "namespace mozilla {",
                "line": 13
            }},
            {"new": {
                "content": "namespace dom {",
                "line": 14
            }},
            {"new": {
                "content": "#ifndef PaymentBasicCardMacros",
                "line": 15
            }},
            {"new": {
                "content": "#define PaymentBasicCardMacros",
                "line": 16
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "#define AMEX NS_LITERAL_STRING(\"amex\")",
                "line": 18
            }},
            {"new": {
                "content": "#define CARTEBANCAIRE NS_LITERAL_STRING(\"cartebancaire\")",
                "line": 19
            }},
            {"new": {
                "content": "#define DINERS NS_LITERAL_STRING(\"diners\")",
                "line": 20
            }},
            {"new": {
                "content": "#define DISCOVER NS_LITERAL_STRING(\"discover\")",
                "line": 21
            }},
            {"new": {
                "content": "#define JCB NS_LITERAL_STRING(\"jcb\")",
                "line": 22
            }},
            {"new": {
                "content": "#define MASTERCARD NS_LITERAL_STRING(\"mastercard\")",
                "line": 23
            }},
            {"new": {
                "content": "#define MIR NS_LITERAL_STRING(\"mir\")",
                "line": 24
            }},
            {"new": {
                "content": "#define UNIONPAY NS_LITERAL_STRING(\"unionpay\")",
                "line": 25
            }},
            {"new": {
                "content": "#define VISA NS_LITERAL_STRING(\"visa\")",
                "line": 26
            }},
            {"new": {
                "content": "",
                "line": 27
            }},
            {"new": {
                "content": "#define CardholderName NS_LITERAL_STRING(\"cardholderName\")",
                "line": 28
            }},
            {"new": {
                "content": "#define CardNumber NS_LITERAL_STRING(\"cardNumber\")",
                "line": 29
            }},
            {"new": {
                "content": "#define ExpiryMonth NS_LITERAL_STRING(\"expiryMonth\")",
                "line": 30
            }},
            {"new": {
                "content": "#define ExpiryYear NS_LITERAL_STRING(\"expiryYear\")",
                "line": 31
            }},
            {"new": {
                "content": "#define CardSecurityCode NS_LITERAL_STRING(\"cardSecurityCode\")",
                "line": 32
            }},
            {"new": {
                "content": "",
                "line": 33
            }},
            {"new": {
                "content": "#define Country NS_LITERAL_STRING(\"country\")",
                "line": 34
            }},
            {"new": {
                "content": "#define AddressLine NS_LITERAL_STRING(\"addressLine\")",
                "line": 35
            }},
            {"new": {
                "content": "#define Region NS_LITERAL_STRING(\"region\")",
                "line": 36
            }},
            {"new": {
                "content": "#define City NS_LITERAL_STRING(\"city\")",
                "line": 37
            }},
            {"new": {
                "content": "#define DependentLocality NS_LITERAL_STRING(\"dependentLocality\")",
                "line": 38
            }},
            {"new": {
                "content": "#define PostalCode NS_LITERAL_STRING(\"postalCode\")",
                "line": 39
            }},
            {"new": {
                "content": "#define SortingCode NS_LITERAL_STRING(\"sortingCode\")",
                "line": 40
            }},
            {"new": {
                "content": "#define LanguageCode NS_LITERAL_STRING(\"languageCode\")",
                "line": 41
            }},
            {"new": {
                "content": "#define Organization NS_LITERAL_STRING(\"organization\")",
                "line": 42
            }},
            {"new": {
                "content": "#define Recipient NS_LITERAL_STRING(\"recipient\")",
                "line": 43
            }},
            {"new": {
                "content": "#define Phone NS_LITERAL_STRING(\"phone\")",
                "line": 44
            }},
            {"new": {
                "content": "",
                "line": 45
            }},
            {"new": {
                "content": "#define PropertySpliter NS_LITERAL_STRING(\";\")",
                "line": 46
            }},
            {"new": {
                "content": "#define KeyValueSpliter NS_LITERAL_STRING(\":\")",
                "line": 47
            }},
            {"new": {
                "content": "#define AddressLineSpliter NS_LITERAL_STRING(\"%\")",
                "line": 48
            }},
            {"new": {
                "content": "",
                "line": 49
            }},
            {"new": {
                "content": "#define EncodeBasicCardProperty(aPropertyName, aPropertyValue, aResult)        \\",
                "line": 50
            }},
            {"new": {
                "content": "  do {                                                                         \\",
                "line": 51
            }},
            {"new": {
                "content": "    if (!(aPropertyValue).IsEmpty()) {                                         \\",
                "line": 52
            }},
            {"new": {
                "content": "      (aResult) += (aPropertyName)                                             \\",
                "line": 53
            }},
            {"new": {
                "content": "                 + KeyValueSpliter                                             \\",
                "line": 54
            }},
            {"new": {
                "content": "                 + (aPropertyValue)                                            \\",
                "line": 55
            }},
            {"new": {
                "content": "                 + PropertySpliter;                                            \\",
                "line": 56
            }},
            {"new": {
                "content": "    }                                                                          \\",
                "line": 57
            }},
            {"new": {
                "content": "  } while(0)",
                "line": 58
            }},
            {"new": {
                "content": "",
                "line": 59
            }},
            {"new": {
                "content": "#define EncodeAddressProperty(aAddress, aPropertyName, aResult)                \\",
                "line": 60
            }},
            {"new": {
                "content": "  do {                                                                         \\",
                "line": 61
            }},
            {"new": {
                "content": "    nsAutoString propertyValue;                                                \\",
                "line": 62
            }},
            {"new": {
                "content": "    NS_ENSURE_SUCCESS((aAddress)->Get##aPropertyName(propertyValue),           \\",
                "line": 63
            }},
            {"new": {
                "content": "                                                     NS_ERROR_FAILURE);        \\",
                "line": 64
            }},
            {"new": {
                "content": "    EncodeBasicCardProperty((aPropertyName) ,propertyValue , (aResult));       \\",
                "line": 65
            }},
            {"new": {
                "content": "  } while(0)",
                "line": 66
            }},
            {"new": {
                "content": "",
                "line": 67
            }},
            {"new": {
                "content": "#define DecodeBasicCardProperty(aPropertyName, aPropertyValue,                 \\",
                "line": 68
            }},
            {"new": {
                "content": "                                aMatchPropertyName, aResponse)                 \\",
                "line": 69
            }},
            {"new": {
                "content": "  do {                                                                         \\",
                "line": 70
            }},
            {"new": {
                "content": "    if ((aPropertyName).Equals((aMatchPropertyName))) {                        \\",
                "line": 71
            }},
            {"new": {
                "content": "      (aResponse).m##aMatchPropertyName.Construct();                           \\",
                "line": 72
            }},
            {"new": {
                "content": "      (aResponse).m##aMatchPropertyName.Value() = (aPropertyValue);            \\",
                "line": 73
            }},
            {"new": {
                "content": "    }                                                                          \\",
                "line": 74
            }},
            {"new": {
                "content": "  } while(0)",
                "line": 75
            }},
            {"new": {
                "content": "",
                "line": 76
            }},
            {"new": {
                "content": "#define DecodeAddressProperty(aPropertyName, aPropertyValue,                   \\",
                "line": 77
            }},
            {"new": {
                "content": "                              aMatchPropertyName, aMatchPropertyValue)         \\",
                "line": 78
            }},
            {"new": {
                "content": "  do {                                                                         \\",
                "line": 79
            }},
            {"new": {
                "content": "    if ((aPropertyName).Equals((aMatchPropertyName))) {                        \\",
                "line": 80
            }},
            {"new": {
                "content": "      (aMatchPropertyValue) = (aPropertyValue);                                \\",
                "line": 81
            }},
            {"new": {
                "content": "    }                                                                          \\",
                "line": 82
            }},
            {"new": {
                "content": "  } while(0)",
                "line": 83
            }},
            {"new": {
                "content": "",
                "line": 84
            }},
            {"new": {
                "content": "#endif",
                "line": 85
            }},
            {"new": {
                "content": "",
                "line": 86
            }},
            {"new": {
                "content": "namespace {",
                "line": 87
            }},
            {"new": {
                "content": "",
                "line": 88
            }},
            {"new": {
                "content": "bool IsValidNetwork(const nsAString& aNetwork)",
                "line": 89
            }},
            {"new": {
                "content": "{",
                "line": 90
            }},
            {"new": {
                "content": "  return AMEX.Equals(aNetwork) ||",
                "line": 91
            }},
            {"new": {
                "content": "         CARTEBANCAIRE.Equals(aNetwork) ||",
                "line": 92
            }},
            {"new": {
                "content": "         DINERS.Equals(aNetwork) ||",
                "line": 93
            }},
            {"new": {
                "content": "         DISCOVER.Equals(aNetwork) ||",
                "line": 94
            }},
            {"new": {
                "content": "         JCB.Equals(aNetwork) ||",
                "line": 95
            }},
            {"new": {
                "content": "         MASTERCARD.Equals(aNetwork) ||",
                "line": 96
            }},
            {"new": {
                "content": "         MIR.Equals(aNetwork) ||",
                "line": 97
            }},
            {"new": {
                "content": "         UNIONPAY.Equals(aNetwork) ||",
                "line": 98
            }},
            {"new": {
                "content": "         VISA.Equals(aNetwork);",
                "line": 99
            }},
            {"new": {
                "content": "}",
                "line": 100
            }},
            {"new": {
                "content": "",
                "line": 101
            }},
            {"new": {
                "content": "bool IsBasicCardKey(const nsAString& aKey)",
                "line": 102
            }},
            {"new": {
                "content": "{",
                "line": 103
            }},
            {"new": {
                "content": "  return CardholderName.Equals(aKey) ||",
                "line": 104
            }},
            {"new": {
                "content": "         CardNumber.Equals(aKey) ||",
                "line": 105
            }},
            {"new": {
                "content": "         ExpiryMonth.Equals(aKey) ||",
                "line": 106
            }},
            {"new": {
                "content": "         ExpiryYear.Equals(aKey) ||",
                "line": 107
            }},
            {"new": {
                "content": "         CardSecurityCode.Equals(aKey);",
                "line": 108
            }},
            {"new": {
                "content": "}",
                "line": 109
            }},
            {"new": {
                "content": "",
                "line": 110
            }},
            {"new": {
                "content": "bool IsAddressKey(const nsAString& aKey)",
                "line": 111
            }},
            {"new": {
                "content": "{",
                "line": 112
            }},
            {"new": {
                "content": "  return Country.Equals(aKey) ||",
                "line": 113
            }},
            {"new": {
                "content": "         AddressLine.Equals(aKey) ||",
                "line": 114
            }},
            {"new": {
                "content": "         Region.Equals(aKey) ||",
                "line": 115
            }},
            {"new": {
                "content": "         City.Equals(aKey) ||",
                "line": 116
            }},
            {"new": {
                "content": "         DependentLocality.Equals(aKey) ||",
                "line": 117
            }},
            {"new": {
                "content": "         PostalCode.Equals(aKey) ||",
                "line": 118
            }},
            {"new": {
                "content": "         SortingCode.Equals(aKey) ||",
                "line": 119
            }},
            {"new": {
                "content": "         LanguageCode.Equals(aKey) ||",
                "line": 120
            }},
            {"new": {
                "content": "         Organization.Equals(aKey) ||",
                "line": 121
            }},
            {"new": {
                "content": "         Recipient.Equals(aKey) ||",
                "line": 122
            }},
            {"new": {
                "content": "         Phone.Equals(aKey);",
                "line": 123
            }},
            {"new": {
                "content": "}",
                "line": 124
            }},
            {"new": {
                "content": "",
                "line": 125
            }},
            {"new": {
                "content": "} // end of namespace",
                "line": 126
            }},
            {"new": {
                "content": "",
                "line": 127
            }},
            {"new": {
                "content": "",
                "line": 128
            }},
            {"new": {
                "content": "StaticRefPtr<BasicCardService> gBasicCardService;",
                "line": 129
            }},
            {"new": {
                "content": "",
                "line": 130
            }},
            {"new": {
                "content": "already_AddRefed<BasicCardService>",
                "line": 131
            }},
            {"new": {
                "content": "BasicCardService::GetService()",
                "line": 132
            }},
            {"new": {
                "content": "{",
                "line": 133
            }},
            {"new": {
                "content": "  if (!gBasicCardService) {",
                "line": 134
            }},
            {"new": {
                "content": "    gBasicCardService = new BasicCardService();",
                "line": 135
            }},
            {"new": {
                "content": "    ClearOnShutdown(&gBasicCardService);",
                "line": 136
            }},
            {"new": {
                "content": "  }",
                "line": 137
            }},
            {"new": {
                "content": "  RefPtr<BasicCardService> service = gBasicCardService;",
                "line": 138
            }},
            {"new": {
                "content": "  return service.forget();",
                "line": 139
            }},
            {"new": {
                "content": "}",
                "line": 140
            }},
            {"new": {
                "content": "",
                "line": 141
            }},
            {"new": {
                "content": "bool",
                "line": 142
            }},
            {"new": {
                "content": "BasicCardService::IsBasicCardPayment(const nsAString& aSupportedMethods)",
                "line": 143
            }},
            {"new": {
                "content": "{",
                "line": 144
            }},
            {"new": {
                "content": "  return aSupportedMethods.Equals(NS_LITERAL_STRING(\"basic-card\"));",
                "line": 145
            }},
            {"new": {
                "content": "}",
                "line": 146
            }},
            {"new": {
                "content": "",
                "line": 147
            }},
            {"new": {
                "content": "bool",
                "line": 148
            }},
            {"new": {
                "content": "BasicCardService::IsValidBasicCardRequest(JSContext* aCx,",
                "line": 149
            }},
            {"new": {
                "content": "                                          JSObject* aData,",
                "line": 150
            }},
            {"new": {
                "content": "                                          nsAString& aErrorMsg)",
                "line": 151
            }},
            {"new": {
                "content": "{",
                "line": 152
            }},
            {"new": {
                "content": "  if (!aData) {",
                "line": 153
            }},
            {"new": {
                "content": "    return true;",
                "line": 154
            }},
            {"new": {
                "content": "  }",
                "line": 155
            }},
            {"new": {
                "content": "  JS::RootedValue data(aCx, JS::ObjectValue(*aData));",
                "line": 156
            }},
            {"new": {
                "content": "",
                "line": 157
            }},
            {"new": {
                "content": "  BasicCardRequest request;",
                "line": 158
            }},
            {"new": {
                "content": "  if (!request.Init(aCx, data)) {",
                "line": 159
            }},
            {"new": {
                "content": "    aErrorMsg.AssignLiteral(\"Fail to convert methodData.data to BasicCardRequest.\");",
                "line": 160
            }},
            {"new": {
                "content": "    return false;",
                "line": 161
            }},
            {"new": {
                "content": "  }",
                "line": 162
            }},
            {"new": {
                "content": "",
                "line": 163
            }},
            {"new": {
                "content": "  if (request.mSupportedNetworks.WasPassed()) {",
                "line": 164
            }},
            {"new": {
                "content": "    for (const nsString& network : request.mSupportedNetworks.Value()) {",
                "line": 165
            }},
            {"new": {
                "content": "      if (!IsValidNetwork(network)) {",
                "line": 166
            }},
            {"new": {
                "content": "        aErrorMsg.Assign(network + NS_LITERAL_STRING(\" is not an valid network.\"));",
                "line": 167
            }},
            {"new": {
                "content": "        return false;",
                "line": 168
            }},
            {"new": {
                "content": "      }",
                "line": 169
            }},
            {"new": {
                "content": "    }",
                "line": 170
            }},
            {"new": {
                "content": "  }",
                "line": 171
            }},
            {"new": {
                "content": "  return true;",
                "line": 172
            }},
            {"new": {
                "content": "}",
                "line": 173
            }},
            {"new": {
                "content": "",
                "line": 174
            }},
            {"new": {
                "content": "bool",
                "line": 175
            }},
            {"new": {
                "content": "BasicCardService::IsValidExpiryMonth(const nsAString& aExpiryMonth)",
                "line": 176
            }},
            {"new": {
                "content": "{",
                "line": 177
            }},
            {"new": {
                "content": "  // ExpiryMonth can only be",
                "line": 178
            }},
            {"new": {
                "content": "  //   1. empty string",
                "line": 179
            }},
            {"new": {
                "content": "  //   2. 01 ~ 12",
                "line": 180
            }},
            {"new": {
                "content": "  if (aExpiryMonth.IsEmpty()) {",
                "line": 181
            }},
            {"new": {
                "content": "    return true;",
                "line": 182
            }},
            {"new": {
                "content": "  }",
                "line": 183
            }},
            {"new": {
                "content": "  if (aExpiryMonth.Length() != 2) {",
                "line": 184
            }},
            {"new": {
                "content": "    return false;",
                "line": 185
            }},
            {"new": {
                "content": "  }",
                "line": 186
            }},
            {"new": {
                "content": "  // can only be 00 ~ 09",
                "line": 187
            }},
            {"new": {
                "content": "  if (aExpiryMonth.CharAt(0) == '0') {",
                "line": 188
            }},
            {"new": {
                "content": "    if (aExpiryMonth.CharAt(1) < '0' || aExpiryMonth.CharAt(1) > '9') {",
                "line": 189
            }},
            {"new": {
                "content": "      return false;",
                "line": 190
            }},
            {"new": {
                "content": "    }",
                "line": 191
            }},
            {"new": {
                "content": "    return true;",
                "line": 192
            }},
            {"new": {
                "content": "  }",
                "line": 193
            }},
            {"new": {
                "content": "  // can only be 11 or 12",
                "line": 194
            }},
            {"new": {
                "content": "  if (aExpiryMonth.CharAt(0) == '1') {",
                "line": 195
            }},
            {"new": {
                "content": "    if (aExpiryMonth.CharAt(1) != '1' && aExpiryMonth.CharAt(1) != '2') {",
                "line": 196
            }},
            {"new": {
                "content": "      return false;",
                "line": 197
            }},
            {"new": {
                "content": "    }",
                "line": 198
            }},
            {"new": {
                "content": "    return true;",
                "line": 199
            }},
            {"new": {
                "content": "  }",
                "line": 200
            }},
            {"new": {
                "content": "  return false;",
                "line": 201
            }},
            {"new": {
                "content": "}",
                "line": 202
            }},
            {"new": {
                "content": "",
                "line": 203
            }},
            {"new": {
                "content": "bool",
                "line": 204
            }},
            {"new": {
                "content": "BasicCardService::IsValidExpiryYear(const nsAString& aExpiryYear)",
                "line": 205
            }},
            {"new": {
                "content": "{",
                "line": 206
            }},
            {"new": {
                "content": "  // ExpiryYear can only be",
                "line": 207
            }},
            {"new": {
                "content": "  //   1. empty string",
                "line": 208
            }},
            {"new": {
                "content": "  //   2. 0000 ~ 9999",
                "line": 209
            }},
            {"new": {
                "content": "  if (!aExpiryYear.IsEmpty()) {",
                "line": 210
            }},
            {"new": {
                "content": "    if (aExpiryYear.Length() != 4) {",
                "line": 211
            }},
            {"new": {
                "content": "      return false;",
                "line": 212
            }},
            {"new": {
                "content": "    }",
                "line": 213
            }},
            {"new": {
                "content": "    for (uint32_t index = 0; index < 4; ++index) {",
                "line": 214
            }},
            {"new": {
                "content": "      if (aExpiryYear.CharAt(index) < '0' ||",
                "line": 215
            }},
            {"new": {
                "content": "          aExpiryYear.CharAt(index) > '9') {",
                "line": 216
            }},
            {"new": {
                "content": "        return false;",
                "line": 217
            }},
            {"new": {
                "content": "      }",
                "line": 218
            }},
            {"new": {
                "content": "    }",
                "line": 219
            }},
            {"new": {
                "content": "  }",
                "line": 220
            }},
            {"new": {
                "content": "  return true;",
                "line": 221
            }},
            {"new": {
                "content": "}",
                "line": 222
            }},
            {"new": {
                "content": "",
                "line": 223
            }},
            {"new": {
                "content": "nsresult",
                "line": 224
            }},
            {"new": {
                "content": "BasicCardService::EncodeBasicCardData(const nsAString& aCardholderName,",
                "line": 225
            }},
            {"new": {
                "content": "                                      const nsAString& aCardNumber,",
                "line": 226
            }},
            {"new": {
                "content": "                                      const nsAString& aExpiryMonth,",
                "line": 227
            }},
            {"new": {
                "content": "                                      const nsAString& aExpiryYear,",
                "line": 228
            }},
            {"new": {
                "content": "                                      const nsAString& aCardSecurityCode,",
                "line": 229
            }},
            {"new": {
                "content": "                                      nsIPaymentAddress* aBillingAddress,",
                "line": 230
            }},
            {"new": {
                "content": "                                      nsAString& aResult)",
                "line": 231
            }},
            {"new": {
                "content": "{",
                "line": 232
            }},
            {"new": {
                "content": "  // aBillingAddress can be nullptr",
                "line": 233
            }},
            {"new": {
                "content": "  if (aCardNumber.IsEmpty()) {",
                "line": 234
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 235
            }},
            {"new": {
                "content": "  }",
                "line": 236
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(CardholderName, aCardholderName, aResult);",
                "line": 237
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(CardNumber, aCardNumber, aResult);",
                "line": 238
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(ExpiryMonth, aExpiryMonth, aResult);",
                "line": 239
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(ExpiryYear, aExpiryYear, aResult);",
                "line": 240
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(CardSecurityCode, aCardSecurityCode, aResult);",
                "line": 241
            }},
            {"new": {
                "content": "  if (!aBillingAddress) {",
                "line": 242
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 243
            }},
            {"new": {
                "content": "  }",
                "line": 244
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, Country, aResult);",
                "line": 245
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIArray> addressLine;",
                "line": 246
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(aBillingAddress->GetAddressLine(getter_AddRefs(addressLine)),",
                "line": 247
            }},
            {"new": {
                "content": "                                                    NS_ERROR_FAILURE);",
                "line": 248
            }},
            {"new": {
                "content": "  uint32_t length;",
                "line": 249
            }},
            {"new": {
                "content": "  nsAutoString addressLineString;",
                "line": 250
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(addressLine->GetLength(&length), NS_ERROR_FAILURE);",
                "line": 251
            }},
            {"new": {
                "content": "  for (uint32_t index = 0; index < length; ++index) {",
                "line": 252
            }},
            {"new": {
                "content": "    nsCOMPtr<nsISupportsString> address = do_QueryElementAt(addressLine, index);",
                "line": 253
            }},
            {"new": {
                "content": "    MOZ_ASSERT(address);",
                "line": 254
            }},
            {"new": {
                "content": "    nsAutoString addressString;",
                "line": 255
            }},
            {"new": {
                "content": "    NS_ENSURE_SUCCESS(address->GetData(addressString), NS_ERROR_FAILURE);",
                "line": 256
            }},
            {"new": {
                "content": "    addressLineString += addressString + AddressLineSpliter;",
                "line": 257
            }},
            {"new": {
                "content": "  }",
                "line": 258
            }},
            {"new": {
                "content": "  EncodeBasicCardProperty(AddressLine ,addressLineString , aResult);",
                "line": 259
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, Region, aResult);",
                "line": 260
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, City, aResult);",
                "line": 261
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, DependentLocality, aResult);",
                "line": 262
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, PostalCode, aResult);",
                "line": 263
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, SortingCode, aResult);",
                "line": 264
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, LanguageCode, aResult);",
                "line": 265
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, Organization, aResult);",
                "line": 266
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, Recipient, aResult);",
                "line": 267
            }},
            {"new": {
                "content": "  EncodeAddressProperty(aBillingAddress, Phone, aResult);",
                "line": 268
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 269
            }},
            {"new": {
                "content": "}",
                "line": 270
            }},
            {"new": {
                "content": "",
                "line": 271
            }},
            {"new": {
                "content": "nsresult",
                "line": 272
            }},
            {"new": {
                "content": "BasicCardService::DecodeBasicCardData(const nsAString& aData,",
                "line": 273
            }},
            {"new": {
                "content": "                                      nsPIDOMWindowInner* aWindow,",
                "line": 274
            }},
            {"new": {
                "content": "                                      BasicCardResponse& aResponse)",
                "line": 275
            }},
            {"new": {
                "content": "{",
                "line": 276
            }},
            {"new": {
                "content": "  // aWindow can be nullptr",
                "line": 277
            }},
            {"new": {
                "content": "  bool isBillingAddressPassed = false;",
                "line": 278
            }},
            {"new": {
                "content": "  nsTArray<nsString> addressLine;",
                "line": 279
            }},
            {"new": {
                "content": "  nsAutoString country;",
                "line": 280
            }},
            {"new": {
                "content": "  nsAutoString region;",
                "line": 281
            }},
            {"new": {
                "content": "  nsAutoString city;",
                "line": 282
            }},
            {"new": {
                "content": "  nsAutoString dependentLocality;",
                "line": 283
            }},
            {"new": {
                "content": "  nsAutoString postalCode;",
                "line": 284
            }},
            {"new": {
                "content": "  nsAutoString sortingCode;",
                "line": 285
            }},
            {"new": {
                "content": "  nsAutoString languageCode;",
                "line": 286
            }},
            {"new": {
                "content": "  nsAutoString organization;",
                "line": 287
            }},
            {"new": {
                "content": "  nsAutoString recipient;",
                "line": 288
            }},
            {"new": {
                "content": "  nsAutoString phone;",
                "line": 289
            }},
            {"new": {
                "content": "",
                "line": 290
            }},
            {"new": {
                "content": "  nsCharSeparatedTokenizer propertyTokenizer(aData, PropertySpliter.CharAt(0));",
                "line": 291
            }},
            {"new": {
                "content": "  while (propertyTokenizer.hasMoreTokens()) {",
                "line": 292
            }},
            {"new": {
                "content": "    nsDependentSubstring property = propertyTokenizer.nextToken();",
                "line": 293
            }},
            {"new": {
                "content": "    nsCharSeparatedTokenizer keyValueTokenizer(property, KeyValueSpliter.CharAt(0));",
                "line": 294
            }},
            {"new": {
                "content": "    MOZ_ASSERT(keyValueTokenizer.hasMoreTokens());",
                "line": 295
            }},
            {"new": {
                "content": "    nsDependentSubstring key = keyValueTokenizer.nextToken();",
                "line": 296
            }},
            {"new": {
                "content": "    nsDependentSubstring value = keyValueTokenizer.nextToken();",
                "line": 297
            }},
            {"new": {
                "content": "    if (IsAddressKey(key) && !isBillingAddressPassed) {",
                "line": 298
            }},
            {"new": {
                "content": "      isBillingAddressPassed = true;",
                "line": 299
            }},
            {"new": {
                "content": "    }",
                "line": 300
            }},
            {"new": {
                "content": "    if (!IsAddressKey(key) && !IsBasicCardKey(key)) {",
                "line": 301
            }},
            {"new": {
                "content": "      return NS_ERROR_FAILURE;",
                "line": 302
            }},
            {"new": {
                "content": "    }",
                "line": 303
            }},
            {"new": {
                "content": "",
                "line": 304
            }},
            {"new": {
                "content": "    if (key.Equals(CardNumber)) {",
                "line": 305
            }},
            {"new": {
                "content": "      aResponse.mCardNumber = (value);",
                "line": 306
            }},
            {"new": {
                "content": "    }",
                "line": 307
            }},
            {"new": {
                "content": "",
                "line": 308
            }},
            {"new": {
                "content": "    DecodeBasicCardProperty(key, value, CardholderName, aResponse);",
                "line": 309
            }},
            {"new": {
                "content": "    DecodeBasicCardProperty(key, value, ExpiryMonth, aResponse);",
                "line": 310
            }},
            {"new": {
                "content": "    DecodeBasicCardProperty(key, value, ExpiryYear, aResponse);",
                "line": 311
            }},
            {"new": {
                "content": "    DecodeBasicCardProperty(key, value, CardSecurityCode, aResponse);",
                "line": 312
            }},
            {"new": {
                "content": "",
                "line": 313
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, Country, country);",
                "line": 314
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, Region, region);",
                "line": 315
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, City, city);",
                "line": 316
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, DependentLocality, dependentLocality);",
                "line": 317
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, PostalCode, postalCode);",
                "line": 318
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, SortingCode, sortingCode);",
                "line": 319
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, LanguageCode, languageCode);",
                "line": 320
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, Organization, organization);",
                "line": 321
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, Recipient, recipient);",
                "line": 322
            }},
            {"new": {
                "content": "    DecodeAddressProperty(key, value, Phone, phone);",
                "line": 323
            }},
            {"new": {
                "content": "",
                "line": 324
            }},
            {"new": {
                "content": "    if ((key).Equals(AddressLine)) {",
                "line": 325
            }},
            {"new": {
                "content": "      nsCharSeparatedTokenizer addressTokenizer(value, AddressLineSpliter.CharAt(0));",
                "line": 326
            }},
            {"new": {
                "content": "      while (addressTokenizer.hasMoreTokens()) {",
                "line": 327
            }},
            {"new": {
                "content": "        addressLine.AppendElement(addressTokenizer.nextToken());",
                "line": 328
            }},
            {"new": {
                "content": "      }",
                "line": 329
            }},
            {"new": {
                "content": "    }",
                "line": 330
            }},
            {"new": {
                "content": "  }",
                "line": 331
            }},
            {"new": {
                "content": "  if (isBillingAddressPassed) {",
                "line": 332
            }},
            {"new": {
                "content": "    aResponse.mBillingAddress.Construct();",
                "line": 333
            }},
            {"new": {
                "content": "    aResponse.mBillingAddress.Value() = new PaymentAddress(aWindow,",
                "line": 334
            }},
            {"new": {
                "content": "                                                           country,",
                "line": 335
            }},
            {"new": {
                "content": "                                                           addressLine,",
                "line": 336
            }},
            {"new": {
                "content": "                                                           region,",
                "line": 337
            }},
            {"new": {
                "content": "                                                           city,",
                "line": 338
            }},
            {"new": {
                "content": "                                                           dependentLocality,",
                "line": 339
            }},
            {"new": {
                "content": "                                                           postalCode,",
                "line": 340
            }},
            {"new": {
                "content": "                                                           sortingCode,",
                "line": 341
            }},
            {"new": {
                "content": "                                                           languageCode,",
                "line": 342
            }},
            {"new": {
                "content": "                                                           organization,",
                "line": 343
            }},
            {"new": {
                "content": "                                                           recipient,",
                "line": 344
            }},
            {"new": {
                "content": "                                                           phone);",
                "line": 345
            }},
            {"new": {
                "content": "  }",
                "line": 346
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 347
            }},
            {"new": {
                "content": "}",
                "line": 348
            }},
            {"new": {
                "content": "",
                "line": 349
            }},
            {"new": {
                "content": "#ifdef PaymentBasicCardMacros",
                "line": 350
            }},
            {"new": {
                "content": "#undef PaymentBasicCardMacros",
                "line": 351
            }},
            {"new": {
                "content": "#undef EncodeBasicCardProperty",
                "line": 352
            }},
            {"new": {
                "content": "#undef EncodeAddressProperty",
                "line": 353
            }},
            {"new": {
                "content": "#undef DecodeBasicCardProperty",
                "line": 354
            }},
            {"new": {
                "content": "#undef DecodeBasicCardCardNumber",
                "line": 355
            }},
            {"new": {
                "content": "#undef DecodeAddressProperty",
                "line": 356
            }},
            {"new": {
                "content": "#undef DecodeAddressLine",
                "line": 357
            }},
            {"new": {
                "content": "#undef AMEX",
                "line": 358
            }},
            {"new": {
                "content": "#undef CARTEBANCAIRE",
                "line": 359
            }},
            {"new": {
                "content": "#undef DINERS",
                "line": 360
            }},
            {"new": {
                "content": "#undef DISCOVER",
                "line": 361
            }},
            {"new": {
                "content": "#undef JCB",
                "line": 362
            }},
            {"new": {
                "content": "#undef MASTERCARD",
                "line": 363
            }},
            {"new": {
                "content": "#undef MIR",
                "line": 364
            }},
            {"new": {
                "content": "#undef UNIONPAY",
                "line": 365
            }},
            {"new": {
                "content": "#undef VISA",
                "line": 366
            }},
            {"new": {
                "content": "#undef CardholderName",
                "line": 367
            }},
            {"new": {
                "content": "#undef CardNumber",
                "line": 368
            }},
            {"new": {
                "content": "#undef ExpiryMonth",
                "line": 369
            }},
            {"new": {
                "content": "#undef ExpiryYear",
                "line": 370
            }},
            {"new": {
                "content": "#undef CardSecurityCode",
                "line": 371
            }},
            {"new": {
                "content": "#undef Country",
                "line": 372
            }},
            {"new": {
                "content": "#undef AddressLine",
                "line": 373
            }},
            {"new": {
                "content": "#undef Region",
                "line": 374
            }},
            {"new": {
                "content": "#undef City",
                "line": 375
            }},
            {"new": {
                "content": "#undef DependentLocality",
                "line": 376
            }},
            {"new": {
                "content": "#undef PostalCode",
                "line": 377
            }},
            {"new": {
                "content": "#undef SortingCode",
                "line": 378
            }},
            {"new": {
                "content": "#undef LanguageCode",
                "line": 379
            }},
            {"new": {
                "content": "#undef Organization",
                "line": 380
            }},
            {"new": {
                "content": "#undef Recipient",
                "line": 381
            }},
            {"new": {
                "content": "#undef Phone",
                "line": 382
            }},
            {"new": {
                "content": "#undef PropertySpliter",
                "line": 383
            }},
            {"new": {
                "content": "#undef KeyValueSpliter",
                "line": 384
            }},
            {"new": {
                "content": "#undef AddressLineSpliter",
                "line": 385
            }},
            {"new": {
                "content": "#endif",
                "line": 386
            }},
            {"new": {
                "content": "",
                "line": 387
            }},
            {"new": {
                "content": "} // end of namespace dom",
                "line": 388
            }},
            {"new": {
                "content": "} // end of namespace mozilla",
                "line": 389
            }}
        ],
        "new": {"name": "/dom/payments/BasicCardPayment.cpp"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */",
                "line": 0
            }},
            {"new": {
                "content": "/* vim:set ts=2 sw=2 sts=2 et cindent: */",
                "line": 1
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 2
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 3
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "#ifndef mozilla_dom_BasicCardPayment_h",
                "line": 6
            }},
            {"new": {
                "content": "#define mozilla_dom_BasicCardPayment_h",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }},
            {"new": {
                "content": "#include \"mozilla/dom/BasicCardPaymentBinding.h\"",
                "line": 9
            }},
            {"new": {
                "content": "#include \"nsPIDOMWindow.h\"",
                "line": 10
            }},
            {"new": {
                "content": "#include \"nsIPaymentAddress.h\"",
                "line": 11
            }},
            {"new": {
                "content": "#include \"nsTArray.h\"",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "namespace mozilla {",
                "line": 14
            }},
            {"new": {
                "content": "namespace dom {",
                "line": 15
            }},
            {"new": {
                "content": "",
                "line": 16
            }},
            {"new": {
                "content": "class BasicCardService final",
                "line": 17
            }},
            {"new": {
                "content": "{",
                "line": 18
            }},
            {"new": {
                "content": "public:",
                "line": 19
            }},
            {"new": {
                "content": "  NS_INLINE_DECL_REFCOUNTING(BasicCardService)",
                "line": 20
            }},
            {"new": {
                "content": "",
                "line": 21
            }},
            {"new": {
                "content": "  static already_AddRefed<BasicCardService> GetService();",
                "line": 22
            }},
            {"new": {
                "content": "",
                "line": 23
            }},
            {"new": {
                "content": "  bool IsBasicCardPayment(const nsAString& aSupportedMethods);",
                "line": 24
            }},
            {"new": {
                "content": "  bool IsValidBasicCardRequest(JSContext* aCx, JSObject* aData, nsAString& aErrorMsg);",
                "line": 25
            }},
            {"new": {
                "content": "  bool IsValidExpiryMonth(const nsAString& aExpiryMonth);",
                "line": 26
            }},
            {"new": {
                "content": "  bool IsValidExpiryYear(const nsAString& aExpiryYear);",
                "line": 27
            }},
            {"new": {
                "content": "",
                "line": 28
            }},
            {"new": {
                "content": "/*",
                "line": 29
            }},
            {"new": {
                "content": "  To let BasicCardResponse using the same data type with non-BasicCard response",
                "line": 30
            }},
            {"new": {
                "content": "  in IPC transferring, following two methods is used to Encode/Decode the raw",
                "line": 31
            }},
            {"new": {
                "content": "  data of BasicCardResponse.",
                "line": 32
            }},
            {"new": {
                "content": "*/",
                "line": 33
            }},
            {"new": {
                "content": "  nsresult EncodeBasicCardData(const nsAString& aCardholderName,",
                "line": 34
            }},
            {"new": {
                "content": "                               const nsAString& aCardNumber,",
                "line": 35
            }},
            {"new": {
                "content": "                               const nsAString& aExpiryMonth,",
                "line": 36
            }},
            {"new": {
                "content": "                               const nsAString& aExpiryYear,",
                "line": 37
            }},
            {"new": {
                "content": "                               const nsAString& aCardSecurityCode,",
                "line": 38
            }},
            {"new": {
                "content": "                               nsIPaymentAddress* aBillingAddress,",
                "line": 39
            }},
            {"new": {
                "content": "                               nsAString& aResult);",
                "line": 40
            }},
            {"new": {
                "content": "",
                "line": 41
            }},
            {"new": {
                "content": "  nsresult DecodeBasicCardData(const nsAString& aData,",
                "line": 42
            }},
            {"new": {
                "content": "                               nsPIDOMWindowInner* aWindow,",
                "line": 43
            }},
            {"new": {
                "content": "                               BasicCardResponse& aResponse);",
                "line": 44
            }},
            {"new": {
                "content": "private:",
                "line": 45
            }},
            {"new": {
                "content": "  BasicCardService() = default;",
                "line": 46
            }},
            {"new": {
                "content": "  ~BasicCardService() = default;",
                "line": 47
            }},
            {"new": {
                "content": "};",
                "line": 48
            }},
            {"new": {
                "content": "",
                "line": 49
            }},
            {"new": {
                "content": "} // end of namespace dom",
                "line": 50
            }},
            {"new": {
                "content": "} // end of namespace mozilla",
                "line": 51
            }},
            {"new": {
                "content": "",
                "line": 52
            }},
            {"new": {
                "content": "#endif",
                "line": 53
            }}
        ],
        "new": {"name": "/dom/payments/BasicCardPayment.h"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"nsIRunnable.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"PaymentRequestUtils.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"BasicCardPayment.h\"",
                "line": 7
            }},
            {"new": {
                "content": "/* PaymentResponseData */",
                "line": 10
            }},
            {"new": {
                "content": "",
                "line": 11
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(PaymentResponseData, nsIPaymentResponseData)",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 14
            }},
            {"new": {
                "content": "PaymentResponseData::GetType(uint32_t* aType)",
                "line": 15
            }},
            {"new": {
                "content": "{",
                "line": 16
            }},
            {"new": {
                "content": "  NS_ENSURE_ARG_POINTER(aType);",
                "line": 17
            }},
            {"new": {
                "content": "  *aType = mType;",
                "line": 18
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 19
            }},
            {"new": {
                "content": "}",
                "line": 20
            }},
            {"new": {
                "content": "",
                "line": 21
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 22
            }},
            {"new": {
                "content": "PaymentResponseData::Init(const uint32_t aType)",
                "line": 23
            }},
            {"new": {
                "content": "{",
                "line": 24
            }},
            {"new": {
                "content": "  if (aType != nsIPaymentResponseData::GENERAL_RESPONSE &&",
                "line": 25
            }},
            {"new": {
                "content": "      aType != nsIPaymentResponseData::BASICCARD_RESPONSE) {",
                "line": 26
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 27
            }},
            {"new": {
                "content": "  }",
                "line": 28
            }},
            {"new": {
                "content": "  mType = aType;",
                "line": 29
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 30
            }},
            {"new": {
                "content": "}",
                "line": 31
            }},
            {"new": {
                "content": "",
                "line": 32
            }},
            {"new": {
                "content": "/* GeneralResponseData */",
                "line": 33
            }},
            {"new": {
                "content": "",
                "line": 34
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS_INHERITED(GeneralResponseData,",
                "line": 35
            }},
            {"new": {
                "content": "                            PaymentResponseData,",
                "line": 36
            }},
            {"new": {
                "content": "                            nsIGeneralResponseData)",
                "line": 37
            }},
            {"new": {
                "content": "",
                "line": 38
            }},
            {"new": {
                "content": "GeneralResponseData::GeneralResponseData()",
                "line": 39
            }},
            {"new": {
                "content": "  : mData(NS_LITERAL_STRING(\"{}\"))",
                "line": 40
            }},
            {"new": {
                "content": "{",
                "line": 41
            }},
            {"new": {
                "content": "  Init(nsIPaymentResponseData::GENERAL_RESPONSE);",
                "line": 42
            }},
            {"new": {
                "content": "}",
                "line": 43
            }},
            {"new": {
                "content": "",
                "line": 44
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 45
            }},
            {"new": {
                "content": "GeneralResponseData::GetData(nsAString& aData)",
                "line": 46
            }},
            {"new": {
                "content": "{",
                "line": 47
            }},
            {"new": {
                "content": "  aData = mData;",
                "line": 48
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 49
            }},
            {"new": {
                "content": "}",
                "line": 50
            }},
            {"new": {
                "content": "",
                "line": 51
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 52
            }},
            {"new": {
                "content": "GeneralResponseData::InitData(JS::HandleValue aValue, JSContext* aCx)",
                "line": 53
            }},
            {"new": {
                "content": "{",
                "line": 54
            }},
            {"new": {
                "content": "  if (aValue.isNullOrUndefined()) {",
                "line": 55
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 56
            }},
            {"new": {
                "content": "  }",
                "line": 57
            }},
            {"new": {
                "content": "  nsresult rv = SerializeFromJSVal(aCx, aValue, mData);",
                "line": 58
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 59
            }},
            {"new": {
                "content": "    return rv;",
                "line": 60
            }},
            {"new": {
                "content": "  }",
                "line": 61
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 62
            }},
            {"new": {
                "content": "}",
                "line": 63
            }},
            {"new": {
                "content": "",
                "line": 64
            }},
            {"new": {
                "content": "/* BasicCardResponseData */",
                "line": 65
            }},
            {"new": {
                "content": "",
                "line": 66
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS_INHERITED(BasicCardResponseData,",
                "line": 67
            }},
            {"new": {
                "content": "                            PaymentResponseData,",
                "line": 68
            }},
            {"new": {
                "content": "                            nsIBasicCardResponseData)",
                "line": 69
            }},
            {"new": {
                "content": "",
                "line": 70
            }},
            {"new": {
                "content": "BasicCardResponseData::BasicCardResponseData()",
                "line": 71
            }},
            {"new": {
                "content": "{",
                "line": 72
            }},
            {"new": {
                "content": "  Init(nsIPaymentResponseData::BASICCARD_RESPONSE);",
                "line": 73
            }},
            {"new": {
                "content": "}",
                "line": 74
            }},
            {"new": {
                "content": "",
                "line": 75
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 76
            }},
            {"new": {
                "content": "BasicCardResponseData::GetData(nsAString& aData)",
                "line": 77
            }},
            {"new": {
                "content": "{",
                "line": 78
            }},
            {"new": {
                "content": "  aData = mData;",
                "line": 79
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 80
            }},
            {"new": {
                "content": "}",
                "line": 81
            }},
            {"new": {
                "content": "",
                "line": 82
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 83
            }},
            {"new": {
                "content": "BasicCardResponseData::InitData(const nsAString& aCardholderName,",
                "line": 84
            }},
            {"new": {
                "content": "                                const nsAString& aCardNumber,",
                "line": 85
            }},
            {"new": {
                "content": "                                const nsAString& aExpiryMonth,",
                "line": 86
            }},
            {"new": {
                "content": "                                const nsAString& aExpiryYear,",
                "line": 87
            }},
            {"new": {
                "content": "                                const nsAString& aCardSecurityCode,",
                "line": 88
            }},
            {"new": {
                "content": "                                nsIPaymentAddress* aBillingAddress)",
                "line": 89
            }},
            {"new": {
                "content": "{",
                "line": 90
            }},
            {"new": {
                "content": "  // cardNumber is a required attribute, cannot be empty;",
                "line": 91
            }},
            {"new": {
                "content": "  if (aCardNumber.IsEmpty()) {",
                "line": 92
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 93
            }},
            {"new": {
                "content": "  }",
                "line": 94
            }},
            {"new": {
                "content": "",
                "line": 95
            }},
            {"new": {
                "content": "  RefPtr<BasicCardService> service = BasicCardService::GetService();",
                "line": 96
            }},
            {"new": {
                "content": "  MOZ_ASSERT(service);",
                "line": 97
            }},
            {"new": {
                "content": "",
                "line": 98
            }},
            {"new": {
                "content": "  if (!service->IsValidExpiryMonth(aExpiryMonth)) {",
                "line": 99
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 100
            }},
            {"new": {
                "content": "  }",
                "line": 101
            }},
            {"new": {
                "content": "",
                "line": 102
            }},
            {"new": {
                "content": "  if (!service->IsValidExpiryYear(aExpiryYear)) {",
                "line": 103
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 104
            }},
            {"new": {
                "content": "  }",
                "line": 105
            }},
            {"new": {
                "content": "  nsresult rv = service->EncodeBasicCardData(aCardholderName,",
                "line": 106
            }},
            {"new": {
                "content": "                                             aCardNumber,",
                "line": 107
            }},
            {"new": {
                "content": "                                             aExpiryMonth,",
                "line": 108
            }},
            {"new": {
                "content": "                                             aExpiryYear,",
                "line": 109
            }},
            {"new": {
                "content": "                                             aCardSecurityCode,",
                "line": 110
            }},
            {"new": {
                "content": "                                             aBillingAddress,",
                "line": 111
            }},
            {"new": {
                "content": "                                             mData);",
                "line": 112
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 113
            }},
            {"new": {
                "content": "    return rv;",
                "line": 114
            }},
            {"new": {
                "content": "  }",
                "line": 115
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 116
            }},
            {"new": {
                "content": "}",
                "line": 117
            }},
            {"new": {
                "content": "",
                "line": 118
            }},
            {"old": {
                "content": "                                const nsAString& aData,",
                "line": 122
            }},
            {"new": {
                "content": "                                nsIPaymentResponseData* aData,",
                "line": 232
            }},
            {"new": {
                "content": "  NS_ENSURE_ARG_POINTER(aData);",
                "line": 237
            }},
            {"old": {
                "content": "  mData = aData;",
                "line": 130
            }},
            {"new": {
                "content": "",
                "line": 241
            }},
            {"new": {
                "content": "  RefPtr<BasicCardService> service = BasicCardService::GetService();",
                "line": 242
            }},
            {"new": {
                "content": "  MOZ_ASSERT(service);",
                "line": 243
            }},
            {"new": {
                "content": "  bool isBasicCardPayment = service->IsBasicCardPayment(mMethodName);",
                "line": 244
            }},
            {"new": {
                "content": "",
                "line": 245
            }},
            {"new": {
                "content": "  uint32_t responseType;",
                "line": 246
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(aData->GetType(&responseType), NS_ERROR_FAILURE);",
                "line": 247
            }},
            {"new": {
                "content": "  switch (responseType) {",
                "line": 248
            }},
            {"new": {
                "content": "    case nsIPaymentResponseData::GENERAL_RESPONSE: {",
                "line": 249
            }},
            {"new": {
                "content": "      if (isBasicCardPayment) {",
                "line": 250
            }},
            {"new": {
                "content": "        return NS_ERROR_FAILURE;",
                "line": 251
            }},
            {"new": {
                "content": "      }",
                "line": 252
            }},
            {"new": {
                "content": "      nsCOMPtr<nsIGeneralResponseData> data = do_QueryInterface(aData);",
                "line": 253
            }},
            {"new": {
                "content": "      MOZ_ASSERT(data);",
                "line": 254
            }},
            {"new": {
                "content": "      NS_ENSURE_SUCCESS(data->GetData(mData), NS_ERROR_FAILURE);",
                "line": 255
            }},
            {"new": {
                "content": "      break;",
                "line": 256
            }},
            {"new": {
                "content": "    }",
                "line": 257
            }},
            {"new": {
                "content": "    case nsIPaymentResponseData::BASICCARD_RESPONSE: {",
                "line": 258
            }},
            {"new": {
                "content": "      if (!isBasicCardPayment) {",
                "line": 259
            }},
            {"new": {
                "content": "        return NS_ERROR_FAILURE;",
                "line": 260
            }},
            {"new": {
                "content": "      }",
                "line": 261
            }},
            {"new": {
                "content": "      nsCOMPtr<nsIBasicCardResponseData> data = do_QueryInterface(aData);",
                "line": 262
            }},
            {"new": {
                "content": "      MOZ_ASSERT(data);",
                "line": 263
            }},
            {"new": {
                "content": "      NS_ENSURE_SUCCESS(data->GetData(mData), NS_ERROR_FAILURE);",
                "line": 264
            }},
            {"new": {
                "content": "      break;",
                "line": 265
            }},
            {"new": {
                "content": "    }",
                "line": 266
            }},
            {"new": {
                "content": "    default: {",
                "line": 267
            }},
            {"new": {
                "content": "      return NS_ERROR_FAILURE;",
                "line": 268
            }},
            {"new": {
                "content": "    }",
                "line": 269
            }},
            {"new": {
                "content": "  }",
                "line": 270
            }},
            {"new": {
                "content": "  if (mData.IsEmpty()) {",
                "line": 271
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 272
            }},
            {"new": {
                "content": "  }",
                "line": 273
            }},
            {"new": {
                "content": "",
                "line": 274
            }}
        ],
        "new": {"name": "/dom/payments/PaymentActionResponse.cpp"},
        "old": {"name": "/dom/payments/PaymentActionResponse.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "class PaymentResponseData : public nsIPaymentResponseData",
                "line": 12
            }},
            {"new": {
                "content": "{",
                "line": 13
            }},
            {"new": {
                "content": "public:",
                "line": 14
            }},
            {"new": {
                "content": "  NS_DECL_ISUPPORTS",
                "line": 15
            }},
            {"new": {
                "content": "  NS_DECL_NSIPAYMENTRESPONSEDATA",
                "line": 16
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "  PaymentResponseData() = default;",
                "line": 18
            }},
            {"new": {
                "content": "",
                "line": 19
            }},
            {"new": {
                "content": "protected:",
                "line": 20
            }},
            {"new": {
                "content": "  virtual ~PaymentResponseData() = default;",
                "line": 21
            }},
            {"new": {
                "content": "",
                "line": 22
            }},
            {"new": {
                "content": "  uint32_t mType;",
                "line": 23
            }},
            {"new": {
                "content": "};",
                "line": 24
            }},
            {"new": {
                "content": "",
                "line": 25
            }},
            {"new": {
                "content": "class GeneralResponseData final : public PaymentResponseData",
                "line": 26
            }},
            {"new": {
                "content": "                                , public nsIGeneralResponseData",
                "line": 27
            }},
            {"new": {
                "content": "{",
                "line": 28
            }},
            {"new": {
                "content": "public:",
                "line": 29
            }},
            {"new": {
                "content": "  NS_DECL_ISUPPORTS_INHERITED",
                "line": 30
            }},
            {"new": {
                "content": "  NS_FORWARD_NSIPAYMENTRESPONSEDATA(PaymentResponseData::)",
                "line": 31
            }},
            {"new": {
                "content": "  NS_DECL_NSIGENERALRESPONSEDATA",
                "line": 32
            }},
            {"new": {
                "content": "",
                "line": 33
            }},
            {"new": {
                "content": "  GeneralResponseData();",
                "line": 34
            }},
            {"new": {
                "content": "",
                "line": 35
            }},
            {"new": {
                "content": "private:",
                "line": 36
            }},
            {"new": {
                "content": "  ~GeneralResponseData() = default;",
                "line": 37
            }},
            {"new": {
                "content": "",
                "line": 38
            }},
            {"new": {
                "content": "  nsString mData;",
                "line": 39
            }},
            {"new": {
                "content": "};",
                "line": 40
            }},
            {"new": {
                "content": "",
                "line": 41
            }},
            {"new": {
                "content": "class BasicCardResponseData final : public nsIBasicCardResponseData",
                "line": 42
            }},
            {"new": {
                "content": "                                  , public PaymentResponseData",
                "line": 43
            }},
            {"new": {
                "content": "{",
                "line": 44
            }},
            {"new": {
                "content": "public:",
                "line": 45
            }},
            {"new": {
                "content": "  NS_DECL_ISUPPORTS_INHERITED",
                "line": 46
            }},
            {"new": {
                "content": "  NS_FORWARD_NSIPAYMENTRESPONSEDATA(PaymentResponseData::)",
                "line": 47
            }},
            {"new": {
                "content": "  NS_DECL_NSIBASICCARDRESPONSEDATA",
                "line": 48
            }},
            {"new": {
                "content": "",
                "line": 49
            }},
            {"new": {
                "content": "  BasicCardResponseData();",
                "line": 50
            }},
            {"new": {
                "content": "",
                "line": 51
            }},
            {"new": {
                "content": "private:",
                "line": 52
            }},
            {"new": {
                "content": "  ~BasicCardResponseData() = default;",
                "line": 53
            }},
            {"new": {
                "content": "",
                "line": 54
            }},
            {"new": {
                "content": "  nsString mData;",
                "line": 55
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIPaymentAddress> mBillingAddress;",
                "line": 56
            }},
            {"new": {
                "content": "};",
                "line": 57
            }},
            {"new": {
                "content": "",
                "line": 58
            }}
        ],
        "new": {"name": "/dom/payments/PaymentActionResponse.h"},
        "old": {"name": "/dom/payments/PaymentActionResponse.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"BasicCardPayment.h\"",
                "line": 9
            }},
            {"old": {
                "content": "PaymentRequest::IsValidMethodData(const Sequence<PaymentMethodData>& aMethodData,",
                "line": 52
            }},
            {"new": {
                "content": "PaymentRequest::IsValidMethodData(JSContext* aCx,",
                "line": 53
            }},
            {"new": {
                "content": "                                  const Sequence<PaymentMethodData>& aMethodData,",
                "line": 54
            }},
            {"old": {
                "content": "    if (!methodData.mSupportedMethods.Length()) {",
                "line": 60
            }},
            {"new": {
                "content": "    if (methodData.mSupportedMethods.IsEmpty()) {",
                "line": 62
            }},
            {"old": {
                "content": "        \"At least one payment method identifier is required.\");",
                "line": 62
            }},
            {"new": {
                "content": "        \"Payment method identifier is required.\");",
                "line": 64
            }},
            {"new": {
                "content": "    RefPtr<BasicCardService> service = BasicCardService::GetService();",
                "line": 67
            }},
            {"new": {
                "content": "    MOZ_ASSERT(service);",
                "line": 68
            }},
            {"new": {
                "content": "    if (service->IsBasicCardPayment(methodData.mSupportedMethods)) {",
                "line": 69
            }},
            {"new": {
                "content": "      if (!methodData.mData.WasPassed()) {",
                "line": 70
            }},
            {"new": {
                "content": "        continue;",
                "line": 71
            }},
            {"new": {
                "content": "      }",
                "line": 72
            }},
            {"new": {
                "content": "      MOZ_ASSERT(aCx);",
                "line": 73
            }},
            {"new": {
                "content": "      if (!service->IsValidBasicCardRequest(aCx,",
                "line": 74
            }},
            {"new": {
                "content": "                                            methodData.mData.Value(),",
                "line": 75
            }},
            {"new": {
                "content": "                                            aErrorMsg)) {",
                "line": 76
            }},
            {"new": {
                "content": "        return false;",
                "line": 77
            }},
            {"new": {
                "content": "      }",
                "line": 78
            }},
            {"new": {
                "content": "    }",
                "line": 79
            }},
            {"old": {
                "content": "  if (!IsValidMethodData(aMethodData, message) ||",
                "line": 260
            }},
            {"new": {
                "content": "  if (!IsValidMethodData(nsContentUtils::GetCurrentJSContext(),",
                "line": 275
            }},
            {"new": {
                "content": "                         aMethodData,",
                "line": 276
            }},
            {"new": {
                "content": "                         message) ||",
                "line": 277
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequest.cpp"},
        "old": {"name": "/dom/payments/PaymentRequest.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  static bool IsValidMethodData(const Sequence<PaymentMethodData>& aMethodData,",
                "line": 35
            }},
            {"new": {
                "content": "  static bool IsValidMethodData(JSContext* aCx,",
                "line": 35
            }},
            {"new": {
                "content": "                                const Sequence<PaymentMethodData>& aMethodData,",
                "line": 36
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequest.h"},
        "old": {"name": "/dom/payments/PaymentRequest.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "PaymentMethodData::GetData(nsAString& aData)",
                "line": 45
            }},
            {"new": {
                "content": "PaymentMethodData::GetData(JSContext* aCx, JS::MutableHandleValue aData)",
                "line": 45
            }},
            {"old": {
                "content": "  aData = mData;",
                "line": 47
            }},
            {"new": {
                "content": "  if (mData.IsEmpty()) {",
                "line": 47
            }},
            {"new": {
                "content": "    aData.set(JS::NullValue());",
                "line": 48
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 49
            }},
            {"new": {
                "content": "  }",
                "line": 50
            }},
            {"new": {
                "content": "  nsresult rv = DeserializeToJSValue(mData, aCx ,aData);",
                "line": 51
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 52
            }},
            {"new": {
                "content": "    return rv;",
                "line": 53
            }},
            {"new": {
                "content": "  }",
                "line": 54
            }},
            {"old": {
                "content": "PaymentDetailsModifier::GetData(nsAString& aData)",
                "line": 223
            }},
            {"new": {
                "content": "PaymentDetailsModifier::GetData(JSContext* aCx, JS::MutableHandleValue aData)",
                "line": 230
            }},
            {"old": {
                "content": "  aData = mData;",
                "line": 225
            }},
            {"new": {
                "content": "  if (mData.IsEmpty()) {",
                "line": 232
            }},
            {"new": {
                "content": "    aData.set(JS::NullValue());",
                "line": 233
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 234
            }},
            {"new": {
                "content": "  }",
                "line": 235
            }},
            {"new": {
                "content": "  nsresult rv = DeserializeToJSValue(mData, aCx ,aData);",
                "line": 236
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 237
            }},
            {"new": {
                "content": "    return rv;",
                "line": 238
            }},
            {"new": {
                "content": "  }",
                "line": 239
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestData.cpp"},
        "old": {"name": "/dom/payments/PaymentRequestData.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "using mozilla::dom::GeneralResponseData;",
                "line": 10
            }},
            {"new": {
                "content": "using mozilla::dom::BasicCardResponseData;",
                "line": 11
            }},
            {"new": {
                "content": "NS_GENERIC_FACTORY_CONSTRUCTOR(GeneralResponseData)",
                "line": 22
            }},
            {"new": {
                "content": "NS_GENERIC_FACTORY_CONSTRUCTOR(BasicCardResponseData)",
                "line": 23
            }},
            {"new": {
                "content": "NS_DEFINE_NAMED_CID(NS_GENERAL_RESPONSE_DATA_CID);",
                "line": 35
            }},
            {"new": {
                "content": "NS_DEFINE_NAMED_CID(NS_BASICCARD_RESPONSE_DATA_CID);",
                "line": 36
            }},
            {"new": {
                "content": "  { &kNS_GENERAL_RESPONSE_DATA_CID, false, nullptr, GeneralResponseDataConstructor},",
                "line": 48
            }},
            {"new": {
                "content": "  { &kNS_BASICCARD_RESPONSE_DATA_CID, false, nullptr, BasicCardResponseDataConstructor},",
                "line": 49
            }},
            {"new": {
                "content": "  { NS_GENERAL_RESPONSE_DATA_CONTRACT_ID, &kNS_GENERAL_RESPONSE_DATA_CID },",
                "line": 63
            }},
            {"new": {
                "content": "  { NS_BASICCARD_RESPONSE_DATA_CONTRACT_ID, &kNS_BASICCARD_RESPONSE_DATA_CID },",
                "line": 64
            }},
            {"new": {
                "content": "  { \"payment-request\", \"GeneralResponseData\", NS_GENERAL_RESPONSE_DATA_CONTRACT_ID },",
                "line": 78
            }},
            {"new": {
                "content": "  { \"payment-request\", \"BasicCardResponseData\", NS_BASICCARD_RESPONSE_DATA_CONTRACT_ID },",
                "line": 79
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestModule.cpp"},
        "old": {"name": "/dom/payments/PaymentRequestModule.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"BasicCardPayment.h\"",
                "line": 8
            }},
            {"old": {
                "content": "     *  TODO: 1. Check basic card support once the Basic Card Payment spec is",
                "line": 301
            }},
            {"old": {
                "content": "     *           implemented.",
                "line": 302
            }},
            {"old": {
                "content": "     *           https://www.w3.org/TR/payment-method-basic-card/",
                "line": 303
            }},
            {"old": {
                "content": "     *        2. Check third party payment app support by traversing all",
                "line": 304
            }},
            {"new": {
                "content": "     *  TODO: 1. Check third party payment app support by traversing all",
                "line": 302
            }},
            {"old": {
                "content": "      rv = CallTestingUIAction(requestId, type);",
                "line": 308
            }},
            {"old": {
                "content": "      if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 309
            }},
            {"old": {
                "content": "        return NS_ERROR_FAILURE;",
                "line": 310
            }},
            {"new": {
                "content": "      if (IsBasicCardPayment(requestId)) {",
                "line": 306
            }},
            {"new": {
                "content": "        nsCOMPtr<nsIPaymentCanMakeActionResponse> canMakeResponse =",
                "line": 307
            }},
            {"new": {
                "content": "          do_CreateInstance(NS_PAYMENT_CANMAKE_ACTION_RESPONSE_CONTRACT_ID);",
                "line": 308
            }},
            {"new": {
                "content": "        MOZ_ASSERT(canMakeResponse);",
                "line": 309
            }},
            {"new": {
                "content": "        rv = canMakeResponse->Init(requestId, true);",
                "line": 310
            }},
            {"new": {
                "content": "        if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 311
            }},
            {"new": {
                "content": "          return rv;",
                "line": 312
            }},
            {"new": {
                "content": "        }",
                "line": 313
            }},
            {"new": {
                "content": "        nsCOMPtr<nsIPaymentActionResponse> response = do_QueryInterface(canMakeResponse);",
                "line": 314
            }},
            {"new": {
                "content": "        MOZ_ASSERT(response);",
                "line": 315
            }},
            {"new": {
                "content": "        rv = RespondPayment(response);",
                "line": 316
            }},
            {"new": {
                "content": "        if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 317
            }},
            {"new": {
                "content": "          return rv;",
                "line": 318
            }},
            {"new": {
                "content": "        }",
                "line": 319
            }},
            {"new": {
                "content": "      } else {",
                "line": 320
            }},
            {"new": {
                "content": "        rv = CallTestingUIAction(requestId, type);",
                "line": 321
            }},
            {"new": {
                "content": "        if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 322
            }},
            {"new": {
                "content": "          return NS_ERROR_FAILURE;",
                "line": 323
            }},
            {"new": {
                "content": "        }",
                "line": 324
            }},
            {"new": {
                "content": "        nsCOMPtr<nsIPaymentResponseData> responseData =",
                "line": 333
            }},
            {"new": {
                "content": "          do_CreateInstance(NS_GENERAL_RESPONSE_DATA_CONTRACT_ID);",
                "line": 334
            }},
            {"new": {
                "content": "        MOZ_ASSERT(responseData);",
                "line": 335
            }},
            {"old": {
                "content": "                                EmptyString(),",
                "line": 325
            }},
            {"new": {
                "content": "                                responseData,",
                "line": 342
            }},
            {"new": {
                "content": "bool",
                "line": 537
            }},
            {"new": {
                "content": "PaymentRequestService::IsBasicCardPayment(const nsAString& aRequestId)",
                "line": 538
            }},
            {"new": {
                "content": "{",
                "line": 539
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIPaymentRequest> payment;",
                "line": 540
            }},
            {"new": {
                "content": "  nsresult rv = GetPaymentRequestById(aRequestId, getter_AddRefs(payment));",
                "line": 541
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(rv, false);",
                "line": 542
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIArray> methods;",
                "line": 543
            }},
            {"new": {
                "content": "  rv = payment->GetPaymentMethods(getter_AddRefs(methods));",
                "line": 544
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(rv, false);",
                "line": 545
            }},
            {"new": {
                "content": "  uint32_t length;",
                "line": 546
            }},
            {"new": {
                "content": "  rv = methods->GetLength(&length);",
                "line": 547
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS(rv, false);",
                "line": 548
            }},
            {"new": {
                "content": "  RefPtr<BasicCardService> service = BasicCardService::GetService();",
                "line": 549
            }},
            {"new": {
                "content": "  MOZ_ASSERT(service);",
                "line": 550
            }},
            {"new": {
                "content": "  for (uint32_t index = 0; index < length; ++index) {",
                "line": 551
            }},
            {"new": {
                "content": "    nsCOMPtr<nsIPaymentMethodData> method = do_QueryElementAt(methods, index);",
                "line": 552
            }},
            {"new": {
                "content": "    MOZ_ASSERT(method);",
                "line": 553
            }},
            {"new": {
                "content": "    nsAutoString supportedMethods;",
                "line": 554
            }},
            {"new": {
                "content": "    rv = method->GetSupportedMethods(supportedMethods);",
                "line": 555
            }},
            {"new": {
                "content": "    NS_ENSURE_SUCCESS(rv, false);",
                "line": 556
            }},
            {"new": {
                "content": "    if (service->IsBasicCardPayment(supportedMethods)) {",
                "line": 557
            }},
            {"new": {
                "content": "      return true;",
                "line": 558
            }},
            {"new": {
                "content": "    }",
                "line": 559
            }},
            {"new": {
                "content": "  }",
                "line": 560
            }},
            {"new": {
                "content": "  return false;",
                "line": 561
            }},
            {"new": {
                "content": "}",
                "line": 562
            }},
            {"new": {
                "content": "",
                "line": 563
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestService.cpp"},
        "old": {"name": "/dom/payments/PaymentRequestService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  bool",
                "line": 46
            }},
            {"new": {
                "content": "  IsBasicCardPayment(const nsAString& aRequestId);",
                "line": 47
            }},
            {"new": {
                "content": "",
                "line": 48
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestService.h"},
        "old": {"name": "/dom/payments/PaymentRequestService.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "SerializeFromJSObject(JSContext* aCx, JS::HandleObject aObject, nsAString& aSerializedObject) {",
                "line": 14
            }},
            {"new": {
                "content": "SerializeFromJSObject(JSContext* aCx, JS::HandleObject aObject, nsAString& aSerializedObject)",
                "line": 14
            }},
            {"new": {
                "content": "{",
                "line": 15
            }},
            {"new": {
                "content": "  MOZ_ASSERT(aCx);",
                "line": 16
            }},
            {"old": {
                "content": "DeserializeToJSObject(const nsAString& aSerializedObject, JSContext* aCx, JS::MutableHandleObject aObject) {",
                "line": 23
            }},
            {"new": {
                "content": "SerializeFromJSVal(JSContext* aCx, JS::HandleValue aValue, nsAString& aSerializedValue)",
                "line": 25
            }},
            {"new": {
                "content": "{",
                "line": 26
            }},
            {"new": {
                "content": "  MOZ_ASSERT(aCx);",
                "line": 27
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIJSON> serializer = do_CreateInstance(\"@mozilla.org/dom/json;1\");",
                "line": 28
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(!serializer)) {",
                "line": 29
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 30
            }},
            {"new": {
                "content": "  }",
                "line": 31
            }},
            {"new": {
                "content": "  JS::RootedValue value(aCx, aValue.get());",
                "line": 32
            }},
            {"new": {
                "content": "  return serializer->EncodeFromJSVal(value.address(), aCx, aSerializedValue);",
                "line": 33
            }},
            {"new": {
                "content": "}",
                "line": 34
            }},
            {"new": {
                "content": "",
                "line": 35
            }},
            {"new": {
                "content": "nsresult",
                "line": 36
            }},
            {"new": {
                "content": "DeserializeToJSObject(const nsAString& aSerializedObject, JSContext* aCx, JS::MutableHandleObject aObject)",
                "line": 37
            }},
            {"new": {
                "content": "{",
                "line": 38
            }},
            {"new": {
                "content": "  MOZ_ASSERT(aCx);",
                "line": 39
            }},
            {"new": {
                "content": "nsresult",
                "line": 60
            }},
            {"new": {
                "content": "DeserializeToJSValue(const nsAString& aSerializedObject, JSContext* aCx, JS::MutableHandleValue aValue)",
                "line": 61
            }},
            {"new": {
                "content": "{",
                "line": 62
            }},
            {"new": {
                "content": "  MOZ_ASSERT(aCx);",
                "line": 63
            }},
            {"new": {
                "content": "  nsCOMPtr<nsIJSON> deserializer = do_CreateInstance(\"@mozilla.org/dom/json;1\");",
                "line": 64
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(!deserializer)) {",
                "line": 65
            }},
            {"new": {
                "content": "    return NS_ERROR_FAILURE;",
                "line": 66
            }},
            {"new": {
                "content": "  }",
                "line": 67
            }},
            {"new": {
                "content": "  nsresult rv = deserializer->DecodeToJSVal(aSerializedObject, aCx, aValue);",
                "line": 68
            }},
            {"new": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 69
            }},
            {"new": {
                "content": "    return rv;",
                "line": 70
            }},
            {"new": {
                "content": "  }",
                "line": 71
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 72
            }},
            {"new": {
                "content": "}",
                "line": 73
            }},
            {"new": {
                "content": "",
                "line": 74
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestUtils.cpp"},
        "old": {"name": "/dom/payments/PaymentRequestUtils.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "SerializeFromJSVal(JSContext* aCx,",
                "line": 19
            }},
            {"new": {
                "content": "                   JS::HandleValue aValue,",
                "line": 20
            }},
            {"new": {
                "content": "                   nsAString& aSerializedValue);",
                "line": 21
            }},
            {"new": {
                "content": "",
                "line": 22
            }},
            {"new": {
                "content": "nsresult",
                "line": 23
            }},
            {"new": {
                "content": "nsresult",
                "line": 27
            }},
            {"new": {
                "content": "DeserializeToJSValue(const nsAString& aSerializedObject,",
                "line": 28
            }},
            {"new": {
                "content": "                     JSContext* aCx,",
                "line": 29
            }},
            {"new": {
                "content": "                     JS::MutableHandleValue aValue);",
                "line": 30
            }},
            {"new": {
                "content": "",
                "line": 31
            }}
        ],
        "new": {"name": "/dom/payments/PaymentRequestUtils.h"},
        "old": {"name": "/dom/payments/PaymentRequestUtils.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/dom/BasicCardPaymentBinding.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"BasicCardPayment.h\"",
                "line": 7
            }},
            {"new": {
                "content": "#include \"PaymentAddress.h\"",
                "line": 8
            }},
            {"old": {
                "content": "  DeserializeToJSObject(mDetails, aCx, aRetVal);",
                "line": 74
            }},
            {"new": {
                "content": "  RefPtr<BasicCardService> service = BasicCardService::GetService();",
                "line": 77
            }},
            {"new": {
                "content": "  MOZ_ASSERT(service);",
                "line": 78
            }},
            {"new": {
                "content": "  if (!service->IsBasicCardPayment(mMethodName)) {",
                "line": 79
            }},
            {"new": {
                "content": "    DeserializeToJSObject(mDetails, aCx, aRetVal);",
                "line": 80
            }},
            {"new": {
                "content": "  } else {",
                "line": 81
            }},
            {"new": {
                "content": "    BasicCardResponse response;",
                "line": 82
            }},
            {"new": {
                "content": "    nsresult rv = service->DecodeBasicCardData(mDetails, mOwner, response);",
                "line": 83
            }},
            {"new": {
                "content": "    if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 84
            }},
            {"new": {
                "content": "      return;",
                "line": 85
            }},
            {"new": {
                "content": "    }",
                "line": 86
            }},
            {"new": {
                "content": "",
                "line": 87
            }},
            {"new": {
                "content": "    MOZ_ASSERT(aCx);",
                "line": 88
            }},
            {"new": {
                "content": "    JS::RootedValue value(aCx);",
                "line": 89
            }},
            {"new": {
                "content": "    JS::MutableHandleValue handleValue(&value);",
                "line": 90
            }},
            {"new": {
                "content": "    if (NS_WARN_IF(!response.ToObjectInternal(aCx, handleValue))) {",
                "line": 91
            }},
            {"new": {
                "content": "      return;",
                "line": 92
            }},
            {"new": {
                "content": "    }",
                "line": 93
            }},
            {"new": {
                "content": "    aRetVal.set(&handleValue.toObject());",
                "line": 94
            }},
            {"new": {
                "content": "  }",
                "line": 95
            }}
        ],
        "new": {"name": "/dom/payments/PaymentResponse.cpp"},
        "old": {"name": "/dom/payments/PaymentResponse.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'BasicCardPayment.cpp',",
                "line": 23
            }}
        ],
        "new": {"name": "/dom/payments/moz.build"},
        "old": {"name": "/dom/payments/moz.build"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"new": {
                "content": "/* Any copyright is dedicated to the Public Domain.",
                "line": 1
            }},
            {"new": {
                "content": "   http://creativecommons.org/publicdomain/zero/1.0/ */",
                "line": 2
            }},
            {"new": {
                "content": "\"use strict\";",
                "line": 3
            }},
            {"new": {
                "content": "",
                "line": 4
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu } = Components;",
                "line": 5
            }},
            {"new": {
                "content": "",
                "line": 6
            }},
            {"new": {
                "content": "const { XPCOMUtils } = Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }},
            {"new": {
                "content": "const paymentSrv = Cc[\"@mozilla.org/dom/payments/payment-request-service;1\"].getService(Ci.nsIPaymentRequestService);",
                "line": 9
            }},
            {"new": {
                "content": "",
                "line": 10
            }},
            {"new": {
                "content": "function emitTestFail(message) {",
                "line": 11
            }},
            {"new": {
                "content": "  sendAsyncMessage(\"test-fail\", message);",
                "line": 12
            }},
            {"new": {
                "content": "}",
                "line": 13
            }},
            {"new": {
                "content": "",
                "line": 14
            }},
            {"new": {
                "content": "const billingAddress = Cc[\"@mozilla.org/dom/payments/payment-address;1\"].",
                "line": 15
            }},
            {"new": {
                "content": "                           createInstance(Ci.nsIPaymentAddress);",
                "line": 16
            }},
            {"new": {
                "content": "const addressLine = Cc[\"@mozilla.org/array;1\"].createInstance(Ci.nsIMutableArray);",
                "line": 17
            }},
            {"new": {
                "content": "const address = Cc[\"@mozilla.org/supports-string;1\"].createInstance(Ci.nsISupportsString);",
                "line": 18
            }},
            {"new": {
                "content": "address.data = \"Easton Ave\";",
                "line": 19
            }},
            {"new": {
                "content": "addressLine.appendElement(address);",
                "line": 20
            }},
            {"new": {
                "content": "billingAddress.init(\"USA\",              // country",
                "line": 21
            }},
            {"new": {
                "content": "                     addressLine,        // address line",
                "line": 22
            }},
            {"new": {
                "content": "                     \"CA\",               // region",
                "line": 23
            }},
            {"new": {
                "content": "                     \"San Bruno\",        // city",
                "line": 24
            }},
            {"new": {
                "content": "                     \"\",                 // dependent locality",
                "line": 25
            }},
            {"new": {
                "content": "                     \"94066\",            // postal code",
                "line": 26
            }},
            {"new": {
                "content": "                     \"123456\",           // sorting code",
                "line": 27
            }},
            {"new": {
                "content": "                     \"en\",               // language code",
                "line": 28
            }},
            {"new": {
                "content": "                     \"\",                 // organization",
                "line": 29
            }},
            {"new": {
                "content": "                     \"Bill A. Pacheco\",  // recipient",
                "line": 30
            }},
            {"new": {
                "content": "                     \"+14344413879\"); // phone",
                "line": 31
            }},
            {"new": {
                "content": "",
                "line": 32
            }},
            {"new": {
                "content": "const basiccardResponseData = Cc[\"@mozilla.org/dom/payments/basiccard-response-data;1\"].",
                "line": 33
            }},
            {"new": {
                "content": "                                 createInstance(Ci.nsIBasicCardResponseData);",
                "line": 34
            }},
            {"new": {
                "content": "",
                "line": 35
            }},
            {"new": {
                "content": "const showResponse = Cc[\"@mozilla.org/dom/payments/payment-show-action-response;1\"].",
                "line": 36
            }},
            {"new": {
                "content": "                        createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 37
            }},
            {"new": {
                "content": "",
                "line": 38
            }},
            {"new": {
                "content": "function abortPaymentResponse(requestId) {",
                "line": 39
            }},
            {"new": {
                "content": "  let abortResponse = Cc[\"@mozilla.org/dom/payments/payment-abort-action-response;1\"].",
                "line": 40
            }},
            {"new": {
                "content": "                         createInstance(Ci.nsIPaymentAbortActionResponse);",
                "line": 41
            }},
            {"new": {
                "content": "  abortResponse.init(requestId, Ci.nsIPaymentActionResponse.ABORT_SUCCEEDED);",
                "line": 42
            }},
            {"new": {
                "content": "  return abortResponse.QueryInterface(Ci.nsIPaymentActionResponse);",
                "line": 43
            }},
            {"new": {
                "content": "}",
                "line": 44
            }},
            {"new": {
                "content": "",
                "line": 45
            }},
            {"new": {
                "content": "function completePaymentResponse(requestId) {",
                "line": 46
            }},
            {"new": {
                "content": "  let completeResponse = Cc[\"@mozilla.org/dom/payments/payment-complete-action-response;1\"].",
                "line": 47
            }},
            {"new": {
                "content": "                            createInstance(Ci.nsIPaymentCompleteActionResponse);",
                "line": 48
            }},
            {"new": {
                "content": "  completeResponse.init(requestId, Ci.nsIPaymentActionResponse.COMPLETE_SUCCEEDED);",
                "line": 49
            }},
            {"new": {
                "content": "  return completeResponse;",
                "line": 50
            }},
            {"new": {
                "content": "}",
                "line": 51
            }},
            {"new": {
                "content": "",
                "line": 52
            }},
            {"new": {
                "content": "const detailedResponseUI = {",
                "line": 53
            }},
            {"new": {
                "content": "  canMakePayment: function(requestId) {",
                "line": 54
            }},
            {"new": {
                "content": "    return null;",
                "line": 55
            }},
            {"new": {
                "content": "  },",
                "line": 56
            }},
            {"new": {
                "content": "  showPayment: function(requestId) {",
                "line": 57
            }},
            {"new": {
                "content": "    try {",
                "line": 58
            }},
            {"new": {
                "content": "      basiccardResponseData.initData(\"Bill A. Pacheco\",  // cardholderName",
                "line": 59
            }},
            {"new": {
                "content": "                                     \"4916855166538720\", // cardNumber",
                "line": 60
            }},
            {"new": {
                "content": "                                     \"01\",               // expiryMonth",
                "line": 61
            }},
            {"new": {
                "content": "                                     \"2024\",             // expiryYear",
                "line": 62
            }},
            {"new": {
                "content": "                                     \"180\",              // cardSecurityCode",
                "line": 63
            }},
            {"new": {
                "content": "                                     billingAddress);   // billingAddress",
                "line": 64
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 65
            }},
            {"new": {
                "content": "      emitTestFail(\"Fail to initialize basic card response data.\");",
                "line": 66
            }},
            {"new": {
                "content": "    }",
                "line": 67
            }},
            {"new": {
                "content": "    showResponse.init(requestId,",
                "line": 68
            }},
            {"new": {
                "content": "                      Ci.nsIPaymentActionResponse.PAYMENT_ACCEPTED,",
                "line": 69
            }},
            {"new": {
                "content": "                      \"basic-card\",         // payment method",
                "line": 70
            }},
            {"new": {
                "content": "                      basiccardResponseData,// payment method data",
                "line": 71
            }},
            {"new": {
                "content": "                      \"Bill A. Pacheco\",    // payer name",
                "line": 72
            }},
            {"new": {
                "content": "                      \"\",                   // payer email",
                "line": 73
            }},
            {"new": {
                "content": "                      \"\");                  // payer phone",
                "line": 74
            }},
            {"new": {
                "content": "    return showResponse;",
                "line": 75
            }},
            {"new": {
                "content": "  },",
                "line": 76
            }},
            {"new": {
                "content": "  abortPayment: abortPaymentResponse,",
                "line": 77
            }},
            {"new": {
                "content": "  completePayment: completePaymentResponse,",
                "line": 78
            }},
            {"new": {
                "content": "  updatePayment: function(requestId) {",
                "line": 79
            }},
            {"new": {
                "content": "    return null;",
                "line": 80
            }},
            {"new": {
                "content": "  },",
                "line": 81
            }},
            {"new": {
                "content": "  QueryInterface: XPCOMUtils.generateQI([Ci.nsIPaymentUIService]),",
                "line": 82
            }},
            {"new": {
                "content": "};",
                "line": 83
            }},
            {"new": {
                "content": "",
                "line": 84
            }},
            {"new": {
                "content": "const simpleResponseUI = {",
                "line": 85
            }},
            {"new": {
                "content": "  canMakePayment: function(requestId) {",
                "line": 86
            }},
            {"new": {
                "content": "    return null;",
                "line": 87
            }},
            {"new": {
                "content": "  },",
                "line": 88
            }},
            {"new": {
                "content": "  showPayment: function(requestId) {",
                "line": 89
            }},
            {"new": {
                "content": "    try {",
                "line": 90
            }},
            {"new": {
                "content": "      basiccardResponseData.initData(\"\",                 // cardholderName",
                "line": 91
            }},
            {"new": {
                "content": "                                     \"4916855166538720\", // cardNumber",
                "line": 92
            }},
            {"new": {
                "content": "                                     \"\",                 // expiryMonth",
                "line": 93
            }},
            {"new": {
                "content": "                                     \"\",                 // expiryYear",
                "line": 94
            }},
            {"new": {
                "content": "                                     \"\",                 // cardSecurityCode",
                "line": 95
            }},
            {"new": {
                "content": "                                     null);              // billingAddress",
                "line": 96
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 97
            }},
            {"new": {
                "content": "      emitTestFail(\"Fail to initialize basic card response data.\");",
                "line": 98
            }},
            {"new": {
                "content": "    }",
                "line": 99
            }},
            {"new": {
                "content": "    showResponse.init(requestId,",
                "line": 100
            }},
            {"new": {
                "content": "                      Ci.nsIPaymentActionResponse.PAYMENT_ACCEPTED,",
                "line": 101
            }},
            {"new": {
                "content": "                      \"basic-card\",         // payment method",
                "line": 102
            }},
            {"new": {
                "content": "                      basiccardResponseData,// payment method data",
                "line": 103
            }},
            {"new": {
                "content": "                      \"Bill A. Pacheco\",    // payer name",
                "line": 104
            }},
            {"new": {
                "content": "                      \"\",                   // payer email",
                "line": 105
            }},
            {"new": {
                "content": "                      \"\");                  // payer phone",
                "line": 106
            }},
            {"new": {
                "content": "    return showResponse;",
                "line": 107
            }},
            {"new": {
                "content": "  },",
                "line": 108
            }},
            {"new": {
                "content": "  abortPayment: abortPaymentResponse,",
                "line": 109
            }},
            {"new": {
                "content": "  completePayment: completePaymentResponse,",
                "line": 110
            }},
            {"new": {
                "content": "  updatePayment: function(requestId) {",
                "line": 111
            }},
            {"new": {
                "content": "    return null;",
                "line": 112
            }},
            {"new": {
                "content": "  },",
                "line": 113
            }},
            {"new": {
                "content": "  QueryInterface: XPCOMUtils.generateQI([Ci.nsIPaymentUIService]),",
                "line": 114
            }},
            {"new": {
                "content": "};",
                "line": 115
            }},
            {"new": {
                "content": "",
                "line": 116
            }},
            {"new": {
                "content": "addMessageListener(\"set-detailed-ui-service\", function() {",
                "line": 117
            }},
            {"new": {
                "content": "  paymentSrv.setTestingUIService(detailedResponseUI.QueryInterface(Ci.nsIPaymentUIService));",
                "line": 118
            }},
            {"new": {
                "content": "});",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 120
            }},
            {"new": {
                "content": "addMessageListener(\"set-simple-ui-service\", function() {",
                "line": 121
            }},
            {"new": {
                "content": "  paymentSrv.setTestingUIService(simpleResponseUI.QueryInterface(Ci.nsIPaymentUIService));",
                "line": 122
            }},
            {"new": {
                "content": "});",
                "line": 123
            }},
            {"new": {
                "content": "",
                "line": 124
            }},
            {"new": {
                "content": "addMessageListener(\"error-response-test\", function() {",
                "line": 125
            }},
            {"new": {
                "content": "  // test empty cardNumber",
                "line": 126
            }},
            {"new": {
                "content": "  try {",
                "line": 127
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"\", \"\", \"\", \"\", null);",
                "line": 128
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with empty cardNumber.\");",
                "line": 129
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 130
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 131
            }},
            {"new": {
                "content": "      emitTestFail(\"Empty cardNumber expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 132
            }},
            {"new": {
                "content": "    }",
                "line": 133
            }},
            {"new": {
                "content": "  }",
                "line": 134
            }},
            {"new": {
                "content": "",
                "line": 135
            }},
            {"new": {
                "content": "  // test invalid expiryMonth 123",
                "line": 136
            }},
            {"new": {
                "content": "  try {",
                "line": 137
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"4916855166538720\", \"123\", \"\", \"\", null);",
                "line": 138
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with invalid expiryMonth '123'.\");",
                "line": 139
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 140
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 141
            }},
            {"new": {
                "content": "      emitTestFail(\"expiryMonth 123 expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 142
            }},
            {"new": {
                "content": "    }",
                "line": 143
            }},
            {"new": {
                "content": "  }",
                "line": 144
            }},
            {"new": {
                "content": "  // test invalid expiryMonth 99",
                "line": 145
            }},
            {"new": {
                "content": "  try {",
                "line": 146
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"4916855166538720\", \"99\", \"\", \"\", null);",
                "line": 147
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with invalid expiryMonth '99'.\");",
                "line": 148
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 149
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 150
            }},
            {"new": {
                "content": "      emitTestFail(\"expiryMonth 99 xpected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 151
            }},
            {"new": {
                "content": "    }",
                "line": 152
            }},
            {"new": {
                "content": "  }",
                "line": 153
            }},
            {"new": {
                "content": "  // test invalid expiryMonth ab",
                "line": 154
            }},
            {"new": {
                "content": "  try {",
                "line": 155
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"4916855166538720\", \"ab\", \"\", \"\", null);",
                "line": 156
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with invalid expiryMonth 'ab'.\");",
                "line": 157
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 158
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 159
            }},
            {"new": {
                "content": "      emitTestFail(\"expiryMonth ab expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 160
            }},
            {"new": {
                "content": "    }",
                "line": 161
            }},
            {"new": {
                "content": "  }",
                "line": 162
            }},
            {"new": {
                "content": "  // test invalid expiryYear abcd",
                "line": 163
            }},
            {"new": {
                "content": "  try {",
                "line": 164
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"4916855166538720\", \"\", \"abcd\", \"\", null);",
                "line": 165
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with invalid expiryYear 'abcd'.\");",
                "line": 166
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 167
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 168
            }},
            {"new": {
                "content": "      emitTestFail(\"expiryYear abcd expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 169
            }},
            {"new": {
                "content": "    }",
                "line": 170
            }},
            {"new": {
                "content": "  }",
                "line": 171
            }},
            {"new": {
                "content": "  // test invalid expiryYear 11111",
                "line": 172
            }},
            {"new": {
                "content": "  try {",
                "line": 173
            }},
            {"new": {
                "content": "    basiccardResponseData.initData(\"\", \"4916855166538720\", \"\", \"11111\", \"\", null);",
                "line": 174
            }},
            {"new": {
                "content": "    emitTestFail(\"BasicCardResponse should not be initialized with invalid expiryYear '11111'.\");",
                "line": 175
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 176
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 177
            }},
            {"new": {
                "content": "      emitTestFail(\"expiryYear 11111 expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 178
            }},
            {"new": {
                "content": "    }",
                "line": 179
            }},
            {"new": {
                "content": "  }",
                "line": 180
            }},
            {"new": {
                "content": "",
                "line": 181
            }},
            {"new": {
                "content": "",
                "line": 182
            }},
            {"new": {
                "content": "  const responseData = Cc[\"@mozilla.org/dom/payments/general-response-data;1\"].",
                "line": 183
            }},
            {"new": {
                "content": "                          createInstance(Ci.nsIGeneralResponseData);",
                "line": 184
            }},
            {"new": {
                "content": "  try {",
                "line": 185
            }},
            {"new": {
                "content": "    responseData.initData({});",
                "line": 186
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 187
            }},
            {"new": {
                "content": "    emitTestFail(\"Fail to initialize response data with empty object.\");",
                "line": 188
            }},
            {"new": {
                "content": "  }",
                "line": 189
            }},
            {"new": {
                "content": "",
                "line": 190
            }},
            {"new": {
                "content": "  try {",
                "line": 191
            }},
            {"new": {
                "content": "    showResponse.init(\"testid\",",
                "line": 192
            }},
            {"new": {
                "content": "                      Ci.nsIPaymentActionResponse.PAYMENT_ACCEPTED,",
                "line": 193
            }},
            {"new": {
                "content": "                      \"basic-card\",         // payment method",
                "line": 194
            }},
            {"new": {
                "content": "                      responseData,         // payment method data",
                "line": 195
            }},
            {"new": {
                "content": "                      \"Bill A. Pacheco\",    // payer name",
                "line": 196
            }},
            {"new": {
                "content": "                      \"\",                   // payer email",
                "line": 197
            }},
            {"new": {
                "content": "                      \"\");                  // payer phone",
                "line": 198
            }},
            {"new": {
                "content": "    emitTestFail(\"nsIPaymentShowActionResponse should not be initialized with basic-card method and nsIGeneralResponseData.\");",
                "line": 199
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 200
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 201
            }},
            {"new": {
                "content": "      emitTestFail(\"ShowResponse init expected 'NS_ERROR_FAILURE', but got \" + e.name + \".\");",
                "line": 202
            }},
            {"new": {
                "content": "    }",
                "line": 203
            }},
            {"new": {
                "content": "  }",
                "line": 204
            }},
            {"new": {
                "content": "  sendAsyncMessage(\"error-response-complete\");",
                "line": 205
            }},
            {"new": {
                "content": "});",
                "line": 206
            }},
            {"new": {
                "content": "",
                "line": 207
            }},
            {"new": {
                "content": "addMessageListener(\"teardown\", function() {",
                "line": 208
            }},
            {"new": {
                "content": "  paymentSrv.cleanup();",
                "line": 209
            }},
            {"new": {
                "content": "  paymentSrv.setTestingUIService(null);",
                "line": 210
            }},
            {"new": {
                "content": "  sendAsyncMessage(\"teardown-complete\");",
                "line": 211
            }},
            {"new": {
                "content": "});",
                "line": 212
            }}
        ],
        "new": {"name": "/dom/payments/test/BasiccardChromeScript.js"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "  if (methodData.data) {",
                "line": 28
            }},
            {"new": {
                "content": "    emitTestFail(\"methodData.data should not exist.\");",
                "line": 29
            }},
            {"new": {
                "content": "  }",
                "line": 30
            }},
            {"old": {
                "content": "  if (data != \"{\\\"supportedNetworks\\\":[\\\"unionpay\\\",\\\"visa\\\",\\\"mastercard\\\",\\\"amex\\\",\\\"discover\\\",\\\"diners\\\",\\\"jcb\\\",\\\"mir\\\"],\\\"supportedTypes\\\":[\\\"prepaid\\\",\\\"debit\\\",\\\"credit\\\"]}\") {",
                "line": 84
            }},
            {"old": {
                "content": "    emitTestFail(\"method data should be '{\\\"supportedNetworks\\\":[\\\"unionpay\\\",\\\"visa\\\",\\\"mastercard\\\",\\\"amex\\\",\\\"discover\\\",\\\"diners\\\",\\\"jcb\\\",\\\"mir\\\"],\\\"supportedTypes\\\":[\\\"prepaid\\\",\\\"debit\\\",\\\"credit\\\"]}', but got '\" + data + \"'.\");",
                "line": 85
            }},
            {"new": {
                "content": "  const supportedNetworks = data.supportedNetworks;",
                "line": 87
            }},
            {"new": {
                "content": "  const expectedSupportedNetworks = [\"unionpay\", \"visa\", \"mastercard\", \"amex\",",
                "line": 88
            }},
            {"new": {
                "content": "                                     \"discover\", \"diners\", \"jcb\", \"mir\"];",
                "line": 89
            }},
            {"new": {
                "content": "  if (supportedNetworks.length !=  expectedSupportedNetworks.length) {",
                "line": 90
            }},
            {"new": {
                "content": "    emitTestFail(\"supportedNetworks.length should be \" +",
                "line": 91
            }},
            {"new": {
                "content": "                 expectedSupportedNetworks.length +",
                "line": 92
            }},
            {"new": {
                "content": "                 \", but got \" + supportedNetworks.length + \".\");",
                "line": 93
            }},
            {"new": {
                "content": "  }",
                "line": 94
            }},
            {"new": {
                "content": "  for (let idx = 0; idx < supportedNetworks.length; idx++) {",
                "line": 95
            }},
            {"new": {
                "content": "    if (supportedNetworks[idx] != expectedSupportedNetworks[idx]) {",
                "line": 96
            }},
            {"new": {
                "content": "      emitTestFail(\"supportedNetworks[\" + idx + \"] should be '\" +",
                "line": 97
            }},
            {"new": {
                "content": "                   expectedSupportedNetworks[idx] + \"', but got '\" +",
                "line": 98
            }},
            {"new": {
                "content": "                   supportedNetworks[idx] + \"'.\");",
                "line": 99
            }},
            {"new": {
                "content": "    }",
                "line": 100
            }},
            {"new": {
                "content": "  }",
                "line": 101
            }},
            {"new": {
                "content": "  const supportedTypes = data.supportedTypes;",
                "line": 102
            }},
            {"new": {
                "content": "  const expectedSupportedTypes = [\"prepaid\", \"debit\", \"credit\"];",
                "line": 103
            }},
            {"new": {
                "content": "  if (supportedTypes.length != expectedSupportedTypes.length) {",
                "line": 104
            }},
            {"new": {
                "content": "    emitTestFail(\"supportedTypes.length should be '\" +",
                "line": 105
            }},
            {"new": {
                "content": "                 expectedSupportedTypes.length + \"', but got '\" +",
                "line": 106
            }},
            {"new": {
                "content": "                 supportedTypes.length + \"'.\");",
                "line": 107
            }},
            {"new": {
                "content": "  }",
                "line": 108
            }},
            {"new": {
                "content": "  for (let idx = 0; idx < supportedTypes.length; idx++) {",
                "line": 109
            }},
            {"new": {
                "content": "    if (supportedTypes[idx] != expectedSupportedTypes[idx]) {",
                "line": 110
            }},
            {"new": {
                "content": "      emitTestFail(\"supportedTypes[\" + idx + \"] should be '\" +",
                "line": 111
            }},
            {"new": {
                "content": "                   expectedSupportedTypes[idx] + \"', but got '\" +",
                "line": 112
            }},
            {"new": {
                "content": "                   supportedTypes[idx] + \"'.\");",
                "line": 113
            }},
            {"new": {
                "content": "    }",
                "line": 114
            }},
            {"old": {
                "content": "  if (modifier.data != \"{\\\"discountProgramParticipantId\\\":\\\"86328764873265\\\"}\") {",
                "line": 166
            }},
            {"old": {
                "content": "    emitTestFail(\"modifier's data should be '{\\\"discountProgramParticipantId\\\":\\\"86328764873265\\\"}'.\");",
                "line": 167
            }},
            {"new": {
                "content": "  if (modifier.data.discountProgramParticipantId != \"86328764873265\") {",
                "line": 195
            }},
            {"new": {
                "content": "    emitTestFail(\"modifier's data should be '86328764873265', but got '\" +",
                "line": 196
            }},
            {"new": {
                "content": "                 modifier.data.discountProgramParticipantId + \"'.\");",
                "line": 197
            }},
            {"new": {
                "content": "function checkNonBasicCardRequest(payRequest) {",
                "line": 258
            }},
            {"new": {
                "content": "  if (payRequest.paymentMethods.length != 1) {",
                "line": 259
            }},
            {"new": {
                "content": "    emitTestFail(\"paymentMethods' length should be 1.\");",
                "line": 260
            }},
            {"new": {
                "content": "  }",
                "line": 261
            }},
            {"new": {
                "content": "",
                "line": 262
            }},
            {"new": {
                "content": "  const methodData = payRequest.paymentMethods.queryElementAt(0, Ci.nsIPaymentMethodData);",
                "line": 263
            }},
            {"new": {
                "content": "  if (!methodData) {",
                "line": 264
            }},
            {"new": {
                "content": "    emitTestFail(\"Fail to get payment methodData.\");",
                "line": 265
            }},
            {"new": {
                "content": "  }",
                "line": 266
            }},
            {"new": {
                "content": "  const supportedMethod = methodData.supportedMethods;",
                "line": 267
            }},
            {"new": {
                "content": "  if (supportedMethod != \"testing-payment-method\") {",
                "line": 268
            }},
            {"new": {
                "content": "    emitTestFail(\"supported method should be 'testing-payment-method'.\");",
                "line": 269
            }},
            {"new": {
                "content": "  }",
                "line": 270
            }},
            {"new": {
                "content": "",
                "line": 271
            }},
            {"new": {
                "content": "  const paymentId = methodData.data.paymentId;",
                "line": 272
            }},
            {"new": {
                "content": "  if (paymentId != \"P3892940\") {",
                "line": 273
            }},
            {"new": {
                "content": "    emitTestFail(\"methodData.data.paymentId should be 'P3892940', but got \" + paymentId + \".\");",
                "line": 274
            }},
            {"new": {
                "content": "  }",
                "line": 275
            }},
            {"new": {
                "content": "  const paymentType = methodData.data.paymentType;",
                "line": 276
            }},
            {"new": {
                "content": "  if (paymentType != \"prepaid\") {",
                "line": 277
            }},
            {"new": {
                "content": "    emitTestFail(\"methodData.data.paymentType should be 'prepaid', but got \" + paymentType + \".\");",
                "line": 278
            }},
            {"new": {
                "content": "  }",
                "line": 279
            }},
            {"new": {
                "content": "",
                "line": 280
            }},
            {"new": {
                "content": "  // checking the passed PaymentDetails parameter",
                "line": 281
            }},
            {"new": {
                "content": "  const details = payRequest.paymentDetails;",
                "line": 282
            }},
            {"new": {
                "content": "  if (details.totalItem.label != \"Total\") {",
                "line": 283
            }},
            {"new": {
                "content": "    emitTestFail(\"total item's label should be 'Total'.\");",
                "line": 284
            }},
            {"new": {
                "content": "  }",
                "line": 285
            }},
            {"new": {
                "content": "  if (details.totalItem.amount.currency != \"USD\") {",
                "line": 286
            }},
            {"new": {
                "content": "    emitTestFail(\"total item's currency should be 'USD'.\");",
                "line": 287
            }},
            {"new": {
                "content": "  }",
                "line": 288
            }},
            {"new": {
                "content": "  if (details.totalItem.amount.value != \"1.00\") {",
                "line": 289
            }},
            {"new": {
                "content": "    emitTestFail(\"total item's value should be '1.00'.\");",
                "line": 290
            }},
            {"new": {
                "content": "  }",
                "line": 291
            }},
            {"new": {
                "content": "",
                "line": 292
            }},
            {"new": {
                "content": "  if (details.displayItems) {",
                "line": 293
            }},
            {"new": {
                "content": "    emitTestFail(\"details.displayItems should be undefined.\");",
                "line": 294
            }},
            {"new": {
                "content": "  }",
                "line": 295
            }},
            {"new": {
                "content": "  if (details.modifiers) {",
                "line": 296
            }},
            {"new": {
                "content": "    emitTestFail(\"details.displayItems should be undefined.\");",
                "line": 297
            }},
            {"new": {
                "content": "  }",
                "line": 298
            }},
            {"new": {
                "content": "  if (details.shippingOptions) {",
                "line": 299
            }},
            {"new": {
                "content": "    emitTestFail(\"details.shippingOptions should be undefined.\");",
                "line": 300
            }},
            {"new": {
                "content": "  }",
                "line": 301
            }},
            {"new": {
                "content": "",
                "line": 302
            }},
            {"new": {
                "content": "  // checking the default generated PaymentOptions parameter",
                "line": 303
            }},
            {"new": {
                "content": "  const paymentOptions = payRequest.paymentOptions;",
                "line": 304
            }},
            {"new": {
                "content": "  if (paymentOptions.requestPayerName) {",
                "line": 305
            }},
            {"new": {
                "content": "    emitTestFail(\"requestPayerName option should be false.\");",
                "line": 306
            }},
            {"new": {
                "content": "  }",
                "line": 307
            }},
            {"new": {
                "content": "  if (paymentOptions.requestPayerEmail) {",
                "line": 308
            }},
            {"new": {
                "content": "    emitTestFail(\"requestPayerEmail option should be false.\");",
                "line": 309
            }},
            {"new": {
                "content": "  }",
                "line": 310
            }},
            {"new": {
                "content": "  if (paymentOptions.requestPayerPhone) {",
                "line": 311
            }},
            {"new": {
                "content": "    emitTestFail(\"requestPayerPhone option should be false.\");",
                "line": 312
            }},
            {"new": {
                "content": "  }",
                "line": 313
            }},
            {"new": {
                "content": "  if (paymentOptions.requestShipping) {",
                "line": 314
            }},
            {"new": {
                "content": "    emitTestFail(\"requestShipping option should be false.\");",
                "line": 315
            }},
            {"new": {
                "content": "  }",
                "line": 316
            }},
            {"new": {
                "content": "  if (paymentOptions.shippingType != \"shipping\") {",
                "line": 317
            }},
            {"new": {
                "content": "    emitTestFail(\"shippingType option should be 'shipping'.\")",
                "line": 318
            }},
            {"new": {
                "content": "  }",
                "line": 319
            }},
            {"new": {
                "content": "}",
                "line": 320
            }},
            {"new": {
                "content": "",
                "line": 321
            }},
            {"new": {
                "content": "function checkNonBasicCardRequestHandler() {",
                "line": 417
            }},
            {"new": {
                "content": "  const paymentEnum = paymentSrv.enumerate();",
                "line": 418
            }},
            {"new": {
                "content": "  if (!paymentEnum.hasMoreElements()) {",
                "line": 419
            }},
            {"new": {
                "content": "    emitTestFail(\"PaymentRequestService should have at least one payment request.\");",
                "line": 420
            }},
            {"new": {
                "content": "  }",
                "line": 421
            }},
            {"new": {
                "content": "  while (paymentEnum.hasMoreElements()) {",
                "line": 422
            }},
            {"new": {
                "content": "    let payRequest = paymentEnum.getNext().QueryInterface(Ci.nsIPaymentRequest);",
                "line": 423
            }},
            {"new": {
                "content": "    if (!payRequest) {",
                "line": 424
            }},
            {"new": {
                "content": "      emitTestFail(\"Fail to get existing payment request.\");",
                "line": 425
            }},
            {"new": {
                "content": "      break;",
                "line": 426
            }},
            {"new": {
                "content": "    }",
                "line": 427
            }},
            {"new": {
                "content": "    checkNonBasicCardRequest(payRequest);",
                "line": 428
            }},
            {"new": {
                "content": "  }",
                "line": 429
            }},
            {"new": {
                "content": "  paymentSrv.cleanup();",
                "line": 430
            }},
            {"new": {
                "content": "  sendAsyncMessage(\"check-complete\");",
                "line": 431
            }},
            {"new": {
                "content": "}",
                "line": 432
            }},
            {"new": {
                "content": "",
                "line": 433
            }},
            {"new": {
                "content": "addMessageListener(\"check-nonbasiccard-request\", checkNonBasicCardRequestHandler);",
                "line": 478
            }}
        ],
        "new": {"name": "/dom/payments/test/ConstructorChromeScript.js"},
        "old": {"name": "/dom/payments/test/ConstructorChromeScript.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "const shippingAddress = Cc[\"@mozilla.org/dom/payments/payment-address;1\"].",
                "line": 12
            }},
            {"new": {
                "content": "                           createInstance(Ci.nsIPaymentAddress);",
                "line": 13
            }},
            {"new": {
                "content": "const addressLine = Cc[\"@mozilla.org/array;1\"].createInstance(Ci.nsIMutableArray);",
                "line": 14
            }},
            {"new": {
                "content": "const address = Cc[\"@mozilla.org/supports-string;1\"].createInstance(Ci.nsISupportsString);",
                "line": 15
            }},
            {"new": {
                "content": "address.data = \"Easton Ave\";",
                "line": 16
            }},
            {"new": {
                "content": "addressLine.appendElement(address);",
                "line": 17
            }},
            {"new": {
                "content": "shippingAddress.init(\"USA\",              // country",
                "line": 18
            }},
            {"new": {
                "content": "                     addressLine,        // address line",
                "line": 19
            }},
            {"new": {
                "content": "                     \"CA\",               // region",
                "line": 20
            }},
            {"new": {
                "content": "                     \"San Bruno\",        // city",
                "line": 21
            }},
            {"new": {
                "content": "                     \"\",                 // dependent locality",
                "line": 22
            }},
            {"new": {
                "content": "                     \"94066\",            // postal code",
                "line": 23
            }},
            {"new": {
                "content": "                     \"123456\",           // sorting code",
                "line": 24
            }},
            {"new": {
                "content": "                     \"en\",               // language code",
                "line": 25
            }},
            {"new": {
                "content": "                     \"\",                 // organization",
                "line": 26
            }},
            {"new": {
                "content": "                     \"Bill A. Pacheco\",  // recipient",
                "line": 27
            }},
            {"new": {
                "content": "                     \"+1-434-441-3879\"); // phone",
                "line": 28
            }},
            {"new": {
                "content": "",
                "line": 29
            }},
            {"old": {
                "content": "    const shippingAddress = Cc[\"@mozilla.org/dom/payments/payment-address;1\"].",
                "line": 18
            }},
            {"old": {
                "content": "                            createInstance(Ci.nsIPaymentAddress);",
                "line": 19
            }},
            {"old": {
                "content": "    const addressLine = Cc[\"@mozilla.org/array;1\"].createInstance(Ci.nsIMutableArray);",
                "line": 20
            }},
            {"old": {
                "content": "    const address = Cc[\"@mozilla.org/supports-string;1\"].createInstance(Ci.nsISupportsString);",
                "line": 21
            }},
            {"old": {
                "content": "    address.data = \"Easton Ave\";",
                "line": 22
            }},
            {"old": {
                "content": "    addressLine.appendElement(address);",
                "line": 23
            }},
            {"old": {
                "content": "    shippingAddress.init(\"USA\",              // country",
                "line": 24
            }},
            {"old": {
                "content": "                         addressLine,        // address line",
                "line": 25
            }},
            {"old": {
                "content": "                         \"CA\",               // region",
                "line": 26
            }},
            {"old": {
                "content": "                         \"San Bruno\",        // city",
                "line": 27
            }},
            {"old": {
                "content": "                         \"\",                 // dependent locality",
                "line": 28
            }},
            {"old": {
                "content": "                         \"94066\",            // postal code",
                "line": 29
            }},
            {"old": {
                "content": "                         \"123456\",           // sorting code",
                "line": 30
            }},
            {"old": {
                "content": "                         \"en\",               // language code",
                "line": 31
            }},
            {"old": {
                "content": "                         \"\",                 // organization",
                "line": 32
            }},
            {"old": {
                "content": "                         \"Bill A. Pacheco\",  // recipient",
                "line": 33
            }},
            {"old": {
                "content": "                         \"+1-434-441-3879\"); // phone",
                "line": 34
            }},
            {"old": {
                "content": "      const paymentData = \"{\\\"cardholderName\\\":\\\"Bill A. Pacheco\\\",\\\"cardNumber\\\":\\\"4024007191304152\\\",\\\"expiryMonth\\\":\\\"05\\\",\\\"expiryYear\\\":\\\"2019\\\",\\\"cardSecurityCode\\\":\\\"024\\\"}\";",
                "line": 69
            }},
            {"new": {
                "content": "",
                "line": 70
            }},
            {"new": {
                "content": "      const showResponseData = Cc[\"@mozilla.org/dom/payments/general-response-data;1\"].",
                "line": 71
            }},
            {"new": {
                "content": "                                  createInstance(Ci.nsIGeneralResponseData);",
                "line": 72
            }},
            {"new": {
                "content": "",
                "line": 73
            }},
            {"new": {
                "content": "      try {",
                "line": 74
            }},
            {"new": {
                "content": "        showResponseData.initData({ paymentToken: \"6880281f-0df3-4b8e-916f-66575e2457c1\",});",
                "line": 75
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 76
            }},
            {"new": {
                "content": "        emitTestFail(\"Fail to initialize response data with { paymentToken: \\\"6880281f-0df3-4b8e-916f-66575e2457c1\\\",}\");",
                "line": 77
            }},
            {"new": {
                "content": "      }",
                "line": 78
            }},
            {"new": {
                "content": "",
                "line": 79
            }},
            {"old": {
                "content": "                        \"basic-card\",               // payment method",
                "line": 74
            }},
            {"old": {
                "content": "                        paymentData,                // payment method data",
                "line": 75
            }},
            {"new": {
                "content": "                        \"testing-payment-method\",   // payment method",
                "line": 84
            }},
            {"new": {
                "content": "                        showResponseData,           // payment method data",
                "line": 85
            }},
            {"new": {
                "content": "    const responseData = Cc[\"@mozilla.org/dom/payments/general-response-data;1\"].",
                "line": 99
            }},
            {"new": {
                "content": "                            createInstance(Ci.nsIGeneralResponseData);",
                "line": 100
            }},
            {"new": {
                "content": "",
                "line": 101
            }},
            {"new": {
                "content": "    try {",
                "line": 102
            }},
            {"new": {
                "content": "      responseData.initData({});",
                "line": 103
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 104
            }},
            {"new": {
                "content": "      emitTestFail(\"Fail to initialize response data with empty object.\");",
                "line": 105
            }},
            {"new": {
                "content": "    }",
                "line": 106
            }},
            {"old": {
                "content": "                         createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 90
            }},
            {"new": {
                "content": "                            createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 108
            }},
            {"old": {
                "content": "                      \"\",       // payment method",
                "line": 93
            }},
            {"old": {
                "content": "                      \"\",       // payment method data",
                "line": 94
            }},
            {"old": {
                "content": "                      \"\",       // payer name",
                "line": 95
            }},
            {"old": {
                "content": "                      \"\",       // payer email",
                "line": 96
            }},
            {"old": {
                "content": "                      \"\");      // payer phone",
                "line": 97
            }},
            {"new": {
                "content": "                      \"\",                 // payment method",
                "line": 111
            }},
            {"new": {
                "content": "                      responseData,       // payment method data",
                "line": 112
            }},
            {"new": {
                "content": "                      \"\",                 // payer name",
                "line": 113
            }},
            {"new": {
                "content": "                      \"\",                 // payer email",
                "line": 114
            }},
            {"new": {
                "content": "                      \"\");                // payer phone",
                "line": 115
            }},
            {"new": {
                "content": "    const responseData = Cc[\"@mozilla.org/dom/payments/general-response-data;1\"].",
                "line": 154
            }},
            {"new": {
                "content": "                            createInstance(Ci.nsIGeneralResponseData);",
                "line": 155
            }},
            {"new": {
                "content": "    try {",
                "line": 156
            }},
            {"new": {
                "content": "      responseData.initData({});",
                "line": 157
            }},
            {"new": {
                "content": "    } catch (e) {",
                "line": 158
            }},
            {"new": {
                "content": "      emitTestFail(\"Fail to initialize response data with empty object.\");",
                "line": 159
            }},
            {"new": {
                "content": "    }",
                "line": 160
            }},
            {"old": {
                "content": "                         createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 137
            }},
            {"new": {
                "content": "                            createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 162
            }},
            {"old": {
                "content": "                      \"\",       // payment method",
                "line": 140
            }},
            {"old": {
                "content": "                      \"\",       // payment method data",
                "line": 141
            }},
            {"old": {
                "content": "                      \"\",       // payer name",
                "line": 142
            }},
            {"old": {
                "content": "                      \"\",       // payer email",
                "line": 143
            }},
            {"old": {
                "content": "                      \"\");      // payer phone",
                "line": 144
            }},
            {"new": {
                "content": "                      \"\",                 // payment method",
                "line": 165
            }},
            {"new": {
                "content": "                      responseData,       // payment method data",
                "line": 166
            }},
            {"new": {
                "content": "                      \"\",                 // payer name",
                "line": 167
            }},
            {"new": {
                "content": "                      \"\",                 // payer email",
                "line": 168
            }},
            {"new": {
                "content": "                      \"\");                // payer phone",
                "line": 169
            }},
            {"new": {
                "content": "",
                "line": 170
            }},
            {"new": {
                "content": "function testNullDetailsResponseHandler() {",
                "line": 175
            }},
            {"new": {
                "content": "  const showResponseData = Cc[\"@mozilla.org/dom/payments/general-response-data;1\"].",
                "line": 176
            }},
            {"new": {
                "content": "                              createInstance(Ci.nsIGeneralResponseData);",
                "line": 177
            }},
            {"new": {
                "content": "  try {",
                "line": 178
            }},
            {"new": {
                "content": "    showResponseData.initData(null);",
                "line": 179
            }},
            {"new": {
                "content": "    emitTestFail(\"nsIGeneralResponseData can not be initialized with null object.\");",
                "line": 180
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 181
            }},
            {"new": {
                "content": "    if (e.name != \"NS_ERROR_FAILURE\") {",
                "line": 182
            }},
            {"new": {
                "content": "      emitTestFail(\"Expected 'NS_ERROR_FAILURE' when initializing nsIGeneralResponseData with null object, but got \" + e.name + \".\");",
                "line": 183
            }},
            {"new": {
                "content": "    }",
                "line": 184
            }},
            {"new": {
                "content": "  }",
                "line": 185
            }},
            {"new": {
                "content": "  const showResponse = Cc[\"@mozilla.org/dom/payments/payment-show-action-response;1\"].",
                "line": 186
            }},
            {"new": {
                "content": "                          createInstance(Ci.nsIPaymentShowActionResponse);",
                "line": 187
            }},
            {"new": {
                "content": "  try {",
                "line": 188
            }},
            {"new": {
                "content": "    showResponse.init(\"test request id\",",
                "line": 189
            }},
            {"new": {
                "content": "                      Ci.nsIPaymentActionResponse.PAYMENT_ACCEPTED,",
                "line": 190
            }},
            {"new": {
                "content": "                      \"testing-payment-method\",   // payment method",
                "line": 191
            }},
            {"new": {
                "content": "                      showResponseData,           // payment method data",
                "line": 192
            }},
            {"new": {
                "content": "                      \"Bill A. Pacheco\",          // payer name",
                "line": 193
            }},
            {"new": {
                "content": "                      \"\",                         // payer email",
                "line": 194
            }},
            {"new": {
                "content": "                      \"\");                        // payer phone",
                "line": 195
            }},
            {"new": {
                "content": "  } catch (e) {",
                "line": 196
            }},
            {"new": {
                "content": "    emitTestFail(\"Unexpected error \" + e.name + \" when initializing nsIPaymentShowActionResponse.\");",
                "line": 197
            }},
            {"new": {
                "content": "  }",
                "line": 198
            }},
            {"new": {
                "content": "  sendAsyncMessage(\"test-null-details-response-complete\");",
                "line": 199
            }},
            {"new": {
                "content": "}",
                "line": 200
            }},
            {"new": {
                "content": "",
                "line": 201
            }},
            {"new": {
                "content": "addMessageListener(\"test-null-details-response\", testNullDetailsResponseHandler);",
                "line": 211
            }},
            {"new": {
                "content": "",
                "line": 212
            }},
            {"new": {
                "content": "",
                "line": 213
            }}
        ],
        "new": {"name": "/dom/payments/test/ShowPaymentChromeScript.js"},
        "old": {"name": "/dom/payments/test/ShowPaymentChromeScript.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "  is(methodData.data, \"\", \"method data should be empty\");",
                "line": 8
            }},
            {"new": {
                "content": "  ok(!methodData.data, \"methodData.data should not exist.\");",
                "line": 8
            }},
            {"old": {
                "content": "  is(methodData.data, \"\", \"method data should be empty\");",
                "line": 37
            }},
            {"new": {
                "content": "  ok(!methodData.data, \"methodData.data should not exist.\");",
                "line": 37
            }},
            {"old": {
                "content": "  is(modifier.data, \"{\\\"discountProgramParticipantId\\\":\\\"86328764873265\\\"}\",",
                "line": 73
            }},
            {"old": {
                "content": "     \"modifier's data should be '{\\\"discountProgramParticipantId\\\":\\\"86328764873265\\\"}'.\");",
                "line": 74
            }},
            {"new": {
                "content": "  ok(modifier.data, \"moidifer.data should exist.\");",
                "line": 73
            }},
            {"new": {
                "content": "  is(modifier.data.discountProgramParticipantId, \"86328764873265\",",
                "line": 74
            }},
            {"new": {
                "content": "     \"modifier.data.discountProgramParticipantId should be '86328764873265'.\");",
                "line": 75
            }},
            {"old": {
                "content": "  is(methodData.supportedMethods, \"MyPay\", \"modifier's supported method name should be 'MyPay'.\");",
                "line": 107
            }},
            {"old": {
                "content": "  is(methodData.data, \"\", \"method data should be empty\");",
                "line": 108
            }},
            {"new": {
                "content": "  is(methodData.supportedMethods, \"MyPay\", \"methodData.supportedMethod name should be 'MyPay'.\");",
                "line": 108
            }},
            {"new": {
                "content": "  ok(!methodData.data, \"methodData.data should not exist.\");",
                "line": 109
            }}
        ],
        "new": {"name": "/dom/payments/test/head.js"},
        "old": {"name": "/dom/payments/test/head.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "  BasiccardChromeScript.js",
                "line": 6
            }},
            {"new": {
                "content": "[test_basiccard.html]",
                "line": 11
            }}
        ],
        "new": {"name": "/dom/payments/test/mochitest.ini"},
        "old": {"name": "/dom/payments/test/mochitest.ini"}
    },
    {
        "changes": [
            {"new": {
                "content": "<!DOCTYPE HTML>",
                "line": 0
            }},
            {"new": {
                "content": "<html>",
                "line": 1
            }},
            {"new": {
                "content": "<!--",
                "line": 2
            }},
            {"new": {
                "content": "https://bugzilla.mozilla.org/show_bug.cgi?id=1375345",
                "line": 3
            }},
            {"new": {
                "content": "-->",
                "line": 4
            }},
            {"new": {
                "content": "<head>",
                "line": 5
            }},
            {"new": {
                "content": "  <meta charset=\"utf-8\">",
                "line": 6
            }},
            {"new": {
                "content": "  <title>Test for Bug 1375345</title>",
                "line": 7
            }},
            {"new": {
                "content": "  <link rel=\"stylesheet\" type=\"text/css\" href=\"/tests/SimpleTest/test.css\"/>",
                "line": 8
            }},
            {"new": {
                "content": "  <script type=\"application/javascript\" src=\"/tests/SimpleTest/SimpleTest.js\"></script>",
                "line": 9
            }},
            {"new": {
                "content": "  <script type=\"application/javascript\">",
                "line": 10
            }},
            {"new": {
                "content": "",
                "line": 11
            }},
            {"new": {
                "content": "  \"use strict\";",
                "line": 12
            }},
            {"new": {
                "content": "  SimpleTest.waitForExplicitFinish();",
                "line": 13
            }},
            {"new": {
                "content": "",
                "line": 14
            }},
            {"new": {
                "content": "  var gUrl = SimpleTest.getTestFileURL('BasiccardChromeScript.js');",
                "line": 15
            }},
            {"new": {
                "content": "  var gScript = SpecialPowers.loadChromeScript(gUrl);",
                "line": 16
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "  function testFailHandler(message) {",
                "line": 18
            }},
            {"new": {
                "content": "    ok(false, message);",
                "line": 19
            }},
            {"new": {
                "content": "  }",
                "line": 20
            }},
            {"new": {
                "content": "  gScript.addMessageListener(\"test-fail\", testFailHandler);",
                "line": 21
            }},
            {"new": {
                "content": "",
                "line": 22
            }},
            {"new": {
                "content": "  const errorTypesMethods = [{",
                "line": 23
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 24
            }},
            {"new": {
                "content": "    data: {",
                "line": 25
            }},
            {"new": {
                "content": "      supportedTypes: [\"myType\"],",
                "line": 26
            }},
            {"new": {
                "content": "    },",
                "line": 27
            }},
            {"new": {
                "content": "  }];",
                "line": 28
            }},
            {"new": {
                "content": "",
                "line": 29
            }},
            {"new": {
                "content": "  const errorNetworksMethods = [{",
                "line": 30
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 31
            }},
            {"new": {
                "content": "    data: {",
                "line": 32
            }},
            {"new": {
                "content": "      supportedNetworks: [\"myNetwork\"],",
                "line": 33
            }},
            {"new": {
                "content": "    },",
                "line": 34
            }},
            {"new": {
                "content": "  }];",
                "line": 35
            }},
            {"new": {
                "content": "",
                "line": 36
            }},
            {"new": {
                "content": "  const nullDataMethods = [{",
                "line": 37
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 38
            }},
            {"new": {
                "content": "  }];",
                "line": 39
            }},
            {"new": {
                "content": "",
                "line": 40
            }},
            {"new": {
                "content": "  const emptyDataMethods = [{",
                "line": 41
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 42
            }},
            {"new": {
                "content": "    data: {},",
                "line": 43
            }},
            {"new": {
                "content": "  }];",
                "line": 44
            }},
            {"new": {
                "content": "",
                "line": 45
            }},
            {"new": {
                "content": "  const unconvertableDataMethods = [{",
                "line": 46
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 47
            }},
            {"new": {
                "content": "    data: \"unconvertable data\",",
                "line": 48
            }},
            {"new": {
                "content": "  }];",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "  const defaultMethods = [{",
                "line": 51
            }},
            {"new": {
                "content": "    supportedMethods: \"basic-card\",",
                "line": 52
            }},
            {"new": {
                "content": "    data: {",
                "line": 53
            }},
            {"new": {
                "content": "      supportedNetworks: [\"unionpay\", \"visa\", \"mastercard\", \"amex\", \"discover\",",
                "line": 54
            }},
            {"new": {
                "content": "                          \"diners\", \"jcb\", \"mir\",",
                "line": 55
            }},
            {"new": {
                "content": "      ],",
                "line": 56
            }},
            {"new": {
                "content": "      supportedTypes: [\"prepaid\", \"debit\", \"credit\"],",
                "line": 57
            }},
            {"new": {
                "content": "    },",
                "line": 58
            }},
            {"new": {
                "content": "  }];",
                "line": 59
            }},
            {"new": {
                "content": "  const defaultDetails = {",
                "line": 60
            }},
            {"new": {
                "content": "    id: \"test payment\",",
                "line": 61
            }},
            {"new": {
                "content": "    total: {",
                "line": 62
            }},
            {"new": {
                "content": "      label: \"Total\",",
                "line": 63
            }},
            {"new": {
                "content": "      amount: {",
                "line": 64
            }},
            {"new": {
                "content": "        currency: \"USD\",",
                "line": 65
            }},
            {"new": {
                "content": "        value: \"1.00\"",
                "line": 66
            }},
            {"new": {
                "content": "      }",
                "line": 67
            }},
            {"new": {
                "content": "    },",
                "line": 68
            }},
            {"new": {
                "content": "    shippingOptions: [",
                "line": 69
            }},
            {"new": {
                "content": "      {",
                "line": 70
            }},
            {"new": {
                "content": "        id: \"NormalShipping\",",
                "line": 71
            }},
            {"new": {
                "content": "        label: \"NormalShipping\",",
                "line": 72
            }},
            {"new": {
                "content": "        amount: {",
                "line": 73
            }},
            {"new": {
                "content": "          currency: \"USD\",",
                "line": 74
            }},
            {"new": {
                "content": "          value: \"10.00\"",
                "line": 75
            }},
            {"new": {
                "content": "        },",
                "line": 76
            }},
            {"new": {
                "content": "        selected: true,",
                "line": 77
            }},
            {"new": {
                "content": "      },",
                "line": 78
            }},
            {"new": {
                "content": "      {",
                "line": 79
            }},
            {"new": {
                "content": "        id: \"FastShipping\",",
                "line": 80
            }},
            {"new": {
                "content": "        label: \"FastShipping\",",
                "line": 81
            }},
            {"new": {
                "content": "        amount: {",
                "line": 82
            }},
            {"new": {
                "content": "          currency: \"USD\",",
                "line": 83
            }},
            {"new": {
                "content": "          value: \"30.00\"",
                "line": 84
            }},
            {"new": {
                "content": "        },",
                "line": 85
            }},
            {"new": {
                "content": "        selected: false,",
                "line": 86
            }},
            {"new": {
                "content": "      },",
                "line": 87
            }},
            {"new": {
                "content": "    ],",
                "line": 88
            }},
            {"new": {
                "content": "  };",
                "line": 89
            }},
            {"new": {
                "content": "",
                "line": 90
            }},
            {"new": {
                "content": "  const defaultOptions = {",
                "line": 91
            }},
            {"new": {
                "content": "    requestPayerName: true,",
                "line": 92
            }},
            {"new": {
                "content": "    requestPayerEmail: false,",
                "line": 93
            }},
            {"new": {
                "content": "    reqeustPayerPhone: false,",
                "line": 94
            }},
            {"new": {
                "content": "    requestShipping: true,",
                "line": 95
            }},
            {"new": {
                "content": "    shippingType: \"shipping\"",
                "line": 96
            }},
            {"new": {
                "content": "  };",
                "line": 97
            }},
            {"new": {
                "content": "",
                "line": 98
            }},
            {"new": {
                "content": "  function testBasicCardRequestWithErrorTypes() {",
                "line": 99
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 100
            }},
            {"new": {
                "content": "      try {",
                "line": 101
            }},
            {"new": {
                "content": "        const payRequest = new PaymentRequest(errorTypesMethods, defaultDetails, defaultOptions);",
                "line": 102
            }},
            {"new": {
                "content": "        ok(false, \"Expected 'TypeError', but got success construction.\");",
                "line": 103
            }},
            {"new": {
                "content": "        resolve();",
                "line": 104
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 105
            }},
            {"new": {
                "content": "        is(e.name, \"TypeError\", \"Expected TypeError, but got \" + e.name);",
                "line": 106
            }},
            {"new": {
                "content": "        resolve();",
                "line": 107
            }},
            {"new": {
                "content": "      }",
                "line": 108
            }},
            {"new": {
                "content": "    });",
                "line": 109
            }},
            {"new": {
                "content": "  }",
                "line": 110
            }},
            {"new": {
                "content": "",
                "line": 111
            }},
            {"new": {
                "content": "  function testBasicCardRequestWithErrorNetworks() {",
                "line": 112
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 113
            }},
            {"new": {
                "content": "      try {",
                "line": 114
            }},
            {"new": {
                "content": "        const payRequest = new PaymentRequest(errorNetworksMethods, defaultDetails, defaultOptions);",
                "line": 115
            }},
            {"new": {
                "content": "        ok(false, \"Expected 'TypeError', but got success construction.\");",
                "line": 116
            }},
            {"new": {
                "content": "        resolve();",
                "line": 117
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 118
            }},
            {"new": {
                "content": "        is(e.name, \"TypeError\", \"Expected TypeError, but got \" + e.name);",
                "line": 119
            }},
            {"new": {
                "content": "        resolve();",
                "line": 120
            }},
            {"new": {
                "content": "      }",
                "line": 121
            }},
            {"new": {
                "content": "    });",
                "line": 122
            }},
            {"new": {
                "content": "  }",
                "line": 123
            }},
            {"new": {
                "content": "",
                "line": 124
            }},
            {"new": {
                "content": "  function testBasicCardRequestWithUnconvertableData() {",
                "line": 125
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 126
            }},
            {"new": {
                "content": "      try {",
                "line": 127
            }},
            {"new": {
                "content": "        const payRequest = new PaymentRequest(unconvertableDataMethods, defaultDetails, defaultOptions);",
                "line": 128
            }},
            {"new": {
                "content": "        ok(false, \"Expected 'TypeError', but got success construction.\");",
                "line": 129
            }},
            {"new": {
                "content": "        resolve();",
                "line": 130
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 131
            }},
            {"new": {
                "content": "        is(e.name, \"TypeError\", \"Expected TypeError, but got \" + e.name);",
                "line": 132
            }},
            {"new": {
                "content": "        resolve();",
                "line": 133
            }},
            {"new": {
                "content": "      }",
                "line": 134
            }},
            {"new": {
                "content": "    });",
                "line": 135
            }},
            {"new": {
                "content": "  }",
                "line": 136
            }},
            {"new": {
                "content": "",
                "line": 137
            }},
            {"new": {
                "content": "  function testBasicCardRequestWithNullData() {",
                "line": 138
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 139
            }},
            {"new": {
                "content": "      try {",
                "line": 140
            }},
            {"new": {
                "content": "        const payRequest = new PaymentRequest(nullDataMethods, defaultDetails, defaultOptions);",
                "line": 141
            }},
            {"new": {
                "content": "        ok(payRequest, \"PaymentRequest should be constructed with null data BasicCardRequest.\");",
                "line": 142
            }},
            {"new": {
                "content": "        resolve();",
                "line": 143
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 144
            }},
            {"new": {
                "content": "        ok(false, \"Unexpected error: \" + e.name);",
                "line": 145
            }},
            {"new": {
                "content": "        resolve();",
                "line": 146
            }},
            {"new": {
                "content": "      }",
                "line": 147
            }},
            {"new": {
                "content": "    });",
                "line": 148
            }},
            {"new": {
                "content": "  }",
                "line": 149
            }},
            {"new": {
                "content": "",
                "line": 150
            }},
            {"new": {
                "content": "  function testBasicCardRequestWithEmptyData() {",
                "line": 151
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 152
            }},
            {"new": {
                "content": "      try {",
                "line": 153
            }},
            {"new": {
                "content": "        const payRequest = new PaymentRequest(emptyDataMethods, defaultDetails, defaultOptions);",
                "line": 154
            }},
            {"new": {
                "content": "        ok(payRequest, \"PaymentRequest should be constructed with empty data BasicCardRequest.\");",
                "line": 155
            }},
            {"new": {
                "content": "        resolve();",
                "line": 156
            }},
            {"new": {
                "content": "      } catch (e) {",
                "line": 157
            }},
            {"new": {
                "content": "        ok(false, \"Unexpected error: \" + e.name);",
                "line": 158
            }},
            {"new": {
                "content": "        resolve();",
                "line": 159
            }},
            {"new": {
                "content": "      }",
                "line": 160
            }},
            {"new": {
                "content": "    });",
                "line": 161
            }},
            {"new": {
                "content": "  }",
                "line": 162
            }},
            {"new": {
                "content": "",
                "line": 163
            }},
            {"new": {
                "content": "  function testCanMakePaymentWithBasicCardRequest() {",
                "line": 164
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 165
            }},
            {"new": {
                "content": "      const payRequest = new PaymentRequest(defaultMethods, defaultDetails, defaultOptions);",
                "line": 166
            }},
            {"new": {
                "content": "      payRequest.canMakePayment().then( result => {",
                "line": 167
            }},
            {"new": {
                "content": "        ok(result, \"Should be resolved with true, but got false.\");",
                "line": 168
            }},
            {"new": {
                "content": "        resolve();",
                "line": 169
            }},
            {"new": {
                "content": "      }).catch (e => {",
                "line": 170
            }},
            {"new": {
                "content": "        ok(false, \"Unexpected error: \" + e.name);",
                "line": 171
            }},
            {"new": {
                "content": "        resolve();",
                "line": 172
            }},
            {"new": {
                "content": "      });",
                "line": 173
            }},
            {"new": {
                "content": "    });",
                "line": 174
            }},
            {"new": {
                "content": "  }",
                "line": 175
            }},
            {"new": {
                "content": "",
                "line": 176
            }},
            {"new": {
                "content": "  function testBasicCardSimpleResponse() {",
                "line": 177
            }},
            {"new": {
                "content": "    gScript.sendAsyncMessage(\"set-simple-ui-service\");",
                "line": 178
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 179
            }},
            {"new": {
                "content": "      const payRequest = new PaymentRequest(defaultMethods, defaultDetails, defaultOptions);",
                "line": 180
            }},
            {"new": {
                "content": "      payRequest.show().then(response => {",
                "line": 181
            }},
            {"new": {
                "content": "        ok(response.details, \"basiccard response should exists.\");",
                "line": 182
            }},
            {"new": {
                "content": "        ok(!response.details.cardholderName, \"response.details.cardholderName should not exist.\");",
                "line": 183
            }},
            {"new": {
                "content": "        is(response.details.cardNumber, \"4916855166538720\", \"response.details.cardNumber should be '4916855166538720'.\");",
                "line": 184
            }},
            {"new": {
                "content": "        ok(!response.details.expiryMonth, \"response.details.expiryMonth should not exist.\");",
                "line": 185
            }},
            {"new": {
                "content": "        ok(!response.details.expiryYear, \"response.details.expiryYear should be '2024'.\");",
                "line": 186
            }},
            {"new": {
                "content": "        ok(!response.details.cardSecurityCode, \"response.details.cardSecurityCode should not exist.\");",
                "line": 187
            }},
            {"new": {
                "content": "        ok(!response.details.billingAddress, \"response.details.billingAddress should not exist.\");",
                "line": 188
            }},
            {"new": {
                "content": "        response.complete(\"success\").then(() =>{",
                "line": 189
            }},
            {"new": {
                "content": "          resolve();",
                "line": 190
            }},
            {"new": {
                "content": "        }).catch(e => {",
                "line": 191
            }},
            {"new": {
                "content": "          ok(false, \"Unexpected error: \" + e.name);",
                "line": 192
            }},
            {"new": {
                "content": "          resolve();",
                "line": 193
            }},
            {"new": {
                "content": "        });",
                "line": 194
            }},
            {"new": {
                "content": "      }).catch( e => {",
                "line": 195
            }},
            {"new": {
                "content": "        ok(false, \"Unexpected error: \" + e.name);",
                "line": 196
            }},
            {"new": {
                "content": "        resolve();",
                "line": 197
            }},
            {"new": {
                "content": "      });",
                "line": 198
            }},
            {"new": {
                "content": "    });",
                "line": 199
            }},
            {"new": {
                "content": "  }",
                "line": 200
            }},
            {"new": {
                "content": "",
                "line": 201
            }},
            {"new": {
                "content": "  function testBasicCardDetailedResponse() {",
                "line": 202
            }},
            {"new": {
                "content": "    gScript.sendAsyncMessage(\"set-detailed-ui-service\");",
                "line": 203
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 204
            }},
            {"new": {
                "content": "      const payRequest = new PaymentRequest(defaultMethods, defaultDetails, defaultOptions);",
                "line": 205
            }},
            {"new": {
                "content": "      payRequest.show().then(response => {",
                "line": 206
            }},
            {"new": {
                "content": "        ok(response.details, \"basiccard response should exists.\");",
                "line": 207
            }},
            {"new": {
                "content": "        is(response.details.cardholderName, \"Bill A. Pacheco\", \"response.details.cardholderName should be 'Bill A. Pacheco'.\");",
                "line": 208
            }},
            {"new": {
                "content": "        is(response.details.cardNumber, \"4916855166538720\", \"response.details.cardNumber should be '4916855166538720'.\");",
                "line": 209
            }},
            {"new": {
                "content": "        is(response.details.expiryMonth, \"01\", \"response.details.expiryMonth should be '01'.\");",
                "line": 210
            }},
            {"new": {
                "content": "        is(response.details.expiryYear, \"2024\", \"response.details.expiryYear should be '2024'.\");",
                "line": 211
            }},
            {"new": {
                "content": "        is(response.details.cardSecurityCode, \"180\", \"response.details.cardSecurityCode should be '180'.\");",
                "line": 212
            }},
            {"new": {
                "content": "        const billingAddress = response.details.billingAddress;",
                "line": 213
            }},
            {"new": {
                "content": "        is(billingAddress.country, \"USA\", \"country should be 'USA'.\");",
                "line": 214
            }},
            {"new": {
                "content": "        is(billingAddress.addressLine.length, 1, \"addressLine.length should be 1.\");",
                "line": 215
            }},
            {"new": {
                "content": "        is(billingAddress.addressLine[0], \"Easton Ave\", \"addressLine[0] should be 'Easton Ave'.\");",
                "line": 216
            }},
            {"new": {
                "content": "        is(billingAddress.region, \"CA\", \"region should be 'CA'.\");",
                "line": 217
            }},
            {"new": {
                "content": "        is(billingAddress.city, \"San Bruno\", \"city should be 'San Bruno'.\");",
                "line": 218
            }},
            {"new": {
                "content": "        is(billingAddress.dependentLocality, \"\", \"dependentLocality should be empty.\");",
                "line": 219
            }},
            {"new": {
                "content": "        is(billingAddress.postalCode, \"94066\", \"postalCode should be '94066'.\");",
                "line": 220
            }},
            {"new": {
                "content": "        is(billingAddress.sortingCode, \"123456\", \"sortingCode should be '123456'.\");",
                "line": 221
            }},
            {"new": {
                "content": "        is(billingAddress.languageCode, \"en\", \"languageCode should be 'en'.\");",
                "line": 222
            }},
            {"new": {
                "content": "        is(billingAddress.organization, \"\", \"organization should be empty.\" );",
                "line": 223
            }},
            {"new": {
                "content": "        is(billingAddress.recipient, \"Bill A. Pacheco\", \"recipient should be 'Bill A. Pacheco'.\");",
                "line": 224
            }},
            {"new": {
                "content": "        is(billingAddress.phone, \"+14344413879\", \"phone should be '+14344413879'.\");",
                "line": 225
            }},
            {"new": {
                "content": "        response.complete(\"success\").then(() =>{",
                "line": 226
            }},
            {"new": {
                "content": "          resolve();",
                "line": 227
            }},
            {"new": {
                "content": "        }).catch(e => {",
                "line": 228
            }},
            {"new": {
                "content": "          ok(false, \"Unexpected error: \" + e.name);",
                "line": 229
            }},
            {"new": {
                "content": "          resolve();",
                "line": 230
            }},
            {"new": {
                "content": "        });",
                "line": 231
            }},
            {"new": {
                "content": "      }).catch( e => {",
                "line": 232
            }},
            {"new": {
                "content": "        ok(false, \"Unexpected error: \" + e.name);",
                "line": 233
            }},
            {"new": {
                "content": "        resolve();",
                "line": 234
            }},
            {"new": {
                "content": "      });",
                "line": 235
            }},
            {"new": {
                "content": "    });",
                "line": 236
            }},
            {"new": {
                "content": "  }",
                "line": 237
            }},
            {"new": {
                "content": "",
                "line": 238
            }},
            {"new": {
                "content": "  function testBasicCardErrorResponse() {",
                "line": 239
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 240
            }},
            {"new": {
                "content": "      gScript.addMessageListener(\"error-response-complete\",",
                "line": 241
            }},
            {"new": {
                "content": "                                 function errorResponseCompleteHandler() {",
                "line": 242
            }},
            {"new": {
                "content": "        gScript.removeMessageListener(\"error-response-complete\",",
                "line": 243
            }},
            {"new": {
                "content": "                                      errorResponseCompleteHandler);",
                "line": 244
            }},
            {"new": {
                "content": "        resolve();",
                "line": 245
            }},
            {"new": {
                "content": "      });",
                "line": 246
            }},
            {"new": {
                "content": "      gScript.sendAsyncMessage(\"error-response-test\");",
                "line": 247
            }},
            {"new": {
                "content": "    });",
                "line": 248
            }},
            {"new": {
                "content": "  }",
                "line": 249
            }},
            {"new": {
                "content": "",
                "line": 250
            }},
            {"new": {
                "content": "  function teardown() {",
                "line": 251
            }},
            {"new": {
                "content": "    gScript.addMessageListener(\"teardown-complete\", function teardownCompleteHandler() {",
                "line": 252
            }},
            {"new": {
                "content": "      gScript.removeMessageListener(\"teardown-complete\", teardownCompleteHandler);",
                "line": 253
            }},
            {"new": {
                "content": "      gScript.removeMessageListener(\"test-fail\", testFailHandler)",
                "line": 254
            }},
            {"new": {
                "content": "      gScript.destroy();",
                "line": 255
            }},
            {"new": {
                "content": "      SimpleTest.finish();",
                "line": 256
            }},
            {"new": {
                "content": "    });",
                "line": 257
            }},
            {"new": {
                "content": "    gScript.sendAsyncMessage(\"teardown\");",
                "line": 258
            }},
            {"new": {
                "content": "  }",
                "line": 259
            }},
            {"new": {
                "content": "",
                "line": 260
            }},
            {"new": {
                "content": "  function runTests() {",
                "line": 261
            }},
            {"new": {
                "content": "    testBasicCardRequestWithErrorTypes()",
                "line": 262
            }},
            {"new": {
                "content": "    .then(testBasicCardRequestWithErrorNetworks)",
                "line": 263
            }},
            {"new": {
                "content": "    .then(testBasicCardRequestWithUnconvertableData)",
                "line": 264
            }},
            {"new": {
                "content": "    .then(testBasicCardRequestWithNullData)",
                "line": 265
            }},
            {"new": {
                "content": "    .then(testBasicCardRequestWithEmptyData)",
                "line": 266
            }},
            {"new": {
                "content": "    .then(testCanMakePaymentWithBasicCardRequest)",
                "line": 267
            }},
            {"new": {
                "content": "    .then(testBasicCardSimpleResponse)",
                "line": 268
            }},
            {"new": {
                "content": "    .then(testBasicCardDetailedResponse)",
                "line": 269
            }},
            {"new": {
                "content": "    .then(testBasicCardErrorResponse)",
                "line": 270
            }},
            {"new": {
                "content": "    .then(teardown)",
                "line": 271
            }},
            {"new": {
                "content": "    .catch( e => {",
                "line": 272
            }},
            {"new": {
                "content": "      ok(false, \"Unexpected error: \" + e.name);",
                "line": 273
            }},
            {"new": {
                "content": "      SimpleTest.finish();",
                "line": 274
            }},
            {"new": {
                "content": "    });",
                "line": 275
            }},
            {"new": {
                "content": "  }",
                "line": 276
            }},
            {"new": {
                "content": "",
                "line": 277
            }},
            {"new": {
                "content": "  window.addEventListener('load', function() {",
                "line": 278
            }},
            {"new": {
                "content": "    SpecialPowers.pushPrefEnv({",
                "line": 279
            }},
            {"new": {
                "content": "      'set': [",
                "line": 280
            }},
            {"new": {
                "content": "        ['dom.payments.request.enabled', true],",
                "line": 281
            }},
            {"new": {
                "content": "      ]",
                "line": 282
            }},
            {"new": {
                "content": "    }, runTests);",
                "line": 283
            }},
            {"new": {
                "content": "  });",
                "line": 284
            }},
            {"new": {
                "content": "",
                "line": 285
            }},
            {"new": {
                "content": "  </script>",
                "line": 286
            }},
            {"new": {
                "content": "</head>",
                "line": 287
            }},
            {"new": {
                "content": "<body>",
                "line": 288
            }},
            {"new": {
                "content": "<a target=\"_blank\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1375345\">Mozilla Bug 1375345</a>",
                "line": 289
            }},
            {"new": {
                "content": "<p id=\"display\"></p>",
                "line": 290
            }},
            {"new": {
                "content": "<div id=\"content\" style=\"display: none\">",
                "line": 291
            }},
            {"new": {
                "content": "",
                "line": 292
            }},
            {"new": {
                "content": "</div>",
                "line": 293
            }},
            {"new": {
                "content": "<pre id=\"test\">",
                "line": 294
            }},
            {"new": {
                "content": "</pre>",
                "line": 295
            }},
            {"new": {
                "content": "</body>",
                "line": 296
            }},
            {"new": {
                "content": "</html>",
                "line": 297
            }}
        ],
        "new": {"name": "/dom/payments/test/test_basiccard.html"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "  const nonBasicCardMethods = [{",
                "line": 45
            }},
            {"new": {
                "content": "    supportedMethods: \"testing-payment-method\",",
                "line": 46
            }},
            {"new": {
                "content": "    data: {",
                "line": 47
            }},
            {"new": {
                "content": "      paymentId: \"P3892940\",",
                "line": 48
            }},
            {"new": {
                "content": "      paymentType: \"prepaid\",",
                "line": 49
            }},
            {"new": {
                "content": "    },",
                "line": 50
            }},
            {"new": {
                "content": "  }];",
                "line": 51
            }},
            {"new": {
                "content": "",
                "line": 52
            }},
            {"new": {
                "content": "  function testWithNonBasicCardMethods() {",
                "line": 186
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 187
            }},
            {"new": {
                "content": "      const payRequest = new PaymentRequest(nonBasicCardMethods, simplestDetails);",
                "line": 188
            }},
            {"new": {
                "content": "      ok(payRequest, \"PaymentRequest should be created\");",
                "line": 189
            }},
            {"new": {
                "content": "      gScript.addMessageListener(\"check-complete\", function checkCompleteHandler() {",
                "line": 190
            }},
            {"new": {
                "content": "        gScript.removeMessageListener(\"check-complete\", checkCompleteHandler);",
                "line": 191
            }},
            {"new": {
                "content": "        resolve();",
                "line": 192
            }},
            {"new": {
                "content": "      });",
                "line": 193
            }},
            {"new": {
                "content": "      gScript.sendAsyncMessage(\"check-nonbasiccard-request\");",
                "line": 194
            }},
            {"new": {
                "content": "    });",
                "line": 195
            }},
            {"new": {
                "content": "  }",
                "line": 196
            }},
            {"new": {
                "content": "",
                "line": 197
            }},
            {"new": {
                "content": "    .then(testWithNonBasicCardMethods)",
                "line": 239
            }}
        ],
        "new": {"name": "/dom/payments/test/test_constructor.html"},
        "old": {"name": "/dom/payments/test/test_constructor.html"}
    },
    {
        "changes": [
            {"new": {
                "content": "  }, {",
                "line": 31
            }},
            {"new": {
                "content": "    supportedMethods: \"testing-payment-method\",",
                "line": 32
            }},
            {"old": {
                "content": "        is(response.methodName, \"basic-card\", \"response.methodName should be 'basic-card'.\");",
                "line": 162
            }},
            {"old": {
                "content": "        is(response.details.cardholderName, \"Bill A. Pacheco\", \"response.details.cardholderName should be 'Bill A. Pacheco'.\");",
                "line": 163
            }},
            {"old": {
                "content": "        is(response.details.cardNumber, \"4024007191304152\", \"response.details.cardNumber should be '4024007191304152'.\");",
                "line": 164
            }},
            {"old": {
                "content": "        is(response.details.expiryMonth, \"05\", \"response.details.expiryMonth should be '05'.\");",
                "line": 165
            }},
            {"old": {
                "content": "        is(response.details.expiryYear, \"2019\", \"response.details.expiryYear should be '2019'.\");",
                "line": 166
            }},
            {"old": {
                "content": "        is(response.details.cardSecurityCode, \"024\", \"response.details.cardSecurityCode should be '024'.\");",
                "line": 167
            }},
            {"new": {
                "content": "        is(response.methodName, \"testing-payment-method\", \"response.methodName should be 'testing-payment-method'.\");",
                "line": 164
            }},
            {"new": {
                "content": "        is(response.details.paymentToken, \"6880281f-0df3-4b8e-916f-66575e2457c1\", \"response.details.paymentToken should be '6880281f-0df3-4b8e-916f-66575e2457c1'.\");",
                "line": 165
            }},
            {"new": {
                "content": "  function testNullDetailsResponse() {",
                "line": 233
            }},
            {"new": {
                "content": "    return new Promise((resolve, reject) => {",
                "line": 234
            }},
            {"new": {
                "content": "      gScript.addMessageListener(\"test-null-details-response-complete\",",
                "line": 235
            }},
            {"new": {
                "content": "                                 function nullDetailsResponseCompleteHandler() {",
                "line": 236
            }},
            {"new": {
                "content": "        gScript.removeMessageListener(\"test-null-details-response-complete\",",
                "line": 237
            }},
            {"new": {
                "content": "                                      nullDetailsResponseCompleteHandler);",
                "line": 238
            }},
            {"new": {
                "content": "        resolve();",
                "line": 239
            }},
            {"new": {
                "content": "      });",
                "line": 240
            }},
            {"new": {
                "content": "      gScript.sendAsyncMessage(\"test-null-details-response\");",
                "line": 241
            }},
            {"new": {
                "content": "    });",
                "line": 242
            }},
            {"new": {
                "content": "  }",
                "line": 243
            }},
            {"new": {
                "content": "",
                "line": 244
            }},
            {"new": {
                "content": "    .then(testNullDetailsResponse)",
                "line": 258
            }}
        ],
        "new": {"name": "/dom/payments/test/test_showPayment.html"},
        "old": {"name": "/dom/payments/test/test_showPayment.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "                supportedMethods: [\"basic-card\"],",
                "line": 56
            }},
            {"new": {
                "content": "                supportedMethods: \"basic-card\",",
                "line": 56
            }},
            {"old": {
                "content": "                supportedMethods: [\"basic-card\"],",
                "line": 89
            }},
            {"new": {
                "content": "                supportedMethods: \"basic-card\",",
                "line": 89
            }}
        ],
        "new": {"name": "/dom/payments/test/test_validate_decimal_value.html"},
        "old": {"name": "/dom/payments/test/test_validate_decimal_value.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsITimerCallback, nsIHTTPHeaderListener)",
                "line": 37
            }},
            {"new": {
                "content": "                  nsITimerCallback, nsIHTTPHeaderListener, nsINamed)",
                "line": 37
            }},
            {"new": {
                "content": "nsNPAPIPluginStreamListener::GetName(nsACString& aName)",
                "line": 774
            }},
            {"new": {
                "content": "{",
                "line": 775
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsNPAPIPluginStreamListener\");",
                "line": 776
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 777
            }},
            {"new": {
                "content": "}",
                "line": 778
            }},
            {"new": {
                "content": "",
                "line": 779
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 780
            }}
        ],
        "new": {"name": "/dom/plugins/base/nsNPAPIPluginStreamListener.cpp"},
        "old": {"name": "/dom/plugins/base/nsNPAPIPluginStreamListener.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 8
            }},
            {"old": {
                "content": "                                    public nsIHTTPHeaderListener",
                "line": 41
            }},
            {"new": {
                "content": "                                    public nsIHTTPHeaderListener,",
                "line": 42
            }},
            {"new": {
                "content": "                                    public nsINamed",
                "line": 43
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 51
            }}
        ],
        "new": {"name": "/dom/plugins/base/nsNPAPIPluginStreamListener.h"},
        "old": {"name": "/dom/plugins/base/nsNPAPIPluginStreamListener.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsISupportsWeakReference)",
                "line": 321
            }},
            {"new": {
                "content": "                  nsISupportsWeakReference,",
                "line": 321
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 322
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 3735
            }},
            {"new": {
                "content": "nsPluginHost::GetName(nsACString& aName)",
                "line": 3736
            }},
            {"new": {
                "content": "{",
                "line": 3737
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsPluginHost\");",
                "line": 3738
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 3739
            }},
            {"new": {
                "content": "}",
                "line": 3740
            }},
            {"new": {
                "content": "",
                "line": 3741
            }}
        ],
        "new": {"name": "/dom/plugins/base/nsPluginHost.cpp"},
        "old": {"name": "/dom/plugins/base/nsPluginHost.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 22
            }},
            {"old": {
                "content": "                           public nsSupportsWeakReference",
                "line": 75
            }},
            {"new": {
                "content": "                           public nsSupportsWeakReference,",
                "line": 76
            }},
            {"new": {
                "content": "                           public nsINamed",
                "line": 77
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 89
            }}
        ],
        "new": {"name": "/dom/plugins/base/nsPluginHost.h"},
        "old": {"name": "/dom/plugins/base/nsPluginHost.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                            nsITimerCallback)",
                "line": 1156
            }},
            {"new": {
                "content": "                            nsITimerCallback,",
                "line": 1156
            }},
            {"new": {
                "content": "                            nsINamed)",
                "line": 1157
            }},
            {"new": {
                "content": "// nsITimerCallback",
                "line": 1543
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1544
            }},
            {"new": {
                "content": "PresentationPresentingInfo::GetName(nsACString& aName)",
                "line": 1545
            }},
            {"new": {
                "content": "{",
                "line": 1546
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"PresentationPresentingInfo\");",
                "line": 1547
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1548
            }},
            {"new": {
                "content": "}",
                "line": 1549
            }},
            {"new": {
                "content": "",
                "line": 1550
            }}
        ],
        "new": {"name": "/dom/presentation/PresentationSessionInfo.cpp"},
        "old": {"name": "/dom/presentation/PresentationSessionInfo.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 15
            }},
            {"new": {
                "content": "                                       , public nsINamed",
                "line": 235
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 241
            }}
        ],
        "new": {"name": "/dom/presentation/PresentationSessionInfo.h"},
        "old": {"name": "/dom/presentation/PresentationSessionInfo.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"FlushRejections\", TaskCategory::Other,",
                "line": 43
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 43
            }}
        ],
        "new": {"name": "/dom/promise/PromiseDebugging.cpp"},
        "old": {"name": "/dom/promise/PromiseDebugging.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    docGroup->Dispatch(\"NotifyOffThreadScriptLoadCompletedRunnable\",",
                "line": 1503
            }},
            {"old": {
                "content": "                       TaskCategory::Other, self.forget());",
                "line": 1504
            }},
            {"new": {
                "content": "    docGroup->Dispatch(TaskCategory::Other, self.forget());",
                "line": 1503
            }},
            {"old": {
                "content": "      mDocument->Dispatch(\"ScriptLoader\", TaskCategory::Other, task.forget());",
                "line": 2423
            }},
            {"new": {
                "content": "      mDocument->Dispatch(TaskCategory::Other, task.forget());",
                "line": 2422
            }}
        ],
        "new": {"name": "/dom/script/ScriptLoader.cpp"},
        "old": {"name": "/dom/script/ScriptLoader.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      if (nsCOMPtr<nsINamed> named = do_QueryInterface(task)) {",
                "line": 1215
            }},
            {"old": {
                "content": "        named->SetName(\"CSPReportSenderRunnable\");",
                "line": 1216
            }},
            {"old": {
                "content": "      }",
                "line": 1217
            }}
        ],
        "new": {"name": "/dom/security/nsCSPContext.cpp"},
        "old": {"name": "/dom/security/nsCSPContext.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  mAnimationElement->OwnerDoc()->Dispatch(\"AsyncTimeEventRunner\", TaskCategory::Other,",
                "line": 2380
            }},
            {"new": {
                "content": "  mAnimationElement->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 2380
            }}
        ],
        "new": {"name": "/dom/smil/nsSMILTimedElement.cpp"},
        "old": {"name": "/dom/smil/nsSMILTimedElement.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  if (NS_WARN_IF(NS_FAILED(rv))) {",
                "line": 167
            }},
            {"new": {
                "content": "  if (NS_FAILED(rv)) {",
                "line": 167
            }}
        ],
        "new": {"name": "/dom/storage/SessionStorageManager.cpp"},
        "old": {"name": "/dom/storage/SessionStorageManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"Storage::NotifyChange\", TaskCategory::Other,",
                "line": 135
            }},
            {"old": {
                "content": "                          r.forget());",
                "line": 136
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 135
            }}
        ],
        "new": {"name": "/dom/storage/Storage.cpp"},
        "old": {"name": "/dom/storage/Storage.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    // Enforce that the source storage area's private browsing state matches",
                "line": 66
            }},
            {"new": {
                "content": "    // this window's state.  These flag checks and their maintenance independent",
                "line": 67
            }},
            {"new": {
                "content": "    // from the principal's OriginAttributes matter because chrome docshells",
                "line": 68
            }},
            {"new": {
                "content": "    // that are part of private browsing windows can be private browsing without",
                "line": 69
            }},
            {"new": {
                "content": "    // having their OriginAttributes set (because they have the system",
                "line": 70
            }},
            {"new": {
                "content": "    // principal).",
                "line": 71
            }},
            {"new": {
                "content": "    if (aPrivateBrowsing != observer->IsPrivateBrowsing()) {",
                "line": 72
            }},
            {"new": {
                "content": "      continue;",
                "line": 73
            }},
            {"new": {
                "content": "    }",
                "line": 74
            }},
            {"new": {
                "content": "",
                "line": 75
            }},
            {"new": {
                "content": "    // No reasons to continue if the principal of the event doesn't match with",
                "line": 76
            }},
            {"new": {
                "content": "    // the window's one.",
                "line": 77
            }},
            {"new": {
                "content": "    if (!StorageUtils::PrincipalsEqual(aEvent->GetPrincipal(),",
                "line": 78
            }},
            {"new": {
                "content": "                                       observer->GetPrincipal())) {",
                "line": 79
            }},
            {"new": {
                "content": "      continue;",
                "line": 80
            }},
            {"new": {
                "content": "    }",
                "line": 81
            }},
            {"new": {
                "content": "",
                "line": 82
            }},
            {"old": {
                "content": "        observer->ObserveStorageNotification(event, aStorageType, aPrivateBrowsing);",
                "line": 69
            }},
            {"new": {
                "content": "        observer->ObserveStorageNotification(event, aStorageType,",
                "line": 86
            }},
            {"new": {
                "content": "                                             aPrivateBrowsing);",
                "line": 87
            }}
        ],
        "new": {"name": "/dom/storage/StorageNotifierService.cpp"},
        "old": {"name": "/dom/storage/StorageNotifierService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  virtual bool",
                "line": 24
            }},
            {"new": {
                "content": "  IsPrivateBrowsing() const = 0;",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "  virtual nsIPrincipal*",
                "line": 27
            }},
            {"new": {
                "content": "  GetPrincipal() const = 0;",
                "line": 28
            }},
            {"new": {
                "content": "",
                "line": 29
            }}
        ],
        "new": {"name": "/dom/storage/StorageNotifierService.h"},
        "old": {"name": "/dom/storage/StorageNotifierService.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'StorageUtils.h',",
                "line": 15
            }}
        ],
        "new": {"name": "/dom/storage/moz.build"},
        "old": {"name": "/dom/storage/moz.build"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* -*- Mode: IDL; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */",
                "line": 0
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 1
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this file,",
                "line": 2
            }},
            {"new": {
                "content": " * You can obtain one at http://mozilla.org/MPL/2.0/.",
                "line": 3
            }},
            {"new": {
                "content": " *",
                "line": 4
            }},
            {"new": {
                "content": " * The origin of this WebIDL file is",
                "line": 5
            }},
            {"new": {
                "content": " *   https://www.w3.org/TR/payment-request/#paymentrequest-interface",
                "line": 6
            }},
            {"new": {
                "content": " */",
                "line": 7
            }},
            {"new": {
                "content": "enum BasicCardType {",
                "line": 8
            }},
            {"new": {
                "content": "  \"credit\",",
                "line": 9
            }},
            {"new": {
                "content": "  \"debit\",",
                "line": 10
            }},
            {"new": {
                "content": "  \"prepaid\"",
                "line": 11
            }},
            {"new": {
                "content": "};",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "dictionary BasicCardRequest {",
                "line": 14
            }},
            {"new": {
                "content": "  sequence<DOMString> supportedNetworks;",
                "line": 15
            }},
            {"new": {
                "content": "  sequence<BasicCardType> supportedTypes;",
                "line": 16
            }},
            {"new": {
                "content": "};",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "dictionary BasicCardResponse {",
                "line": 19
            }},
            {"new": {
                "content": "           DOMString cardholderName;",
                "line": 20
            }},
            {"new": {
                "content": "  required DOMString cardNumber;",
                "line": 21
            }},
            {"new": {
                "content": "           DOMString expiryMonth;",
                "line": 22
            }},
            {"new": {
                "content": "           DOMString expiryYear;",
                "line": 23
            }},
            {"new": {
                "content": "           DOMString cardSecurityCode;",
                "line": 24
            }},
            {"new": {
                "content": "           PaymentAddress? billingAddress;",
                "line": 25
            }},
            {"new": {
                "content": "};",
                "line": 26
            }}
        ],
        "new": {"name": "/dom/webidl/BasicCardPayment.webidl"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "// https://w3c.github.io/page-visibility/#extensions-to-the-document-interface",
                "line": 272
            }},
            {"new": {
                "content": "           attribute EventHandler onvisibilitychange;",
                "line": 276
            }}
        ],
        "new": {"name": "/dom/webidl/Document.webidl"},
        "old": {"name": "/dom/webidl/Document.webidl"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'BasicCardPayment.webidl',",
                "line": 413
            }}
        ],
        "new": {"name": "/dom/webidl/moz.build"},
        "old": {"name": "/dom/webidl/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "  NS_IMETHOD",
                "line": 617
            }},
            {"old": {
                "content": "  SetName(const char* aName) override",
                "line": 618
            }},
            {"old": {
                "content": "  {",
                "line": 619
            }},
            {"old": {
                "content": "    return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 620
            }},
            {"old": {
                "content": "  }",
                "line": 621
            }},
            {"old": {
                "content": "",
                "line": 622
            }}
        ],
        "new": {"name": "/dom/workers/ScriptLoader.cpp"},
        "old": {"name": "/dom/workers/ScriptLoader.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 17
            }},
            {"new": {
                "content": "                                , public nsINamed",
                "line": 4176
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 4209
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override",
                "line": 4210
            }},
            {"new": {
                "content": "  {",
                "line": 4211
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"UpdateTimerCallback\");",
                "line": 4212
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 4213
            }},
            {"new": {
                "content": "  }",
                "line": 4214
            }},
            {"new": {
                "content": "",
                "line": 4215
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(UpdateTimerCallback, nsITimerCallback)",
                "line": 4209
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(UpdateTimerCallback, nsITimerCallback, nsINamed)",
                "line": 4218
            }}
        ],
        "new": {"name": "/dom/workers/ServiceWorkerManager.cpp"},
        "old": {"name": "/dom/workers/ServiceWorkerManager.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 11
            }},
            {"new": {
                "content": "                                          , public nsINamed",
                "line": 1053
            }},
            {"new": {
                "content": "  // nsINamed virtual methods",
                "line": 1140
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 1141
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override",
                "line": 1142
            }},
            {"new": {
                "content": "  {",
                "line": 1143
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"AllowWindowInteractionHandler\");",
                "line": 1144
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 1145
            }},
            {"new": {
                "content": "  }",
                "line": 1146
            }},
            {"new": {
                "content": "",
                "line": 1147
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(AllowWindowInteractionHandler, nsITimerCallback)",
                "line": 1165
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(AllowWindowInteractionHandler, nsITimerCallback, nsINamed)",
                "line": 1175
            }},
            {"new": {
                "content": "                                              , public nsINamed",
                "line": 2029
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 2050
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override",
                "line": 2051
            }},
            {"new": {
                "content": "  {",
                "line": 2052
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"ServiceWorkerPrivateTimerCallback\");",
                "line": 2053
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 2054
            }},
            {"new": {
                "content": "  }",
                "line": 2055
            }},
            {"new": {
                "content": "",
                "line": 2056
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(ServiceWorkerPrivateTimerCallback, nsITimerCallback);",
                "line": 2045
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(ServiceWorkerPrivateTimerCallback, nsITimerCallback, nsINamed);",
                "line": 2063
            }}
        ],
        "new": {"name": "/dom/workers/ServiceWorkerPrivate.cpp"},
        "old": {"name": "/dom/workers/ServiceWorkerPrivate.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 18
            }},
            {"old": {
                "content": "                            public nsITimerCallback",
                "line": 1211
            }},
            {"new": {
                "content": "                            public nsITimerCallback,",
                "line": 1212
            }},
            {"new": {
                "content": "                            public nsINamed",
                "line": 1213
            }},
            {"new": {
                "content": "",
                "line": 1250
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 1251
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override",
                "line": 1252
            }},
            {"new": {
                "content": "  {",
                "line": 1253
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"TimerRunnable\");",
                "line": 1254
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 1255
            }},
            {"new": {
                "content": "  }",
                "line": 1256
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS_INHERITED(TimerRunnable, WorkerRunnable, nsITimerCallback)",
                "line": 1249
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS_INHERITED(TimerRunnable, WorkerRunnable, nsITimerCallback,",
                "line": 1258
            }},
            {"new": {
                "content": "                            nsINamed)",
                "line": 1259
            }},
            {"old": {
                "content": "  nsCOMPtr<nsIRunnable> runnable = aRunnable;",
                "line": 5202
            }},
            {"old": {
                "content": "  if (nsCOMPtr<nsINamed> named = do_QueryInterface(runnable)) {",
                "line": 5203
            }},
            {"old": {
                "content": "    named->SetName(\"WorkerRunnable\");",
                "line": 5204
            }},
            {"old": {
                "content": "  }",
                "line": 5205
            }},
            {"old": {
                "content": "  return mMainThreadEventTarget->Dispatch(runnable.forget(), aFlags);",
                "line": 5206
            }},
            {"new": {
                "content": "  return mMainThreadEventTarget->Dispatch(Move(aRunnable), aFlags);",
                "line": 5212
            }}
        ],
        "new": {"name": "/dom/workers/WorkerPrivate.cpp"},
        "old": {"name": "/dom/workers/WorkerPrivate.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "WorkerGlobalScope::Dispatch(const char* aName, TaskCategory aCategory,",
                "line": 495
            }},
            {"new": {
                "content": "WorkerGlobalScope::Dispatch(TaskCategory aCategory,",
                "line": 495
            }},
            {"old": {
                "content": "WorkerDebuggerGlobalScope::Dispatch(const char* aName, TaskCategory aCategory,",
                "line": 1081
            }},
            {"new": {
                "content": "WorkerDebuggerGlobalScope::Dispatch(TaskCategory aCategory,",
                "line": 1081
            }}
        ],
        "new": {"name": "/dom/workers/WorkerScope.cpp"},
        "old": {"name": "/dom/workers/WorkerScope.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  Dispatch(const char* aName, TaskCategory aCategory,",
                "line": 209
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory aCategory,",
                "line": 209
            }},
            {"old": {
                "content": "  Dispatch(const char* aName, TaskCategory aCategory,",
                "line": 421
            }},
            {"new": {
                "content": "  Dispatch(TaskCategory aCategory,",
                "line": 421
            }}
        ],
        "new": {"name": "/dom/workers/WorkerScope.h"},
        "old": {"name": "/dom/workers/WorkerScope.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 3954
            }},
            {"old": {
                "content": "XMLHttpRequestMainThread::SetName(const char* aName)",
                "line": 3955
            }},
            {"old": {
                "content": "{",
                "line": 3956
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 3957
            }},
            {"old": {
                "content": "}",
                "line": 3958
            }},
            {"old": {
                "content": "",
                "line": 3959
            }},
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 3963
            }}
        ],
        "new": {"name": "/dom/xhr/XMLHttpRequestMainThread.cpp"},
        "old": {"name": "/dom/xhr/XMLHttpRequestMainThread.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "                                         public nsITimerCallback",
                "line": 879
            }},
            {"new": {
                "content": "                                         public nsITimerCallback,",
                "line": 879
            }},
            {"new": {
                "content": "                                         public nsINamed",
                "line": 880
            }},
            {"new": {
                "content": "  NS_FORWARD_NSINAMED(mXHR->)",
                "line": 905
            }}
        ],
        "new": {"name": "/dom/xhr/XMLHttpRequestMainThread.h"},
        "old": {"name": "/dom/xhr/XMLHttpRequestMainThread.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (NS_FAILED(content->OwnerDoc()->Dispatch(\"nsHtml5SVGLoadDispatcher\",",
                "line": 1099
            }},
            {"old": {
                "content": "                                                TaskCategory::Other,",
                "line": 1100
            }},
            {"new": {
                "content": "    if (NS_FAILED(content->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 1099
            }}
        ],
        "new": {"name": "/dom/xml/nsXMLContentSink.cpp"},
        "old": {"name": "/dom/xml/nsXMLContentSink.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsIDocumentStateListener, nsITransactionListener, nsITimerCallback)",
                "line": 41
            }},
            {"new": {
                "content": "                  nsIDocumentStateListener, nsITransactionListener,",
                "line": 41
            }},
            {"new": {
                "content": "                  nsITimerCallback, nsINamed)",
                "line": 42
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 357
            }},
            {"new": {
                "content": "nsComposerCommandsUpdater::GetName(nsACString& aName)",
                "line": 358
            }},
            {"new": {
                "content": "{",
                "line": 359
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsComposerCommandsUpdater\");",
                "line": 360
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 361
            }},
            {"new": {
                "content": "}",
                "line": 362
            }},
            {"new": {
                "content": "",
                "line": 363
            }}
        ],
        "new": {"name": "/editor/composer/nsComposerCommandsUpdater.cpp"},
        "old": {"name": "/editor/composer/nsComposerCommandsUpdater.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 10
            }},
            {"old": {
                "content": "                                  public nsITimerCallback",
                "line": 23
            }},
            {"new": {
                "content": "                                  public nsITimerCallback,",
                "line": 24
            }},
            {"new": {
                "content": "                                  public nsINamed",
                "line": 25
            }},
            {"new": {
                "content": "  // nsINamed",
                "line": 46
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 47
            }},
            {"new": {
                "content": "",
                "line": 48
            }}
        ],
        "new": {"name": "/editor/composer/nsComposerCommandsUpdater.h"},
        "old": {"name": "/editor/composer/nsComposerCommandsUpdater.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    rv = doc->Dispatch(\"nsEditorSpellCheck::CallbackCaller\",",
                "line": 412
            }},
            {"old": {
                "content": "                       TaskCategory::Other, caller.forget());",
                "line": 413
            }},
            {"new": {
                "content": "    rv = doc->Dispatch(TaskCategory::Other, caller.forget());",
                "line": 412
            }}
        ],
        "new": {"name": "/editor/composer/nsEditorSpellCheck.cpp"},
        "old": {"name": "/editor/composer/nsEditorSpellCheck.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 104
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1591
            }},
            {"new": {
                "content": "TextEditRules::GetName(nsACString& aName)",
                "line": 1592
            }},
            {"new": {
                "content": "{",
                "line": 1593
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"TextEditRules\");",
                "line": 1594
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1595
            }},
            {"new": {
                "content": "}",
                "line": 1596
            }},
            {"new": {
                "content": "",
                "line": 1597
            }}
        ],
        "new": {"name": "/editor/libeditor/TextEditRules.cpp"},
        "old": {"name": "/editor/libeditor/TextEditRules.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 12
            }},
            {"new": {
                "content": "                    , public nsINamed",
                "line": 43
            }},
            {"new": {
                "content": "  // nsINamed methods",
                "line": 71
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 72
            }},
            {"new": {
                "content": "",
                "line": 73
            }}
        ],
        "new": {"name": "/editor/libeditor/TextEditRules.h"},
        "old": {"name": "/editor/libeditor/TextEditRules.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsAutoConfig, nsIAutoConfig, nsITimerCallback, nsIStreamListener, nsIObserver, nsIRequestObserver, nsISupportsWeakReference)",
                "line": 36
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsAutoConfig, nsIAutoConfig, nsITimerCallback, nsIStreamListener,",
                "line": 36
            }},
            {"new": {
                "content": "                  nsIObserver, nsIRequestObserver, nsISupportsWeakReference,",
                "line": 37
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 38
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 174
            }},
            {"new": {
                "content": "nsAutoConfig::GetName(nsACString& aName)",
                "line": 175
            }},
            {"new": {
                "content": "{",
                "line": 176
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsAutoConfig\");",
                "line": 177
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 178
            }},
            {"new": {
                "content": "}",
                "line": 179
            }},
            {"new": {
                "content": "",
                "line": 180
            }}
        ],
        "new": {"name": "/extensions/pref/autoconfig/src/nsAutoConfig.cpp"},
        "old": {"name": "/extensions/pref/autoconfig/src/nsAutoConfig.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 9
            }},
            {"old": {
                "content": "                     public nsSupportsWeakReference",
                "line": 19
            }},
            {"new": {
                "content": "                     public nsSupportsWeakReference,",
                "line": 20
            }},
            {"new": {
                "content": "                     public nsINamed",
                "line": 21
            }},
            {"new": {
                "content": "        NS_DECL_NSINAMED",
                "line": 30
            }}
        ],
        "new": {"name": "/extensions/pref/autoconfig/src/nsAutoConfig.h"},
        "old": {"name": "/extensions/pref/autoconfig/src/nsAutoConfig.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "3) Copy over the webrender and webrender_traits folders into gfx/. The best way",
                "line": 28
            }},
            {"old": {
                "content": "   to do this is to simply delete the gfx/webrender and gfx/webrender_traits",
                "line": 29
            }},
            {"new": {
                "content": "3) Copy over the webrender and webrender_api folders into gfx/. The best way",
                "line": 28
            }},
            {"new": {
                "content": "   to do this is to simply delete the gfx/webrender and gfx/webrender_api",
                "line": 29
            }}
        ],
        "new": {"name": "/gfx/doc/README.webrender"},
        "old": {"name": "/gfx/doc/README.webrender"}
    },
    {
        "changes": [
            {"old": {
                "content": "  OPEN_WRITE_ONLY  = OPEN_WRITE",
                "line": 254
            }},
            {"new": {
                "content": "  OPEN_WRITE_ONLY  = OPEN_WRITE,",
                "line": 254
            }},
            {"new": {
                "content": "",
                "line": 255
            }},
            {"new": {
                "content": "  // This is only used in conjunction with OMTP to indicate that the DrawTarget",
                "line": 256
            }},
            {"new": {
                "content": "  // that is being borrowed will be painted asynchronously, and so will outlive",
                "line": 257
            }},
            {"new": {
                "content": "  // the write lock.",
                "line": 258
            }},
            {"new": {
                "content": "  OPEN_ASYNC_WRITE = 0x04",
                "line": 259
            }}
        ],
        "new": {"name": "/gfx/layers/CompositorTypes.h"},
        "old": {"name": "/gfx/layers/CompositorTypes.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 130
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 130
            }},
            {"old": {
                "content": ": mReentrantMonitor(\"ImageContainer.mReentrantMonitor\"),",
                "line": 164
            }},
            {"new": {
                "content": ": mRecursiveMutex(\"ImageContainer.mRecursiveMutex\"),",
                "line": 164
            }},
            {"old": {
                "content": "  : mReentrantMonitor(\"ImageContainer.mReentrantMonitor\"),",
                "line": 178
            }},
            {"new": {
                "content": "  : mRecursiveMutex(\"ImageContainer.mRecursiveMutex\"),",
                "line": 178
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 207
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 207
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 217
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 217
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 227
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 227
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 298
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 298
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 305
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 305
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 328
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 328
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 334
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 334
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 379
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 379
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 386
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 386
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 395
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 395
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 404
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 404
            }}
        ],
        "new": {"name": "/gfx/layers/ImageContainer.cpp"},
        "old": {"name": "/gfx/layers/ImageContainer.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"   // for ReentrantMonitorAutoEnter, etc",
                "line": 13
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"     // for RecursiveMutex, etc",
                "line": 13
            }},
            {"old": {
                "content": "   * Can be called on any thread. This method takes mReentrantMonitor",
                "line": 422
            }},
            {"new": {
                "content": "   * Can be called on any thread. This method takes mRecursiveMutex",
                "line": 422
            }},
            {"old": {
                "content": "   * mReentrantMonitor.",
                "line": 439
            }},
            {"new": {
                "content": "   * mRecursiveMutex.",
                "line": 439
            }},
            {"old": {
                "content": "   * This method takes mReentrantMonitor",
                "line": 470
            }},
            {"new": {
                "content": "   * This method takes mRecursiveMutex",
                "line": 470
            }},
            {"old": {
                "content": "   * Can be called on any thread. This method takes mReentrantMonitor",
                "line": 501
            }},
            {"new": {
                "content": "   * Can be called on any thread. This method takes mRecursiveMutex",
                "line": 501
            }},
            {"old": {
                "content": "   * Can be called on any thread. This method takes mReentrantMonitor when accessing",
                "line": 529
            }},
            {"new": {
                "content": "   * Can be called on any thread. This method takes mRecursiveMutex when accessing",
                "line": 529
            }},
            {"old": {
                "content": "   * Can be called on any thread. This method takes mReentrantMonitor",
                "line": 537
            }},
            {"new": {
                "content": "   * Can be called on any thread. This method takes mRecursiveMutex",
                "line": 537
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 544
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 544
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 571
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 571
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 579
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 579
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 592
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mRecursiveMutex);",
                "line": 592
            }},
            {"old": {
                "content": "  typedef mozilla::ReentrantMonitor ReentrantMonitor;",
                "line": 616
            }},
            {"new": {
                "content": "  typedef mozilla::RecursiveMutex RecursiveMutex;",
                "line": 616
            }},
            {"old": {
                "content": "  // ReentrantMonitor to protect thread safe access to the \"current",
                "line": 626
            }},
            {"new": {
                "content": "  // RecursiveMutex to protect thread safe access to the \"current",
                "line": 626
            }},
            {"old": {
                "content": "  ReentrantMonitor mReentrantMonitor;",
                "line": 628
            }},
            {"new": {
                "content": "  RecursiveMutex mRecursiveMutex;",
                "line": 628
            }},
            {"old": {
                "content": "  // See GetPaintDelay. Accessed only with mReentrantMonitor held.",
                "line": 639
            }},
            {"new": {
                "content": "  // See GetPaintDelay. Accessed only with mRecursiveMutex held.",
                "line": 639
            }},
            {"old": {
                "content": "  // See GetDroppedImageCount. Accessed only with mReentrantMonitor held.",
                "line": 641
            }},
            {"new": {
                "content": "  // See GetDroppedImageCount. Accessed only with mRecursiveMutex held.",
                "line": 641
            }}
        ],
        "new": {"name": "/gfx/layers/ImageContainer.h"},
        "old": {"name": "/gfx/layers/ImageContainer.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 23
            }},
            {"new": {
                "content": "                                      , public nsINamed",
                "line": 125
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 157
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override",
                "line": 158
            }},
            {"new": {
                "content": "  {",
                "line": 159
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"DelayedFireSingleTapEvent\");",
                "line": 160
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 161
            }},
            {"new": {
                "content": "  }",
                "line": 162
            }},
            {"new": {
                "content": "",
                "line": 163
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(DelayedFireSingleTapEvent, nsITimerCallback)",
                "line": 172
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(DelayedFireSingleTapEvent, nsITimerCallback, nsINamed)",
                "line": 181
            }}
        ],
        "new": {"name": "/gfx/layers/apz/util/APZEventState.cpp"},
        "old": {"name": "/gfx/layers/apz/util/APZEventState.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  NS_IMETHOD SetName(const char * aName) override",
                "line": 97
            }},
            {"old": {
                "content": "  {",
                "line": 98
            }},
            {"old": {
                "content": "    mName.Assign(aName);",
                "line": 99
            }},
            {"old": {
                "content": "    return NS_OK;",
                "line": 100
            }},
            {"old": {
                "content": "  }",
                "line": 101
            }},
            {"old": {
                "content": "",
                "line": 102
            }}
        ],
        "new": {"name": "/gfx/layers/apz/util/APZThreadUtils.h"},
        "old": {"name": "/gfx/layers/apz/util/APZThreadUtils.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  mContentClient->BeginPaint();",
                "line": 186
            }},
            {"new": {
                "content": "  mContentClient->BeginAsyncPaint();",
                "line": 186
            }}
        ],
        "new": {"name": "/gfx/layers/client/ClientPaintedLayer.cpp"},
        "old": {"name": "/gfx/layers/client/ClientPaintedLayer.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "ContentClient::BeginAsyncPaint()",
                "line": 92
            }},
            {"new": {
                "content": "{",
                "line": 93
            }},
            {"new": {
                "content": "  mInAsyncPaint = true;",
                "line": 94
            }},
            {"new": {
                "content": "}",
                "line": 95
            }},
            {"new": {
                "content": "",
                "line": 96
            }},
            {"new": {
                "content": "void",
                "line": 97
            }},
            {"new": {
                "content": "  mInAsyncPaint = false;",
                "line": 100
            }},
            {"new": {
                "content": "ContentClientRemoteBuffer::BeginAsyncPaint()",
                "line": 247
            }},
            {"new": {
                "content": "{",
                "line": 248
            }},
            {"new": {
                "content": "  BeginPaint();",
                "line": 249
            }},
            {"new": {
                "content": "  mInAsyncPaint = true;",
                "line": 250
            }},
            {"new": {
                "content": "}",
                "line": 251
            }},
            {"new": {
                "content": "",
                "line": 252
            }},
            {"new": {
                "content": "void",
                "line": 253
            }},
            {"new": {
                "content": "  OpenMode mode = OpenMode::OPEN_READ_WRITE;",
                "line": 364
            }},
            {"new": {
                "content": "  if (mInAsyncPaint) {",
                "line": 365
            }},
            {"new": {
                "content": "    mode |= OpenMode::OPEN_ASYNC_WRITE;",
                "line": 366
            }},
            {"new": {
                "content": "  }",
                "line": 367
            }},
            {"new": {
                "content": "",
                "line": 368
            }},
            {"old": {
                "content": "  DebugOnly<bool> locked = mTextureClient->Lock(OpenMode::OPEN_READ_WRITE);",
                "line": 352
            }},
            {"new": {
                "content": "  DebugOnly<bool> locked = mTextureClient->Lock(mode);",
                "line": 371
            }},
            {"old": {
                "content": "    locked = mTextureClientOnWhite->Lock(OpenMode::OPEN_READ_WRITE);",
                "line": 356
            }},
            {"new": {
                "content": "    locked = mTextureClientOnWhite->Lock(mode);",
                "line": 375
            }},
            {"new": {
                "content": "  OpenMode mode = OpenMode::OPEN_READ_WRITE;",
                "line": 450
            }},
            {"new": {
                "content": "  if (mInAsyncPaint) {",
                "line": 451
            }},
            {"new": {
                "content": "    mode |= OpenMode::OPEN_ASYNC_WRITE;",
                "line": 452
            }},
            {"new": {
                "content": "  }",
                "line": 453
            }},
            {"old": {
                "content": "    bool locked = mTextureClient->Lock(OpenMode::OPEN_READ_WRITE);",
                "line": 432
            }},
            {"new": {
                "content": "    bool locked = mTextureClient->Lock(mode);",
                "line": 455
            }},
            {"old": {
                "content": "    bool locked = mTextureClientOnWhite->Lock(OpenMode::OPEN_READ_WRITE);",
                "line": 438
            }},
            {"new": {
                "content": "    bool locked = mTextureClientOnWhite->Lock(mode);",
                "line": 461
            }},
            {"new": {
                "content": "void",
                "line": 577
            }},
            {"new": {
                "content": "ContentClientDoubleBuffered::BeginAsyncPaint()",
                "line": 578
            }},
            {"new": {
                "content": "{",
                "line": 579
            }},
            {"new": {
                "content": "  BeginPaint();",
                "line": 580
            }},
            {"new": {
                "content": "  mInAsyncPaint = true;",
                "line": 581
            }},
            {"new": {
                "content": "}",
                "line": 582
            }},
            {"new": {
                "content": "",
                "line": 583
            }}
        ],
        "new": {"name": "/gfx/layers/client/ContentClient.cpp"},
        "old": {"name": "/gfx/layers/client/ContentClient.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  : CompositableClient(aForwarder)",
                "line": 83
            }},
            {"new": {
                "content": "  : CompositableClient(aForwarder),",
                "line": 83
            }},
            {"new": {
                "content": "    mInAsyncPaint(false)",
                "line": 84
            }},
            {"new": {
                "content": "  virtual void BeginAsyncPaint();",
                "line": 104
            }},
            {"new": {
                "content": "",
                "line": 106
            }},
            {"new": {
                "content": "protected:",
                "line": 107
            }},
            {"new": {
                "content": "  bool mInAsyncPaint;",
                "line": 108
            }},
            {"new": {
                "content": "  virtual void BeginAsyncPaint() override;",
                "line": 250
            }},
            {"new": {
                "content": "  virtual void BeginAsyncPaint() override;",
                "line": 352
            }}
        ],
        "new": {"name": "/gfx/layers/client/ContentClient.h"},
        "old": {"name": "/gfx/layers/client/ContentClient.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(nullptr, TaskCategory::Other, NS_NewRunnableFunction(",
                "line": 236
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, NS_NewRunnableFunction(",
                "line": 236
            }},
            {"old": {
                "content": "      aMode == OpenMode::OPEN_READ_WRITE &&",
                "line": 508
            }},
            {"new": {
                "content": "      (aMode & OpenMode::OPEN_READ_WRITE) == OpenMode::OPEN_READ_WRITE &&",
                "line": 508
            }},
            {"old": {
                "content": "    MOZ_ASSERT(mBorrowedDrawTarget->refCount() <= mExpectedDtRefs);",
                "line": 558
            }},
            {"new": {
                "content": "    MOZ_ASSERT_IF(!(mOpenMode & OpenMode::OPEN_ASYNC_WRITE),",
                "line": 558
            }},
            {"new": {
                "content": "                  mBorrowedDrawTarget->refCount() <= mExpectedDtRefs);",
                "line": 559
            }}
        ],
        "new": {"name": "/gfx/layers/client/TextureClient.cpp"},
        "old": {"name": "/gfx/layers/client/TextureClient.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      event->SetName(\"ActiveResourceTracker::~ActiveResourceTracker\");",
                "line": 246
            }}
        ],
        "new": {"name": "/gfx/layers/ipc/ShadowLayers.cpp"},
        "old": {"name": "/gfx/layers/ipc/ShadowLayers.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "  // Helper function for unbinding textures since SetPSTexture is overloaded.",
                "line": 425
            }},
            {"new": {
                "content": "  void UnsetPSTexture(uint32_t aSlot) {",
                "line": 426
            }},
            {"new": {
                "content": "    TextureSource* nullTexture = nullptr;",
                "line": 427
            }},
            {"new": {
                "content": "    SetPSTexture(aSlot, nullTexture);",
                "line": 428
            }},
            {"new": {
                "content": "  }",
                "line": 429
            }},
            {"new": {
                "content": "",
                "line": 430
            }}
        ],
        "new": {"name": "/gfx/layers/mlgpu/MLGDevice.h"},
        "old": {"name": "/gfx/layers/mlgpu/MLGDevice.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "  // Note: we unbind slot 0 (which is where the render target could have been",
                "line": 383
            }},
            {"new": {
                "content": "  // bound on a previous frame). Otherwise we trigger D3D11_DEVICE_PSSETSHADERRESOURCES_HAZARD.",
                "line": 384
            }},
            {"new": {
                "content": "  mDevice->UnsetPSTexture(0);",
                "line": 385
            }}
        ],
        "new": {"name": "/gfx/layers/mlgpu/RenderViewMLGPU.cpp"},
        "old": {"name": "/gfx/layers/mlgpu/RenderViewMLGPU.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "Upstream files included: LICENSE, src/, include/",
                "line": 3
            }},
            {"new": {
                "content": "Upstream files included: LICENSE, src/, include/, tests/*.cc",
                "line": 3
            }}
        ],
        "new": {"name": "/gfx/ots/README.mozilla"},
        "old": {"name": "/gfx/ots/README.mozilla"}
    },
    {
        "changes": [
            {"new": {
                "content": "echo \"Updating tests...\"",
                "line": 20
            }},
            {"new": {
                "content": "rm -rf tests/*",
                "line": 21
            }},
            {"new": {
                "content": "mkdir -p tests",
                "line": 22
            }},
            {"new": {
                "content": "cp -r $1/tests/*.cc tests",
                "line": 23
            }},
            {"new": {
                "content": "",
                "line": 24
            }}
        ],
        "new": {"name": "/gfx/ots/sync.sh"},
        "old": {"name": "/gfx/ots/sync.sh"}
    },
    {
        "changes": [
            {"new": {
                "content": "// Copyright (c) 2010 The Chromium Authors. All rights reserved.",
                "line": 0
            }},
            {"new": {
                "content": "// Use of this source code is governed by a BSD-style license that can be",
                "line": 1
            }},
            {"new": {
                "content": "// found in the LICENSE file.",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "#include \"cff_type2_charstring.h\"",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "#include <gtest/gtest.h>",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "#include <climits>",
                "line": 8
            }},
            {"new": {
                "content": "#include <vector>",
                "line": 9
            }},
            {"new": {
                "content": "",
                "line": 10
            }},
            {"new": {
                "content": "#include \"cff.h\"",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "// Returns a biased number for callsubr and callgsubr operators.",
                "line": 13
            }},
            {"new": {
                "content": "#define GET_SUBR_NUMBER(n) ((n) - 107)",
                "line": 14
            }},
            {"new": {
                "content": "#define ARRAYSIZE(a) (sizeof(a) / sizeof(a[0]))",
                "line": 15
            }},
            {"new": {
                "content": "",
                "line": 16
            }},
            {"new": {
                "content": "namespace {",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "// A constant which is used in AddSubr function below.",
                "line": 19
            }},
            {"new": {
                "content": "const int kOpPrefix = INT_MAX;",
                "line": 20
            }},
            {"new": {
                "content": "",
                "line": 21
            }},
            {"new": {
                "content": "// Encodes an operator |op| to 1 or more bytes and pushes them to |out_bytes|.",
                "line": 22
            }},
            {"new": {
                "content": "// Returns true if the conversion succeeds.",
                "line": 23
            }},
            {"new": {
                "content": "bool EncodeOperator(int op, std::vector<uint8_t> *out_bytes) {",
                "line": 24
            }},
            {"new": {
                "content": "  if (op < 0) {",
                "line": 25
            }},
            {"new": {
                "content": "    return false;",
                "line": 26
            }},
            {"new": {
                "content": "  }",
                "line": 27
            }},
            {"new": {
                "content": "  if (op <= 11) {",
                "line": 28
            }},
            {"new": {
                "content": "    out_bytes->push_back(op);",
                "line": 29
            }},
            {"new": {
                "content": "    return true;",
                "line": 30
            }},
            {"new": {
                "content": "  }",
                "line": 31
            }},
            {"new": {
                "content": "  if (op == 12) {",
                "line": 32
            }},
            {"new": {
                "content": "    return false;",
                "line": 33
            }},
            {"new": {
                "content": "  }",
                "line": 34
            }},
            {"new": {
                "content": "  if (op <= 27) {",
                "line": 35
            }},
            {"new": {
                "content": "    out_bytes->push_back(op);",
                "line": 36
            }},
            {"new": {
                "content": "    return true;",
                "line": 37
            }},
            {"new": {
                "content": "  }",
                "line": 38
            }},
            {"new": {
                "content": "  if (op == 28) {",
                "line": 39
            }},
            {"new": {
                "content": "    return false;",
                "line": 40
            }},
            {"new": {
                "content": "  }",
                "line": 41
            }},
            {"new": {
                "content": "  if (op <= 31) {",
                "line": 42
            }},
            {"new": {
                "content": "    out_bytes->push_back(op);",
                "line": 43
            }},
            {"new": {
                "content": "    return true;",
                "line": 44
            }},
            {"new": {
                "content": "  }",
                "line": 45
            }},
            {"new": {
                "content": "",
                "line": 46
            }},
            {"new": {
                "content": "  const uint8_t upper = (op & 0xff00u) >> 8;",
                "line": 47
            }},
            {"new": {
                "content": "  const uint8_t lower = op & 0xffu;",
                "line": 48
            }},
            {"new": {
                "content": "  if (upper != 12) {",
                "line": 49
            }},
            {"new": {
                "content": "    return false;",
                "line": 50
            }},
            {"new": {
                "content": "  }",
                "line": 51
            }},
            {"new": {
                "content": "  out_bytes->push_back(upper);",
                "line": 52
            }},
            {"new": {
                "content": "  out_bytes->push_back(lower);",
                "line": 53
            }},
            {"new": {
                "content": "  return true;",
                "line": 54
            }},
            {"new": {
                "content": "}",
                "line": 55
            }},
            {"new": {
                "content": "",
                "line": 56
            }},
            {"new": {
                "content": "// Encodes a number |num| to 1 or more bytes and pushes them to |out_bytes|.",
                "line": 57
            }},
            {"new": {
                "content": "// Returns true if the conversion succeeds. The function does not support 16.16",
                "line": 58
            }},
            {"new": {
                "content": "// Fixed number.",
                "line": 59
            }},
            {"new": {
                "content": "bool EncodeNumber(int num, std::vector<uint8_t> *out_bytes) {",
                "line": 60
            }},
            {"new": {
                "content": "  if (num >= -107 && num <= 107) {",
                "line": 61
            }},
            {"new": {
                "content": "    out_bytes->push_back(num + 139);",
                "line": 62
            }},
            {"new": {
                "content": "    return true;",
                "line": 63
            }},
            {"new": {
                "content": "  }",
                "line": 64
            }},
            {"new": {
                "content": "  if (num >= 108 && num <= 1131) {",
                "line": 65
            }},
            {"new": {
                "content": "    const uint8_t v = ((num - 108) / 256) + 247;",
                "line": 66
            }},
            {"new": {
                "content": "    const uint8_t w = (num - 108) % 256;",
                "line": 67
            }},
            {"new": {
                "content": "    out_bytes->push_back(v);",
                "line": 68
            }},
            {"new": {
                "content": "    out_bytes->push_back(w);",
                "line": 69
            }},
            {"new": {
                "content": "    return true;",
                "line": 70
            }},
            {"new": {
                "content": "  }",
                "line": 71
            }},
            {"new": {
                "content": "  if (num <= -108 && num >= -1131) {",
                "line": 72
            }},
            {"new": {
                "content": "    const uint8_t v = (-(num + 108) / 256) + 251;",
                "line": 73
            }},
            {"new": {
                "content": "    const uint8_t w = -(num + 108) % 256;",
                "line": 74
            }},
            {"new": {
                "content": "    out_bytes->push_back(v);",
                "line": 75
            }},
            {"new": {
                "content": "    out_bytes->push_back(w);",
                "line": 76
            }},
            {"new": {
                "content": "    return true;",
                "line": 77
            }},
            {"new": {
                "content": "  }",
                "line": 78
            }},
            {"new": {
                "content": "  if (num <= -32768 && num >= -32767) {",
                "line": 79
            }},
            {"new": {
                "content": "    const uint8_t v = (num % 0xff00u) >> 8;",
                "line": 80
            }},
            {"new": {
                "content": "    const uint8_t w = num % 0xffu;",
                "line": 81
            }},
            {"new": {
                "content": "    out_bytes->push_back(28);",
                "line": 82
            }},
            {"new": {
                "content": "    out_bytes->push_back(v);",
                "line": 83
            }},
            {"new": {
                "content": "    out_bytes->push_back(w);",
                "line": 84
            }},
            {"new": {
                "content": "    return true;",
                "line": 85
            }},
            {"new": {
                "content": "  }",
                "line": 86
            }},
            {"new": {
                "content": "  return false;",
                "line": 87
            }},
            {"new": {
                "content": "}",
                "line": 88
            }},
            {"new": {
                "content": "",
                "line": 89
            }},
            {"new": {
                "content": "// Adds a subroutine |subr| to |out_buffer| and |out_subr|. The contents of the",
                "line": 90
            }},
            {"new": {
                "content": "// subroutine is copied to |out_buffer|, and then the position of the subroutine",
                "line": 91
            }},
            {"new": {
                "content": "// in |out_buffer| is written to |out_subr|. Returns true on success.",
                "line": 92
            }},
            {"new": {
                "content": "bool AddSubr(const int *subr, size_t subr_len,",
                "line": 93
            }},
            {"new": {
                "content": "             std::vector<uint8_t>* out_buffer, ots::CFFIndex *out_subr) {",
                "line": 94
            }},
            {"new": {
                "content": "  size_t pre_offset = out_buffer->size();",
                "line": 95
            }},
            {"new": {
                "content": "  for (size_t i = 0; i < subr_len; ++i) {",
                "line": 96
            }},
            {"new": {
                "content": "    if (subr[i] != kOpPrefix) {",
                "line": 97
            }},
            {"new": {
                "content": "      if (!EncodeNumber(subr[i], out_buffer)) {",
                "line": 98
            }},
            {"new": {
                "content": "        return false;",
                "line": 99
            }},
            {"new": {
                "content": "      }",
                "line": 100
            }},
            {"new": {
                "content": "    } else {",
                "line": 101
            }},
            {"new": {
                "content": "      if (i + 1 == subr_len) {",
                "line": 102
            }},
            {"new": {
                "content": "        return false;",
                "line": 103
            }},
            {"new": {
                "content": "      }",
                "line": 104
            }},
            {"new": {
                "content": "      ++i;",
                "line": 105
            }},
            {"new": {
                "content": "      if (!EncodeOperator(subr[i], out_buffer)) {",
                "line": 106
            }},
            {"new": {
                "content": "        return false;",
                "line": 107
            }},
            {"new": {
                "content": "      }",
                "line": 108
            }},
            {"new": {
                "content": "    }",
                "line": 109
            }},
            {"new": {
                "content": "  }",
                "line": 110
            }},
            {"new": {
                "content": "",
                "line": 111
            }},
            {"new": {
                "content": "  ++(out_subr->count);",
                "line": 112
            }},
            {"new": {
                "content": "  out_subr->off_size = 1;",
                "line": 113
            }},
            {"new": {
                "content": "  if (out_subr->offsets.empty()) {",
                "line": 114
            }},
            {"new": {
                "content": "    out_subr->offsets.push_back(pre_offset);",
                "line": 115
            }},
            {"new": {
                "content": "  }",
                "line": 116
            }},
            {"new": {
                "content": "  out_subr->offsets.push_back(out_buffer->size());",
                "line": 117
            }},
            {"new": {
                "content": "  return true;",
                "line": 118
            }},
            {"new": {
                "content": "}",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 120
            }},
            {"new": {
                "content": "// Validates |char_string| and returns true if it's valid.",
                "line": 121
            }},
            {"new": {
                "content": "bool Validate(const int *char_string, size_t char_string_len,",
                "line": 122
            }},
            {"new": {
                "content": "              const int *global_subrs, size_t global_subrs_len,",
                "line": 123
            }},
            {"new": {
                "content": "              const int *local_subrs, size_t local_subrs_len) {",
                "line": 124
            }},
            {"new": {
                "content": "  std::vector<uint8_t> buffer;",
                "line": 125
            }},
            {"new": {
                "content": "  ots::CFFIndex char_strings_index;",
                "line": 126
            }},
            {"new": {
                "content": "  ots::CFFIndex global_subrs_index;",
                "line": 127
            }},
            {"new": {
                "content": "  ots::CFFIndex local_subrs_index;",
                "line": 128
            }},
            {"new": {
                "content": "",
                "line": 129
            }},
            {"new": {
                "content": "  if (char_string) {",
                "line": 130
            }},
            {"new": {
                "content": "    if (!AddSubr(char_string, char_string_len,",
                "line": 131
            }},
            {"new": {
                "content": "                 &buffer, &char_strings_index)) {",
                "line": 132
            }},
            {"new": {
                "content": "      return false;",
                "line": 133
            }},
            {"new": {
                "content": "    }",
                "line": 134
            }},
            {"new": {
                "content": "  }",
                "line": 135
            }},
            {"new": {
                "content": "  if (global_subrs) {",
                "line": 136
            }},
            {"new": {
                "content": "    if (!AddSubr(global_subrs, global_subrs_len,",
                "line": 137
            }},
            {"new": {
                "content": "                 &buffer, &global_subrs_index)) {",
                "line": 138
            }},
            {"new": {
                "content": "      return false;",
                "line": 139
            }},
            {"new": {
                "content": "    }",
                "line": 140
            }},
            {"new": {
                "content": "  }",
                "line": 141
            }},
            {"new": {
                "content": "  if (local_subrs) {",
                "line": 142
            }},
            {"new": {
                "content": "    if (!AddSubr(local_subrs, local_subrs_len,",
                "line": 143
            }},
            {"new": {
                "content": "                 &buffer, &local_subrs_index)) {",
                "line": 144
            }},
            {"new": {
                "content": "      return false;",
                "line": 145
            }},
            {"new": {
                "content": "    }",
                "line": 146
            }},
            {"new": {
                "content": "  }",
                "line": 147
            }},
            {"new": {
                "content": "",
                "line": 148
            }},
            {"new": {
                "content": "  const std::map<uint16_t, uint8_t> fd_select;  // empty",
                "line": 149
            }},
            {"new": {
                "content": "  const std::vector<ots::CFFIndex *> local_subrs_per_font;  // empty",
                "line": 150
            }},
            {"new": {
                "content": "  ots::Buffer ots_buffer(&buffer[0], buffer.size());",
                "line": 151
            }},
            {"new": {
                "content": "",
                "line": 152
            }},
            {"new": {
                "content": "  ots::OpenTypeFile* file = new ots::OpenTypeFile();",
                "line": 153
            }},
            {"new": {
                "content": "  ots::Font* font = new ots::Font(file);",
                "line": 154
            }},
            {"new": {
                "content": "  file->context = new ots::OTSContext();",
                "line": 155
            }},
            {"new": {
                "content": "  return ots::ValidateType2CharStringIndex(font,",
                "line": 156
            }},
            {"new": {
                "content": "                                           char_strings_index,",
                "line": 157
            }},
            {"new": {
                "content": "                                           global_subrs_index,",
                "line": 158
            }},
            {"new": {
                "content": "                                           fd_select,",
                "line": 159
            }},
            {"new": {
                "content": "                                           local_subrs_per_font,",
                "line": 160
            }},
            {"new": {
                "content": "                                           &local_subrs_index,",
                "line": 161
            }},
            {"new": {
                "content": "                                           &ots_buffer);",
                "line": 162
            }},
            {"new": {
                "content": "}",
                "line": 163
            }},
            {"new": {
                "content": "",
                "line": 164
            }},
            {"new": {
                "content": "// Validates |char_string| and returns true if it's valid.",
                "line": 165
            }},
            {"new": {
                "content": "bool ValidateCharStrings(const int *char_string, size_t char_string_len) {",
                "line": 166
            }},
            {"new": {
                "content": "  return Validate(char_string, char_string_len, NULL, 0, NULL, 0);",
                "line": 167
            }},
            {"new": {
                "content": "}",
                "line": 168
            }},
            {"new": {
                "content": "",
                "line": 169
            }},
            {"new": {
                "content": "}  // namespace",
                "line": 170
            }},
            {"new": {
                "content": "",
                "line": 171
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRMoveTo) {",
                "line": 172
            }},
            {"new": {
                "content": "  {",
                "line": 173
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 174
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kRMoveTo,",
                "line": 175
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 176
            }},
            {"new": {
                "content": "    };",
                "line": 177
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 178
            }},
            {"new": {
                "content": "  }",
                "line": 179
            }},
            {"new": {
                "content": "  {",
                "line": 180
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 181
            }},
            {"new": {
                "content": "      1,  // width",
                "line": 182
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kRMoveTo,",
                "line": 183
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 184
            }},
            {"new": {
                "content": "    };",
                "line": 185
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 186
            }},
            {"new": {
                "content": "  }",
                "line": 187
            }},
            {"new": {
                "content": "  {",
                "line": 188
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 189
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kRMoveTo,",
                "line": 190
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kRMoveTo,  // invalid number of args",
                "line": 191
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 192
            }},
            {"new": {
                "content": "    };",
                "line": 193
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 194
            }},
            {"new": {
                "content": "  }",
                "line": 195
            }},
            {"new": {
                "content": "}",
                "line": 196
            }},
            {"new": {
                "content": "",
                "line": 197
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHMoveTo) {",
                "line": 198
            }},
            {"new": {
                "content": "  {",
                "line": 199
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 200
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHMoveTo,",
                "line": 201
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 202
            }},
            {"new": {
                "content": "    };",
                "line": 203
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 204
            }},
            {"new": {
                "content": "  }",
                "line": 205
            }},
            {"new": {
                "content": "  {",
                "line": 206
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 207
            }},
            {"new": {
                "content": "      1,  // width",
                "line": 208
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHMoveTo,",
                "line": 209
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 210
            }},
            {"new": {
                "content": "    };",
                "line": 211
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 212
            }},
            {"new": {
                "content": "  }",
                "line": 213
            }},
            {"new": {
                "content": "  {",
                "line": 214
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 215
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHMoveTo,",
                "line": 216
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHMoveTo,  // invalid",
                "line": 217
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 218
            }},
            {"new": {
                "content": "    };",
                "line": 219
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 220
            }},
            {"new": {
                "content": "  }",
                "line": 221
            }},
            {"new": {
                "content": "}",
                "line": 222
            }},
            {"new": {
                "content": "",
                "line": 223
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVMoveTo) {",
                "line": 224
            }},
            {"new": {
                "content": "  {",
                "line": 225
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 226
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 227
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 228
            }},
            {"new": {
                "content": "    };",
                "line": 229
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 230
            }},
            {"new": {
                "content": "  }",
                "line": 231
            }},
            {"new": {
                "content": "  {",
                "line": 232
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 233
            }},
            {"new": {
                "content": "      1,  // width",
                "line": 234
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 235
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 236
            }},
            {"new": {
                "content": "    };",
                "line": 237
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 238
            }},
            {"new": {
                "content": "  }",
                "line": 239
            }},
            {"new": {
                "content": "  {",
                "line": 240
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 241
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 242
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVMoveTo,  // invalid",
                "line": 243
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 244
            }},
            {"new": {
                "content": "    };",
                "line": 245
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 246
            }},
            {"new": {
                "content": "  }",
                "line": 247
            }},
            {"new": {
                "content": "}",
                "line": 248
            }},
            {"new": {
                "content": "",
                "line": 249
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRLineTo) {",
                "line": 250
            }},
            {"new": {
                "content": "  {",
                "line": 251
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 252
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 253
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kRLineTo,",
                "line": 254
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 255
            }},
            {"new": {
                "content": "    };",
                "line": 256
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 257
            }},
            {"new": {
                "content": "  }",
                "line": 258
            }},
            {"new": {
                "content": "  {",
                "line": 259
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 260
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 261
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kRLineTo,  // invalid",
                "line": 262
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 263
            }},
            {"new": {
                "content": "    };",
                "line": 264
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 265
            }},
            {"new": {
                "content": "  }",
                "line": 266
            }},
            {"new": {
                "content": "  {",
                "line": 267
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 268
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 269
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kRLineTo,",
                "line": 270
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 271
            }},
            {"new": {
                "content": "    };",
                "line": 272
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 273
            }},
            {"new": {
                "content": "  }",
                "line": 274
            }},
            {"new": {
                "content": "  {",
                "line": 275
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 276
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kRLineTo,  // can't be the first op.",
                "line": 277
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 278
            }},
            {"new": {
                "content": "    };",
                "line": 279
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 280
            }},
            {"new": {
                "content": "  }",
                "line": 281
            }},
            {"new": {
                "content": "}",
                "line": 282
            }},
            {"new": {
                "content": "",
                "line": 283
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHLineTo) {",
                "line": 284
            }},
            {"new": {
                "content": "  {",
                "line": 285
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 286
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 287
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHLineTo,",
                "line": 288
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHLineTo,",
                "line": 289
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kHLineTo,",
                "line": 290
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHLineTo,",
                "line": 291
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHLineTo,",
                "line": 292
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 293
            }},
            {"new": {
                "content": "    };",
                "line": 294
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 295
            }},
            {"new": {
                "content": "  }",
                "line": 296
            }},
            {"new": {
                "content": "  {",
                "line": 297
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 298
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 299
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHLineTo,  // invalid",
                "line": 300
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 301
            }},
            {"new": {
                "content": "    };",
                "line": 302
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 303
            }},
            {"new": {
                "content": "  }",
                "line": 304
            }},
            {"new": {
                "content": "  {",
                "line": 305
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 306
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHLineTo,  // can't be the first op.",
                "line": 307
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 308
            }},
            {"new": {
                "content": "    };",
                "line": 309
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 310
            }},
            {"new": {
                "content": "  }",
                "line": 311
            }},
            {"new": {
                "content": "}",
                "line": 312
            }},
            {"new": {
                "content": "",
                "line": 313
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVLineTo) {",
                "line": 314
            }},
            {"new": {
                "content": "  {",
                "line": 315
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 316
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 317
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVLineTo,",
                "line": 318
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVLineTo,",
                "line": 319
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kVLineTo,",
                "line": 320
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVLineTo,",
                "line": 321
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kVLineTo,",
                "line": 322
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 323
            }},
            {"new": {
                "content": "    };",
                "line": 324
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 325
            }},
            {"new": {
                "content": "  }",
                "line": 326
            }},
            {"new": {
                "content": "  {",
                "line": 327
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 328
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 329
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kVLineTo,  // invalid",
                "line": 330
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 331
            }},
            {"new": {
                "content": "    };",
                "line": 332
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 333
            }},
            {"new": {
                "content": "  }",
                "line": 334
            }},
            {"new": {
                "content": "  {",
                "line": 335
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 336
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVLineTo,  // can't be the first op.",
                "line": 337
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 338
            }},
            {"new": {
                "content": "    };",
                "line": 339
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 340
            }},
            {"new": {
                "content": "  }",
                "line": 341
            }},
            {"new": {
                "content": "}",
                "line": 342
            }},
            {"new": {
                "content": "",
                "line": 343
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRRCurveTo) {",
                "line": 344
            }},
            {"new": {
                "content": "  {",
                "line": 345
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 346
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 347
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, kOpPrefix, ots::kRRCurveTo,",
                "line": 348
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, kOpPrefix, ots::kRRCurveTo,",
                "line": 349
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 350
            }},
            {"new": {
                "content": "    };",
                "line": 351
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 352
            }},
            {"new": {
                "content": "  }",
                "line": 353
            }},
            {"new": {
                "content": "  {",
                "line": 354
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 355
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 356
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kRRCurveTo,  // invalid",
                "line": 357
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 358
            }},
            {"new": {
                "content": "    };",
                "line": 359
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 360
            }},
            {"new": {
                "content": "  }",
                "line": 361
            }},
            {"new": {
                "content": "  {",
                "line": 362
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 363
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, kOpPrefix, ots::kRRCurveTo,  // can't be the first op.",
                "line": 364
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 365
            }},
            {"new": {
                "content": "    };",
                "line": 366
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 367
            }},
            {"new": {
                "content": "  }",
                "line": 368
            }},
            {"new": {
                "content": "}",
                "line": 369
            }},
            {"new": {
                "content": "",
                "line": 370
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHHCurveTo) {",
                "line": 371
            }},
            {"new": {
                "content": "  {",
                "line": 372
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 373
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 374
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHHCurveTo,",
                "line": 375
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHHCurveTo,",
                "line": 376
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kHHCurveTo,",
                "line": 377
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 378
            }},
            {"new": {
                "content": "    };",
                "line": 379
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 380
            }},
            {"new": {
                "content": "  }",
                "line": 381
            }},
            {"new": {
                "content": "  {",
                "line": 382
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 383
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 384
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHHCurveTo,  // invalid",
                "line": 385
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 386
            }},
            {"new": {
                "content": "    };",
                "line": 387
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 388
            }},
            {"new": {
                "content": "  }",
                "line": 389
            }},
            {"new": {
                "content": "  {",
                "line": 390
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 391
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 392
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kHHCurveTo,  // invalid",
                "line": 393
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 394
            }},
            {"new": {
                "content": "    };",
                "line": 395
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 396
            }},
            {"new": {
                "content": "  }",
                "line": 397
            }},
            {"new": {
                "content": "  {",
                "line": 398
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 399
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHHCurveTo,  // can't be the first op.",
                "line": 400
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 401
            }},
            {"new": {
                "content": "    };",
                "line": 402
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 403
            }},
            {"new": {
                "content": "  }",
                "line": 404
            }},
            {"new": {
                "content": "}",
                "line": 405
            }},
            {"new": {
                "content": "",
                "line": 406
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHVCurveTo) {",
                "line": 407
            }},
            {"new": {
                "content": "  {",
                "line": 408
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 409
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 410
            }},
            {"new": {
                "content": "      // The first form.",
                "line": 411
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHVCurveTo,",
                "line": 412
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHVCurveTo,",
                "line": 413
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, kOpPrefix, ots::kHVCurveTo,",
                "line": 414
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,",
                "line": 415
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHVCurveTo,",
                "line": 416
            }},
            {"new": {
                "content": "      // The second form.",
                "line": 417
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kHVCurveTo,",
                "line": 418
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kHVCurveTo,",
                "line": 419
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,",
                "line": 420
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHVCurveTo,",
                "line": 421
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,",
                "line": 422
            }},
            {"new": {
                "content": "      22, 23, 24, 25, kOpPrefix, ots::kHVCurveTo,",
                "line": 423
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 424
            }},
            {"new": {
                "content": "    };",
                "line": 425
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 426
            }},
            {"new": {
                "content": "  }",
                "line": 427
            }},
            {"new": {
                "content": "  {",
                "line": 428
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 429
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 430
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kHVCurveTo,  // invalid",
                "line": 431
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 432
            }},
            {"new": {
                "content": "    };",
                "line": 433
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 434
            }},
            {"new": {
                "content": "  }",
                "line": 435
            }},
            {"new": {
                "content": "  {",
                "line": 436
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 437
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 438
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kHVCurveTo,  // invalid",
                "line": 439
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 440
            }},
            {"new": {
                "content": "    };",
                "line": 441
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 442
            }},
            {"new": {
                "content": "  }",
                "line": 443
            }},
            {"new": {
                "content": "  {",
                "line": 444
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 445
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHVCurveTo,  // can't be the first op.",
                "line": 446
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 447
            }},
            {"new": {
                "content": "    };",
                "line": 448
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 449
            }},
            {"new": {
                "content": "  }",
                "line": 450
            }},
            {"new": {
                "content": "}",
                "line": 451
            }},
            {"new": {
                "content": "",
                "line": 452
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRCurveLine) {",
                "line": 453
            }},
            {"new": {
                "content": "  {",
                "line": 454
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 455
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 456
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kRCurveLine,",
                "line": 457
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,",
                "line": 458
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kRCurveLine,",
                "line": 459
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 460
            }},
            {"new": {
                "content": "    };",
                "line": 461
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 462
            }},
            {"new": {
                "content": "  }",
                "line": 463
            }},
            {"new": {
                "content": "  {",
                "line": 464
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 465
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 466
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, kOpPrefix, ots::kRCurveLine,  // invalid",
                "line": 467
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 468
            }},
            {"new": {
                "content": "    };",
                "line": 469
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 470
            }},
            {"new": {
                "content": "  }",
                "line": 471
            }},
            {"new": {
                "content": "  {",
                "line": 472
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 473
            }},
            {"new": {
                "content": "      // can't be the first op.",
                "line": 474
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kRCurveLine,",
                "line": 475
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 476
            }},
            {"new": {
                "content": "    };",
                "line": 477
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 478
            }},
            {"new": {
                "content": "  }",
                "line": 479
            }},
            {"new": {
                "content": "}",
                "line": 480
            }},
            {"new": {
                "content": "",
                "line": 481
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRLineCurve) {",
                "line": 482
            }},
            {"new": {
                "content": "  {",
                "line": 483
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 484
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 485
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kRLineCurve,",
                "line": 486
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, kOpPrefix, ots::kRLineCurve,",
                "line": 487
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 488
            }},
            {"new": {
                "content": "    };",
                "line": 489
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 490
            }},
            {"new": {
                "content": "  }",
                "line": 491
            }},
            {"new": {
                "content": "  {",
                "line": 492
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 493
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 494
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, kOpPrefix, ots::kRLineCurve,  // invalid",
                "line": 495
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 496
            }},
            {"new": {
                "content": "    };",
                "line": 497
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 498
            }},
            {"new": {
                "content": "  }",
                "line": 499
            }},
            {"new": {
                "content": "  {",
                "line": 500
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 501
            }},
            {"new": {
                "content": "      // can't be the first op.",
                "line": 502
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kRLineCurve,",
                "line": 503
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 504
            }},
            {"new": {
                "content": "    };",
                "line": 505
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 506
            }},
            {"new": {
                "content": "  }",
                "line": 507
            }},
            {"new": {
                "content": "}",
                "line": 508
            }},
            {"new": {
                "content": "",
                "line": 509
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVHCurveTo) {",
                "line": 510
            }},
            {"new": {
                "content": "  {",
                "line": 511
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 512
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 513
            }},
            {"new": {
                "content": "      // The first form.",
                "line": 514
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVHCurveTo,",
                "line": 515
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kVHCurveTo,",
                "line": 516
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, kOpPrefix, ots::kVHCurveTo,",
                "line": 517
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,",
                "line": 518
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kVHCurveTo,",
                "line": 519
            }},
            {"new": {
                "content": "      // The second form.",
                "line": 520
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kVHCurveTo,",
                "line": 521
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kVHCurveTo,",
                "line": 522
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,",
                "line": 523
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kVHCurveTo,",
                "line": 524
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,",
                "line": 525
            }},
            {"new": {
                "content": "      22, 23, 24, 25, kOpPrefix, ots::kVHCurveTo,",
                "line": 526
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 527
            }},
            {"new": {
                "content": "    };",
                "line": 528
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 529
            }},
            {"new": {
                "content": "  }",
                "line": 530
            }},
            {"new": {
                "content": "  {",
                "line": 531
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 532
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 533
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVHCurveTo,  // invalid",
                "line": 534
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 535
            }},
            {"new": {
                "content": "    };",
                "line": 536
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 537
            }},
            {"new": {
                "content": "  }",
                "line": 538
            }},
            {"new": {
                "content": "  {",
                "line": 539
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 540
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 541
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kVHCurveTo,  // invalid",
                "line": 542
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 543
            }},
            {"new": {
                "content": "    };",
                "line": 544
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 545
            }},
            {"new": {
                "content": "  }",
                "line": 546
            }},
            {"new": {
                "content": "  {",
                "line": 547
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 548
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVHCurveTo,  // can't be the first op.",
                "line": 549
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 550
            }},
            {"new": {
                "content": "    };",
                "line": 551
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 552
            }},
            {"new": {
                "content": "  }",
                "line": 553
            }},
            {"new": {
                "content": "}",
                "line": 554
            }},
            {"new": {
                "content": "",
                "line": 555
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVVCurveTo) {",
                "line": 556
            }},
            {"new": {
                "content": "  {",
                "line": 557
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 558
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 559
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVVCurveTo,",
                "line": 560
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kVVCurveTo,",
                "line": 561
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kVVCurveTo,",
                "line": 562
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kVVCurveTo,",
                "line": 563
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 564
            }},
            {"new": {
                "content": "    };",
                "line": 565
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 566
            }},
            {"new": {
                "content": "  }",
                "line": 567
            }},
            {"new": {
                "content": "  {",
                "line": 568
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 569
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 570
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kVVCurveTo,  // invalid",
                "line": 571
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 572
            }},
            {"new": {
                "content": "    };",
                "line": 573
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 574
            }},
            {"new": {
                "content": "  }",
                "line": 575
            }},
            {"new": {
                "content": "  {",
                "line": 576
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 577
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 578
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVVCurveTo,  // invalid",
                "line": 579
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 580
            }},
            {"new": {
                "content": "    };",
                "line": 581
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 582
            }},
            {"new": {
                "content": "  }",
                "line": 583
            }},
            {"new": {
                "content": "  {",
                "line": 584
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 585
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVVCurveTo,  // can't be the first op.",
                "line": 586
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 587
            }},
            {"new": {
                "content": "    };",
                "line": 588
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 589
            }},
            {"new": {
                "content": "  }",
                "line": 590
            }},
            {"new": {
                "content": "}",
                "line": 591
            }},
            {"new": {
                "content": "",
                "line": 592
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestFlex) {",
                "line": 593
            }},
            {"new": {
                "content": "  {",
                "line": 594
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 595
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 596
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, kOpPrefix, ots::kFlex,",
                "line": 597
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 598
            }},
            {"new": {
                "content": "    };",
                "line": 599
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 600
            }},
            {"new": {
                "content": "  }",
                "line": 601
            }},
            {"new": {
                "content": "  {",
                "line": 602
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 603
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 604
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kFlex,  // invalid",
                "line": 605
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 606
            }},
            {"new": {
                "content": "    };",
                "line": 607
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 608
            }},
            {"new": {
                "content": "  }",
                "line": 609
            }},
            {"new": {
                "content": "  {",
                "line": 610
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 611
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 612
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, kOpPrefix, ots::kFlex,  // invalid",
                "line": 613
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 614
            }},
            {"new": {
                "content": "    };",
                "line": 615
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 616
            }},
            {"new": {
                "content": "  }",
                "line": 617
            }},
            {"new": {
                "content": "  {",
                "line": 618
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 619
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, kOpPrefix, ots::kFlex,",
                "line": 620
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 621
            }},
            {"new": {
                "content": "    };",
                "line": 622
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 623
            }},
            {"new": {
                "content": "  }",
                "line": 624
            }},
            {"new": {
                "content": "}",
                "line": 625
            }},
            {"new": {
                "content": "",
                "line": 626
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHFlex) {",
                "line": 627
            }},
            {"new": {
                "content": "  {",
                "line": 628
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 629
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 630
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, kOpPrefix, ots::kHFlex,",
                "line": 631
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 632
            }},
            {"new": {
                "content": "    };",
                "line": 633
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 634
            }},
            {"new": {
                "content": "  }",
                "line": 635
            }},
            {"new": {
                "content": "  {",
                "line": 636
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 637
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 638
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHFlex,  // invalid",
                "line": 639
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 640
            }},
            {"new": {
                "content": "    };",
                "line": 641
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 642
            }},
            {"new": {
                "content": "  }",
                "line": 643
            }},
            {"new": {
                "content": "  {",
                "line": 644
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 645
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 646
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, kOpPrefix, ots::kHFlex,  // invalid",
                "line": 647
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 648
            }},
            {"new": {
                "content": "    };",
                "line": 649
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 650
            }},
            {"new": {
                "content": "  }",
                "line": 651
            }},
            {"new": {
                "content": "  {",
                "line": 652
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 653
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, kOpPrefix, ots::kHFlex,",
                "line": 654
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 655
            }},
            {"new": {
                "content": "    };",
                "line": 656
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 657
            }},
            {"new": {
                "content": "  }",
                "line": 658
            }},
            {"new": {
                "content": "}",
                "line": 659
            }},
            {"new": {
                "content": "",
                "line": 660
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHFlex1) {",
                "line": 661
            }},
            {"new": {
                "content": "  {",
                "line": 662
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 663
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 664
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kHFlex1,",
                "line": 665
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 666
            }},
            {"new": {
                "content": "    };",
                "line": 667
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 668
            }},
            {"new": {
                "content": "  }",
                "line": 669
            }},
            {"new": {
                "content": "  {",
                "line": 670
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 671
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 672
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHFlex1,  // invalid",
                "line": 673
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 674
            }},
            {"new": {
                "content": "    };",
                "line": 675
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 676
            }},
            {"new": {
                "content": "  }",
                "line": 677
            }},
            {"new": {
                "content": "  {",
                "line": 678
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 679
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 680
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, kOpPrefix, ots::kHFlex1,  // invalid",
                "line": 681
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 682
            }},
            {"new": {
                "content": "    };",
                "line": 683
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 684
            }},
            {"new": {
                "content": "  }",
                "line": 685
            }},
            {"new": {
                "content": "  {",
                "line": 686
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 687
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, kOpPrefix, ots::kHFlex1,",
                "line": 688
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 689
            }},
            {"new": {
                "content": "    };",
                "line": 690
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 691
            }},
            {"new": {
                "content": "  }",
                "line": 692
            }},
            {"new": {
                "content": "}",
                "line": 693
            }},
            {"new": {
                "content": "",
                "line": 694
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestFlex1) {",
                "line": 695
            }},
            {"new": {
                "content": "  {",
                "line": 696
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 697
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 698
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, kOpPrefix, ots::kFlex1,",
                "line": 699
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 700
            }},
            {"new": {
                "content": "    };",
                "line": 701
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 702
            }},
            {"new": {
                "content": "  }",
                "line": 703
            }},
            {"new": {
                "content": "  {",
                "line": 704
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 705
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 706
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kFlex1,  // invalid",
                "line": 707
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 708
            }},
            {"new": {
                "content": "    };",
                "line": 709
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 710
            }},
            {"new": {
                "content": "  }",
                "line": 711
            }},
            {"new": {
                "content": "  {",
                "line": 712
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 713
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 714
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, kOpPrefix, ots::kFlex1,  // invalid",
                "line": 715
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 716
            }},
            {"new": {
                "content": "    };",
                "line": 717
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 718
            }},
            {"new": {
                "content": "  }",
                "line": 719
            }},
            {"new": {
                "content": "  {",
                "line": 720
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 721
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, kOpPrefix, ots::kFlex1,",
                "line": 722
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 723
            }},
            {"new": {
                "content": "    };",
                "line": 724
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 725
            }},
            {"new": {
                "content": "  }",
                "line": 726
            }},
            {"new": {
                "content": "}",
                "line": 727
            }},
            {"new": {
                "content": "",
                "line": 728
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestEndChar) {",
                "line": 729
            }},
            {"new": {
                "content": "  {",
                "line": 730
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 731
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 732
            }},
            {"new": {
                "content": "    };",
                "line": 733
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 734
            }},
            {"new": {
                "content": "  }",
                "line": 735
            }},
            {"new": {
                "content": "  {",
                "line": 736
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 737
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 738
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 739
            }},
            {"new": {
                "content": "    };",
                "line": 740
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 741
            }},
            {"new": {
                "content": "  }",
                "line": 742
            }},
            {"new": {
                "content": "  {",
                "line": 743
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 744
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 745
            }},
            {"new": {
                "content": "    };",
                "line": 746
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 747
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 748
            }},
            {"new": {
                "content": "    };",
                "line": 749
            }},
            {"new": {
                "content": "    EXPECT_TRUE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 750
            }},
            {"new": {
                "content": "                         NULL, 0,",
                "line": 751
            }},
            {"new": {
                "content": "                         local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 752
            }},
            {"new": {
                "content": "  }",
                "line": 753
            }},
            {"new": {
                "content": "  {",
                "line": 754
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 755
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 756
            }},
            {"new": {
                "content": "    };",
                "line": 757
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 758
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 759
            }},
            {"new": {
                "content": "    };",
                "line": 760
            }},
            {"new": {
                "content": "    EXPECT_TRUE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 761
            }},
            {"new": {
                "content": "                         global_subrs, ARRAYSIZE(global_subrs),",
                "line": 762
            }},
            {"new": {
                "content": "                         NULL, 0));",
                "line": 763
            }},
            {"new": {
                "content": "  }",
                "line": 764
            }},
            {"new": {
                "content": "}",
                "line": 765
            }},
            {"new": {
                "content": "",
                "line": 766
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHStem) {",
                "line": 767
            }},
            {"new": {
                "content": "  {",
                "line": 768
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 769
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 770
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 771
            }},
            {"new": {
                "content": "    };",
                "line": 772
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 773
            }},
            {"new": {
                "content": "  }",
                "line": 774
            }},
            {"new": {
                "content": "  {",
                "line": 775
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 776
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHStem,",
                "line": 777
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 778
            }},
            {"new": {
                "content": "    };",
                "line": 779
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 780
            }},
            {"new": {
                "content": "  }",
                "line": 781
            }},
            {"new": {
                "content": "  {",
                "line": 782
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 783
            }},
            {"new": {
                "content": "      0,  // width",
                "line": 784
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 785
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 786
            }},
            {"new": {
                "content": "    };",
                "line": 787
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 788
            }},
            {"new": {
                "content": "  }",
                "line": 789
            }},
            {"new": {
                "content": "  {",
                "line": 790
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 791
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 792
            }},
            {"new": {
                "content": "      0, 1, 2, kOpPrefix, ots::kHStem,  // invalid",
                "line": 793
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 794
            }},
            {"new": {
                "content": "    };",
                "line": 795
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 796
            }},
            {"new": {
                "content": "  }",
                "line": 797
            }},
            {"new": {
                "content": "  {",
                "line": 798
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 799
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 800
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHStem,  // invalid",
                "line": 801
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 802
            }},
            {"new": {
                "content": "    };",
                "line": 803
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 804
            }},
            {"new": {
                "content": "  }",
                "line": 805
            }},
            {"new": {
                "content": "}",
                "line": 806
            }},
            {"new": {
                "content": "",
                "line": 807
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVStem) {",
                "line": 808
            }},
            {"new": {
                "content": "  {",
                "line": 809
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 810
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVStem,",
                "line": 811
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 812
            }},
            {"new": {
                "content": "    };",
                "line": 813
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 814
            }},
            {"new": {
                "content": "  }",
                "line": 815
            }},
            {"new": {
                "content": "  {",
                "line": 816
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 817
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVStem,",
                "line": 818
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 819
            }},
            {"new": {
                "content": "    };",
                "line": 820
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 821
            }},
            {"new": {
                "content": "  }",
                "line": 822
            }},
            {"new": {
                "content": "  {",
                "line": 823
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 824
            }},
            {"new": {
                "content": "      0,  // width",
                "line": 825
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVStem,",
                "line": 826
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 827
            }},
            {"new": {
                "content": "    };",
                "line": 828
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 829
            }},
            {"new": {
                "content": "  }",
                "line": 830
            }},
            {"new": {
                "content": "  {",
                "line": 831
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 832
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 833
            }},
            {"new": {
                "content": "      0, 1, 2, kOpPrefix, ots::kVStem,  // invalid",
                "line": 834
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 835
            }},
            {"new": {
                "content": "    };",
                "line": 836
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 837
            }},
            {"new": {
                "content": "  }",
                "line": 838
            }},
            {"new": {
                "content": "  {",
                "line": 839
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 840
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 841
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kVStem,  // invalid",
                "line": 842
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 843
            }},
            {"new": {
                "content": "    };",
                "line": 844
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 845
            }},
            {"new": {
                "content": "  }",
                "line": 846
            }},
            {"new": {
                "content": "}",
                "line": 847
            }},
            {"new": {
                "content": "",
                "line": 848
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHStemHm) {",
                "line": 849
            }},
            {"new": {
                "content": "  {",
                "line": 850
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 851
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStemHm,",
                "line": 852
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 853
            }},
            {"new": {
                "content": "    };",
                "line": 854
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 855
            }},
            {"new": {
                "content": "  }",
                "line": 856
            }},
            {"new": {
                "content": "  {",
                "line": 857
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 858
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kHStemHm,",
                "line": 859
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 860
            }},
            {"new": {
                "content": "    };",
                "line": 861
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 862
            }},
            {"new": {
                "content": "  }",
                "line": 863
            }},
            {"new": {
                "content": "  {",
                "line": 864
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 865
            }},
            {"new": {
                "content": "      0,  // width",
                "line": 866
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStemHm,",
                "line": 867
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 868
            }},
            {"new": {
                "content": "    };",
                "line": 869
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 870
            }},
            {"new": {
                "content": "  }",
                "line": 871
            }},
            {"new": {
                "content": "  {",
                "line": 872
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 873
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 874
            }},
            {"new": {
                "content": "      0, 1, 2, kOpPrefix, ots::kHStemHm,  // invalid",
                "line": 875
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 876
            }},
            {"new": {
                "content": "    };",
                "line": 877
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 878
            }},
            {"new": {
                "content": "  }",
                "line": 879
            }},
            {"new": {
                "content": "  {",
                "line": 880
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 881
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 882
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kHStemHm,  // invalid",
                "line": 883
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 884
            }},
            {"new": {
                "content": "    };",
                "line": 885
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 886
            }},
            {"new": {
                "content": "  }",
                "line": 887
            }},
            {"new": {
                "content": "}",
                "line": 888
            }},
            {"new": {
                "content": "",
                "line": 889
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestVStemHm) {",
                "line": 890
            }},
            {"new": {
                "content": "  {",
                "line": 891
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 892
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVStemHm,",
                "line": 893
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 894
            }},
            {"new": {
                "content": "    };",
                "line": 895
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 896
            }},
            {"new": {
                "content": "  }",
                "line": 897
            }},
            {"new": {
                "content": "  {",
                "line": 898
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 899
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kVStemHm,",
                "line": 900
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 901
            }},
            {"new": {
                "content": "    };",
                "line": 902
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 903
            }},
            {"new": {
                "content": "  }",
                "line": 904
            }},
            {"new": {
                "content": "  {",
                "line": 905
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 906
            }},
            {"new": {
                "content": "      0,  // width",
                "line": 907
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kVStemHm,",
                "line": 908
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 909
            }},
            {"new": {
                "content": "    };",
                "line": 910
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 911
            }},
            {"new": {
                "content": "  }",
                "line": 912
            }},
            {"new": {
                "content": "  {",
                "line": 913
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 914
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 915
            }},
            {"new": {
                "content": "      0, 1, 2, kOpPrefix, ots::kVStemHm,  // invalid",
                "line": 916
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 917
            }},
            {"new": {
                "content": "    };",
                "line": 918
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 919
            }},
            {"new": {
                "content": "  }",
                "line": 920
            }},
            {"new": {
                "content": "  {",
                "line": 921
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 922
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kVMoveTo,",
                "line": 923
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, kOpPrefix, ots::kVStemHm,  // invalid",
                "line": 924
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 925
            }},
            {"new": {
                "content": "    };",
                "line": 926
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 927
            }},
            {"new": {
                "content": "  }",
                "line": 928
            }},
            {"new": {
                "content": "}",
                "line": 929
            }},
            {"new": {
                "content": "",
                "line": 930
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestHintMask) {",
                "line": 931
            }},
            {"new": {
                "content": "  {",
                "line": 932
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 933
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 934
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHintMask, 0x00,",
                "line": 935
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 936
            }},
            {"new": {
                "content": "    };",
                "line": 937
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 938
            }},
            {"new": {
                "content": "  }",
                "line": 939
            }},
            {"new": {
                "content": "  {",
                "line": 940
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 941
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 942
            }},
            {"new": {
                "content": "      3, 4, 5, 6, kOpPrefix, ots::kHintMask, 0x00,  // vstem",
                "line": 943
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 944
            }},
            {"new": {
                "content": "    };",
                "line": 945
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 946
            }},
            {"new": {
                "content": "  }",
                "line": 947
            }},
            {"new": {
                "content": "  {",
                "line": 948
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 949
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHintMask, 0x00,  // no stems to mask",
                "line": 950
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 951
            }},
            {"new": {
                "content": "    };",
                "line": 952
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 953
            }},
            {"new": {
                "content": "  }",
                "line": 954
            }},
            {"new": {
                "content": "  {",
                "line": 955
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 956
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 957
            }},
            {"new": {
                "content": "      3, 4, 5, kOpPrefix, ots::kHintMask, 0x00,  // invalid vstem",
                "line": 958
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 959
            }},
            {"new": {
                "content": "    };",
                "line": 960
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 961
            }},
            {"new": {
                "content": "  }",
                "line": 962
            }},
            {"new": {
                "content": "}",
                "line": 963
            }},
            {"new": {
                "content": "",
                "line": 964
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestCntrMask) {",
                "line": 965
            }},
            {"new": {
                "content": "  {",
                "line": 966
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 967
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 968
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kCntrMask, 0x00,",
                "line": 969
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 970
            }},
            {"new": {
                "content": "    };",
                "line": 971
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 972
            }},
            {"new": {
                "content": "  }",
                "line": 973
            }},
            {"new": {
                "content": "  {",
                "line": 974
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 975
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 976
            }},
            {"new": {
                "content": "      3, 4, 5, 6, kOpPrefix, ots::kCntrMask, 0x00,  // vstem",
                "line": 977
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 978
            }},
            {"new": {
                "content": "    };",
                "line": 979
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 980
            }},
            {"new": {
                "content": "  }",
                "line": 981
            }},
            {"new": {
                "content": "  {",
                "line": 982
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 983
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kCntrMask, 0x00,  // no stems to mask",
                "line": 984
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 985
            }},
            {"new": {
                "content": "    };",
                "line": 986
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 987
            }},
            {"new": {
                "content": "  }",
                "line": 988
            }},
            {"new": {
                "content": "  {",
                "line": 989
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 990
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 991
            }},
            {"new": {
                "content": "      3, 4, 5, kOpPrefix, ots::kCntrMask, 0x00,  // invalid vstem",
                "line": 992
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 993
            }},
            {"new": {
                "content": "    };",
                "line": 994
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 995
            }},
            {"new": {
                "content": "  }",
                "line": 996
            }},
            {"new": {
                "content": "}",
                "line": 997
            }},
            {"new": {
                "content": "",
                "line": 998
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestAbs) {",
                "line": 999
            }},
            {"new": {
                "content": "  {",
                "line": 1000
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1001
            }},
            {"new": {
                "content": "      -1, kOpPrefix, ots::kAbs,",
                "line": 1002
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1003
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1004
            }},
            {"new": {
                "content": "    };",
                "line": 1005
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1006
            }},
            {"new": {
                "content": "  }",
                "line": 1007
            }},
            {"new": {
                "content": "  {",
                "line": 1008
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1009
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kAbs,  // invalid",
                "line": 1010
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1011
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1012
            }},
            {"new": {
                "content": "    };",
                "line": 1013
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1014
            }},
            {"new": {
                "content": "  }",
                "line": 1015
            }},
            {"new": {
                "content": "}",
                "line": 1016
            }},
            {"new": {
                "content": "",
                "line": 1017
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestAdd) {",
                "line": 1018
            }},
            {"new": {
                "content": "  {",
                "line": 1019
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1020
            }},
            {"new": {
                "content": "      0, 1, kOpPrefix, ots::kAdd,",
                "line": 1021
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1022
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1023
            }},
            {"new": {
                "content": "    };",
                "line": 1024
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1025
            }},
            {"new": {
                "content": "  }",
                "line": 1026
            }},
            {"new": {
                "content": "  {",
                "line": 1027
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1028
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kAdd,  // invalid",
                "line": 1029
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1030
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1031
            }},
            {"new": {
                "content": "    };",
                "line": 1032
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1033
            }},
            {"new": {
                "content": "  }",
                "line": 1034
            }},
            {"new": {
                "content": "}",
                "line": 1035
            }},
            {"new": {
                "content": "",
                "line": 1036
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestSub) {",
                "line": 1037
            }},
            {"new": {
                "content": "  {",
                "line": 1038
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1039
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kSub,",
                "line": 1040
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1041
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1042
            }},
            {"new": {
                "content": "    };",
                "line": 1043
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1044
            }},
            {"new": {
                "content": "  }",
                "line": 1045
            }},
            {"new": {
                "content": "  {",
                "line": 1046
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1047
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kSub,  // invalid",
                "line": 1048
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1049
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1050
            }},
            {"new": {
                "content": "    };",
                "line": 1051
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1052
            }},
            {"new": {
                "content": "  }",
                "line": 1053
            }},
            {"new": {
                "content": "}",
                "line": 1054
            }},
            {"new": {
                "content": "",
                "line": 1055
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestDiv) {",
                "line": 1056
            }},
            {"new": {
                "content": "  // TODO(yusukes): Test div-by-zero.",
                "line": 1057
            }},
            {"new": {
                "content": "  {",
                "line": 1058
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1059
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kDiv,",
                "line": 1060
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1061
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1062
            }},
            {"new": {
                "content": "    };",
                "line": 1063
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1064
            }},
            {"new": {
                "content": "  }",
                "line": 1065
            }},
            {"new": {
                "content": "  {",
                "line": 1066
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1067
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kDiv,  // invalid",
                "line": 1068
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1069
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1070
            }},
            {"new": {
                "content": "    };",
                "line": 1071
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1072
            }},
            {"new": {
                "content": "  }",
                "line": 1073
            }},
            {"new": {
                "content": "}",
                "line": 1074
            }},
            {"new": {
                "content": "",
                "line": 1075
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestNeg) {",
                "line": 1076
            }},
            {"new": {
                "content": "  {",
                "line": 1077
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1078
            }},
            {"new": {
                "content": "      -1, kOpPrefix, ots::kNeg,",
                "line": 1079
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1080
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1081
            }},
            {"new": {
                "content": "    };",
                "line": 1082
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1083
            }},
            {"new": {
                "content": "  }",
                "line": 1084
            }},
            {"new": {
                "content": "  {",
                "line": 1085
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1086
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kNeg,  // invalid",
                "line": 1087
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1088
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1089
            }},
            {"new": {
                "content": "    };",
                "line": 1090
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1091
            }},
            {"new": {
                "content": "  }",
                "line": 1092
            }},
            {"new": {
                "content": "}",
                "line": 1093
            }},
            {"new": {
                "content": "",
                "line": 1094
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRandom) {",
                "line": 1095
            }},
            {"new": {
                "content": "  {",
                "line": 1096
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1097
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kRandom,  // OTS rejects the operator.",
                "line": 1098
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1099
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1100
            }},
            {"new": {
                "content": "    };",
                "line": 1101
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1102
            }},
            {"new": {
                "content": "  }",
                "line": 1103
            }},
            {"new": {
                "content": "}",
                "line": 1104
            }},
            {"new": {
                "content": "",
                "line": 1105
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestMul) {",
                "line": 1106
            }},
            {"new": {
                "content": "  {",
                "line": 1107
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1108
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kMul,",
                "line": 1109
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1110
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1111
            }},
            {"new": {
                "content": "    };",
                "line": 1112
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1113
            }},
            {"new": {
                "content": "  }",
                "line": 1114
            }},
            {"new": {
                "content": "  {",
                "line": 1115
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1116
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kMul,  // invalid",
                "line": 1117
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1118
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1119
            }},
            {"new": {
                "content": "    };",
                "line": 1120
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1121
            }},
            {"new": {
                "content": "  }",
                "line": 1122
            }},
            {"new": {
                "content": "}",
                "line": 1123
            }},
            {"new": {
                "content": "",
                "line": 1124
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestSqrt) {",
                "line": 1125
            }},
            {"new": {
                "content": "  // TODO(yusukes): Test negative numbers.",
                "line": 1126
            }},
            {"new": {
                "content": "  {",
                "line": 1127
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1128
            }},
            {"new": {
                "content": "      4, kOpPrefix, ots::kSqrt,",
                "line": 1129
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1130
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1131
            }},
            {"new": {
                "content": "    };",
                "line": 1132
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1133
            }},
            {"new": {
                "content": "  }",
                "line": 1134
            }},
            {"new": {
                "content": "  {",
                "line": 1135
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1136
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kSqrt,  // invalid",
                "line": 1137
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1138
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1139
            }},
            {"new": {
                "content": "    };",
                "line": 1140
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1141
            }},
            {"new": {
                "content": "  }",
                "line": 1142
            }},
            {"new": {
                "content": "}",
                "line": 1143
            }},
            {"new": {
                "content": "",
                "line": 1144
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestDrop) {",
                "line": 1145
            }},
            {"new": {
                "content": "  {",
                "line": 1146
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1147
            }},
            {"new": {
                "content": "      1, 1, kOpPrefix, ots::kAdd,",
                "line": 1148
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kDrop,",
                "line": 1149
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 1150
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1151
            }},
            {"new": {
                "content": "    };",
                "line": 1152
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1153
            }},
            {"new": {
                "content": "  }",
                "line": 1154
            }},
            {"new": {
                "content": "  {",
                "line": 1155
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1156
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kDrop,  // invalid",
                "line": 1157
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 1158
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1159
            }},
            {"new": {
                "content": "    };",
                "line": 1160
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1161
            }},
            {"new": {
                "content": "  }",
                "line": 1162
            }},
            {"new": {
                "content": "}",
                "line": 1163
            }},
            {"new": {
                "content": "",
                "line": 1164
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestExch) {",
                "line": 1165
            }},
            {"new": {
                "content": "  {",
                "line": 1166
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1167
            }},
            {"new": {
                "content": "      1, 1, kOpPrefix, ots::kAdd,",
                "line": 1168
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kDup,",
                "line": 1169
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kExch,",
                "line": 1170
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHStem,",
                "line": 1171
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1172
            }},
            {"new": {
                "content": "    };",
                "line": 1173
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1174
            }},
            {"new": {
                "content": "  }",
                "line": 1175
            }},
            {"new": {
                "content": "  {",
                "line": 1176
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1177
            }},
            {"new": {
                "content": "      1, 1, kOpPrefix, ots::kAdd,",
                "line": 1178
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kExch,  // invalid",
                "line": 1179
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1180
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1181
            }},
            {"new": {
                "content": "    };",
                "line": 1182
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1183
            }},
            {"new": {
                "content": "  }",
                "line": 1184
            }},
            {"new": {
                "content": "}",
                "line": 1185
            }},
            {"new": {
                "content": "",
                "line": 1186
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestIndex) {",
                "line": 1187
            }},
            {"new": {
                "content": "  {",
                "line": 1188
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1189
            }},
            {"new": {
                "content": "      1, 2, 3, -1, kOpPrefix, ots::kIndex,  // OTS rejects the operator.",
                "line": 1190
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHStem,",
                "line": 1191
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1192
            }},
            {"new": {
                "content": "    };",
                "line": 1193
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1194
            }},
            {"new": {
                "content": "  }",
                "line": 1195
            }},
            {"new": {
                "content": "}",
                "line": 1196
            }},
            {"new": {
                "content": "",
                "line": 1197
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestRoll) {",
                "line": 1198
            }},
            {"new": {
                "content": "  {",
                "line": 1199
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1200
            }},
            {"new": {
                "content": "      1, 2, 2, 1, kOpPrefix, ots::kRoll,  // OTS rejects the operator.",
                "line": 1201
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHStem,",
                "line": 1202
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1203
            }},
            {"new": {
                "content": "    };",
                "line": 1204
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1205
            }},
            {"new": {
                "content": "  }",
                "line": 1206
            }},
            {"new": {
                "content": "}",
                "line": 1207
            }},
            {"new": {
                "content": "",
                "line": 1208
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestDup) {",
                "line": 1209
            }},
            {"new": {
                "content": "  {",
                "line": 1210
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1211
            }},
            {"new": {
                "content": "      1, 1, kOpPrefix, ots::kAdd,",
                "line": 1212
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kDup,",
                "line": 1213
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kHStem,",
                "line": 1214
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1215
            }},
            {"new": {
                "content": "    };",
                "line": 1216
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1217
            }},
            {"new": {
                "content": "  }",
                "line": 1218
            }},
            {"new": {
                "content": "  {",
                "line": 1219
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1220
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kDup,  // invalid",
                "line": 1221
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1222
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1223
            }},
            {"new": {
                "content": "    };",
                "line": 1224
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1225
            }},
            {"new": {
                "content": "  }",
                "line": 1226
            }},
            {"new": {
                "content": "}",
                "line": 1227
            }},
            {"new": {
                "content": "",
                "line": 1228
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestPut) {",
                "line": 1229
            }},
            {"new": {
                "content": "  {",
                "line": 1230
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1231
            }},
            {"new": {
                "content": "      1, 10, kOpPrefix, ots::kPut,  // OTS rejects the operator.",
                "line": 1232
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 1233
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1234
            }},
            {"new": {
                "content": "    };",
                "line": 1235
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1236
            }},
            {"new": {
                "content": "  }",
                "line": 1237
            }},
            {"new": {
                "content": "}",
                "line": 1238
            }},
            {"new": {
                "content": "",
                "line": 1239
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestGet) {",
                "line": 1240
            }},
            {"new": {
                "content": "  {",
                "line": 1241
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1242
            }},
            {"new": {
                "content": "      1, 10, kOpPrefix, ots::kGet,  // OTS rejects the operator.",
                "line": 1243
            }},
            {"new": {
                "content": "      1, 2, kOpPrefix, ots::kHStem,",
                "line": 1244
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1245
            }},
            {"new": {
                "content": "    };",
                "line": 1246
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1247
            }},
            {"new": {
                "content": "  }",
                "line": 1248
            }},
            {"new": {
                "content": "}",
                "line": 1249
            }},
            {"new": {
                "content": "",
                "line": 1250
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestAnd) {",
                "line": 1251
            }},
            {"new": {
                "content": "  {",
                "line": 1252
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1253
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kAnd,",
                "line": 1254
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1255
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1256
            }},
            {"new": {
                "content": "    };",
                "line": 1257
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1258
            }},
            {"new": {
                "content": "  }",
                "line": 1259
            }},
            {"new": {
                "content": "  {",
                "line": 1260
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1261
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kAnd,  // invalid",
                "line": 1262
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1263
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1264
            }},
            {"new": {
                "content": "    };",
                "line": 1265
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1266
            }},
            {"new": {
                "content": "  }",
                "line": 1267
            }},
            {"new": {
                "content": "}",
                "line": 1268
            }},
            {"new": {
                "content": "",
                "line": 1269
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestOr) {",
                "line": 1270
            }},
            {"new": {
                "content": "  {",
                "line": 1271
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1272
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kOr,",
                "line": 1273
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1274
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1275
            }},
            {"new": {
                "content": "    };",
                "line": 1276
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1277
            }},
            {"new": {
                "content": "  }",
                "line": 1278
            }},
            {"new": {
                "content": "  {",
                "line": 1279
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1280
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kOr,  // invalid",
                "line": 1281
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1282
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1283
            }},
            {"new": {
                "content": "    };",
                "line": 1284
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1285
            }},
            {"new": {
                "content": "  }",
                "line": 1286
            }},
            {"new": {
                "content": "}",
                "line": 1287
            }},
            {"new": {
                "content": "",
                "line": 1288
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestNot) {",
                "line": 1289
            }},
            {"new": {
                "content": "  {",
                "line": 1290
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1291
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kNot,",
                "line": 1292
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1293
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1294
            }},
            {"new": {
                "content": "    };",
                "line": 1295
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1296
            }},
            {"new": {
                "content": "  }",
                "line": 1297
            }},
            {"new": {
                "content": "  {",
                "line": 1298
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1299
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kNot,  // invalid",
                "line": 1300
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1301
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1302
            }},
            {"new": {
                "content": "    };",
                "line": 1303
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1304
            }},
            {"new": {
                "content": "  }",
                "line": 1305
            }},
            {"new": {
                "content": "}",
                "line": 1306
            }},
            {"new": {
                "content": "",
                "line": 1307
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestEq) {",
                "line": 1308
            }},
            {"new": {
                "content": "  {",
                "line": 1309
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1310
            }},
            {"new": {
                "content": "      2, 1, kOpPrefix, ots::kEq,",
                "line": 1311
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1312
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1313
            }},
            {"new": {
                "content": "    };",
                "line": 1314
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1315
            }},
            {"new": {
                "content": "  }",
                "line": 1316
            }},
            {"new": {
                "content": "  {",
                "line": 1317
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1318
            }},
            {"new": {
                "content": "      1, kOpPrefix, ots::kEq,  // invalid",
                "line": 1319
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1320
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1321
            }},
            {"new": {
                "content": "    };",
                "line": 1322
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1323
            }},
            {"new": {
                "content": "  }",
                "line": 1324
            }},
            {"new": {
                "content": "}",
                "line": 1325
            }},
            {"new": {
                "content": "",
                "line": 1326
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestIfElse) {",
                "line": 1327
            }},
            {"new": {
                "content": "  {",
                "line": 1328
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1329
            }},
            {"new": {
                "content": "      1, 2, 3, 4, kOpPrefix, ots::kIfElse,",
                "line": 1330
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1331
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1332
            }},
            {"new": {
                "content": "    };",
                "line": 1333
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1334
            }},
            {"new": {
                "content": "  }",
                "line": 1335
            }},
            {"new": {
                "content": "  {",
                "line": 1336
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1337
            }},
            {"new": {
                "content": "      1, 2, 3, kOpPrefix, ots::kIfElse,  // invalid",
                "line": 1338
            }},
            {"new": {
                "content": "      2, kOpPrefix, ots::kHStem,",
                "line": 1339
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1340
            }},
            {"new": {
                "content": "    };",
                "line": 1341
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1342
            }},
            {"new": {
                "content": "  }",
                "line": 1343
            }},
            {"new": {
                "content": "}",
                "line": 1344
            }},
            {"new": {
                "content": "",
                "line": 1345
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestCallSubr) {",
                "line": 1346
            }},
            {"new": {
                "content": "  // Call valid subr.",
                "line": 1347
            }},
            {"new": {
                "content": "  {",
                "line": 1348
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1349
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1350
            }},
            {"new": {
                "content": "    };",
                "line": 1351
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 1352
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1353
            }},
            {"new": {
                "content": "    };",
                "line": 1354
            }},
            {"new": {
                "content": "    EXPECT_TRUE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1355
            }},
            {"new": {
                "content": "                         NULL, 0,",
                "line": 1356
            }},
            {"new": {
                "content": "                         local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 1357
            }},
            {"new": {
                "content": "  }",
                "line": 1358
            }},
            {"new": {
                "content": "  // Call undefined subr.",
                "line": 1359
            }},
            {"new": {
                "content": "  {",
                "line": 1360
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1361
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(-1), kOpPrefix, ots::kCallSubr,",
                "line": 1362
            }},
            {"new": {
                "content": "    };",
                "line": 1363
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 1364
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1365
            }},
            {"new": {
                "content": "    };",
                "line": 1366
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1367
            }},
            {"new": {
                "content": "                          NULL, 0,",
                "line": 1368
            }},
            {"new": {
                "content": "                          local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 1369
            }},
            {"new": {
                "content": "  }",
                "line": 1370
            }},
            {"new": {
                "content": "  {",
                "line": 1371
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1372
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(1), kOpPrefix, ots::kCallSubr,",
                "line": 1373
            }},
            {"new": {
                "content": "    };",
                "line": 1374
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 1375
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1376
            }},
            {"new": {
                "content": "    };",
                "line": 1377
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1378
            }},
            {"new": {
                "content": "                          NULL, 0,",
                "line": 1379
            }},
            {"new": {
                "content": "                          local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 1380
            }},
            {"new": {
                "content": "  }",
                "line": 1381
            }},
            {"new": {
                "content": "  {",
                "line": 1382
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1383
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(-1), kOpPrefix, ots::kCallSubr,",
                "line": 1384
            }},
            {"new": {
                "content": "    };",
                "line": 1385
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1386
            }},
            {"new": {
                "content": "  }",
                "line": 1387
            }},
            {"new": {
                "content": "  {",
                "line": 1388
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1389
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1390
            }},
            {"new": {
                "content": "    };",
                "line": 1391
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1392
            }},
            {"new": {
                "content": "  }",
                "line": 1393
            }},
            {"new": {
                "content": "  {",
                "line": 1394
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1395
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(1), kOpPrefix, ots::kCallSubr,",
                "line": 1396
            }},
            {"new": {
                "content": "    };",
                "line": 1397
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1398
            }},
            {"new": {
                "content": "  }",
                "line": 1399
            }},
            {"new": {
                "content": "}",
                "line": 1400
            }},
            {"new": {
                "content": "",
                "line": 1401
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestCallGSubr) {",
                "line": 1402
            }},
            {"new": {
                "content": "  // Call valid subr.",
                "line": 1403
            }},
            {"new": {
                "content": "  {",
                "line": 1404
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1405
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 1406
            }},
            {"new": {
                "content": "    };",
                "line": 1407
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1408
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1409
            }},
            {"new": {
                "content": "    };",
                "line": 1410
            }},
            {"new": {
                "content": "    EXPECT_TRUE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1411
            }},
            {"new": {
                "content": "                         global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1412
            }},
            {"new": {
                "content": "                         NULL, 0));",
                "line": 1413
            }},
            {"new": {
                "content": "  }",
                "line": 1414
            }},
            {"new": {
                "content": "  // Call undefined subr.",
                "line": 1415
            }},
            {"new": {
                "content": "  {",
                "line": 1416
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1417
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(-1), kOpPrefix, ots::kCallGSubr,",
                "line": 1418
            }},
            {"new": {
                "content": "    };",
                "line": 1419
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1420
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1421
            }},
            {"new": {
                "content": "    };",
                "line": 1422
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1423
            }},
            {"new": {
                "content": "                          global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1424
            }},
            {"new": {
                "content": "                          NULL, 0));",
                "line": 1425
            }},
            {"new": {
                "content": "  }",
                "line": 1426
            }},
            {"new": {
                "content": "  {",
                "line": 1427
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1428
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(1), kOpPrefix, ots::kCallGSubr,",
                "line": 1429
            }},
            {"new": {
                "content": "    };",
                "line": 1430
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1431
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1432
            }},
            {"new": {
                "content": "    };",
                "line": 1433
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1434
            }},
            {"new": {
                "content": "                          global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1435
            }},
            {"new": {
                "content": "                          NULL, 0));",
                "line": 1436
            }},
            {"new": {
                "content": "  }",
                "line": 1437
            }},
            {"new": {
                "content": "  {",
                "line": 1438
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1439
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(-1), kOpPrefix, ots::kCallGSubr,",
                "line": 1440
            }},
            {"new": {
                "content": "    };",
                "line": 1441
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1442
            }},
            {"new": {
                "content": "  }",
                "line": 1443
            }},
            {"new": {
                "content": "  {",
                "line": 1444
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1445
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 1446
            }},
            {"new": {
                "content": "    };",
                "line": 1447
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1448
            }},
            {"new": {
                "content": "  }",
                "line": 1449
            }},
            {"new": {
                "content": "  {",
                "line": 1450
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1451
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(1), kOpPrefix, ots::kCallGSubr,",
                "line": 1452
            }},
            {"new": {
                "content": "    };",
                "line": 1453
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1454
            }},
            {"new": {
                "content": "  }",
                "line": 1455
            }},
            {"new": {
                "content": "}",
                "line": 1456
            }},
            {"new": {
                "content": "",
                "line": 1457
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestCallGSubrWithComputedValues) {",
                "line": 1458
            }},
            {"new": {
                "content": "  {",
                "line": 1459
            }},
            {"new": {
                "content": "    // OTS does not allow to call(g)subr with a subroutine number which is",
                "line": 1460
            }},
            {"new": {
                "content": "    // not a immediate value for safety.",
                "line": 1461
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1462
            }},
            {"new": {
                "content": "      0, 0, kOpPrefix, ots::kAdd,",
                "line": 1463
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kCallGSubr,",
                "line": 1464
            }},
            {"new": {
                "content": "    };",
                "line": 1465
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1466
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1467
            }},
            {"new": {
                "content": "    };",
                "line": 1468
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1469
            }},
            {"new": {
                "content": "                          global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1470
            }},
            {"new": {
                "content": "                          NULL, 0));",
                "line": 1471
            }},
            {"new": {
                "content": "  }",
                "line": 1472
            }},
            {"new": {
                "content": "}",
                "line": 1473
            }},
            {"new": {
                "content": "",
                "line": 1474
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestInfiniteLoop) {",
                "line": 1475
            }},
            {"new": {
                "content": "  {",
                "line": 1476
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1477
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1478
            }},
            {"new": {
                "content": "    };",
                "line": 1479
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 1480
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1481
            }},
            {"new": {
                "content": "    };",
                "line": 1482
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1483
            }},
            {"new": {
                "content": "                          NULL, 0,",
                "line": 1484
            }},
            {"new": {
                "content": "                          local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 1485
            }},
            {"new": {
                "content": "  }",
                "line": 1486
            }},
            {"new": {
                "content": "  {",
                "line": 1487
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1488
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 1489
            }},
            {"new": {
                "content": "    };",
                "line": 1490
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1491
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 1492
            }},
            {"new": {
                "content": "    };",
                "line": 1493
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1494
            }},
            {"new": {
                "content": "                          global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1495
            }},
            {"new": {
                "content": "                          NULL, 0));",
                "line": 1496
            }},
            {"new": {
                "content": "  }",
                "line": 1497
            }},
            {"new": {
                "content": "  // mutual recursion which doesn't stop.",
                "line": 1498
            }},
            {"new": {
                "content": "  {",
                "line": 1499
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1500
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1501
            }},
            {"new": {
                "content": "    };",
                "line": 1502
            }},
            {"new": {
                "content": "    const int global_subrs[] = {",
                "line": 1503
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallSubr,",
                "line": 1504
            }},
            {"new": {
                "content": "    };",
                "line": 1505
            }},
            {"new": {
                "content": "    const int local_subrs[] = {",
                "line": 1506
            }},
            {"new": {
                "content": "      GET_SUBR_NUMBER(0), kOpPrefix, ots::kCallGSubr,",
                "line": 1507
            }},
            {"new": {
                "content": "    };",
                "line": 1508
            }},
            {"new": {
                "content": "    EXPECT_FALSE(Validate(char_string, ARRAYSIZE(char_string),",
                "line": 1509
            }},
            {"new": {
                "content": "                          global_subrs, ARRAYSIZE(global_subrs),",
                "line": 1510
            }},
            {"new": {
                "content": "                          local_subrs, ARRAYSIZE(local_subrs)));",
                "line": 1511
            }},
            {"new": {
                "content": "  }",
                "line": 1512
            }},
            {"new": {
                "content": "}",
                "line": 1513
            }},
            {"new": {
                "content": "",
                "line": 1514
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestStackOverflow) {",
                "line": 1515
            }},
            {"new": {
                "content": "  {",
                "line": 1516
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1517
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1518
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1519
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1520
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1521
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8,",
                "line": 1522
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1523
            }},
            {"new": {
                "content": "    };",
                "line": 1524
            }},
            {"new": {
                "content": "    EXPECT_TRUE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1525
            }},
            {"new": {
                "content": "  }",
                "line": 1526
            }},
            {"new": {
                "content": "  {",
                "line": 1527
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1528
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1529
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1530
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1531
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9, 10,",
                "line": 1532
            }},
            {"new": {
                "content": "      1, 2, 3, 4, 5, 6, 7, 8, 9,  // overflow",
                "line": 1533
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1534
            }},
            {"new": {
                "content": "    };",
                "line": 1535
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1536
            }},
            {"new": {
                "content": "  }",
                "line": 1537
            }},
            {"new": {
                "content": "}",
                "line": 1538
            }},
            {"new": {
                "content": "",
                "line": 1539
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestDeprecatedOperators) {",
                "line": 1540
            }},
            {"new": {
                "content": "  {",
                "line": 1541
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1542
            }},
            {"new": {
                "content": "      kOpPrefix, 16,  // 'blend'.",
                "line": 1543
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1544
            }},
            {"new": {
                "content": "    };",
                "line": 1545
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1546
            }},
            {"new": {
                "content": "  }",
                "line": 1547
            }},
            {"new": {
                "content": "  {",
                "line": 1548
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1549
            }},
            {"new": {
                "content": "      kOpPrefix, (12 << 8) + 8,  // 'store'.",
                "line": 1550
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1551
            }},
            {"new": {
                "content": "    };",
                "line": 1552
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1553
            }},
            {"new": {
                "content": "  }",
                "line": 1554
            }},
            {"new": {
                "content": "  {",
                "line": 1555
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1556
            }},
            {"new": {
                "content": "      kOpPrefix, (12 << 8) + 13,  // 'load'.",
                "line": 1557
            }},
            {"new": {
                "content": "      kOpPrefix, ots::kEndChar,",
                "line": 1558
            }},
            {"new": {
                "content": "    };",
                "line": 1559
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1560
            }},
            {"new": {
                "content": "  }",
                "line": 1561
            }},
            {"new": {
                "content": "}",
                "line": 1562
            }},
            {"new": {
                "content": "",
                "line": 1563
            }},
            {"new": {
                "content": "TEST(ValidateTest, TestUnterminatedCharString) {",
                "line": 1564
            }},
            {"new": {
                "content": "  // No endchar operator.",
                "line": 1565
            }},
            {"new": {
                "content": "  {",
                "line": 1566
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1567
            }},
            {"new": {
                "content": "      123,",
                "line": 1568
            }},
            {"new": {
                "content": "    };",
                "line": 1569
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1570
            }},
            {"new": {
                "content": "  }",
                "line": 1571
            }},
            {"new": {
                "content": "  {",
                "line": 1572
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1573
            }},
            {"new": {
                "content": "      123, 456,",
                "line": 1574
            }},
            {"new": {
                "content": "    };",
                "line": 1575
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1576
            }},
            {"new": {
                "content": "  }",
                "line": 1577
            }},
            {"new": {
                "content": "  {",
                "line": 1578
            }},
            {"new": {
                "content": "    const int char_string[] = {",
                "line": 1579
            }},
            {"new": {
                "content": "      123, 456, kOpPrefix, ots::kReturn,",
                "line": 1580
            }},
            {"new": {
                "content": "    };",
                "line": 1581
            }},
            {"new": {
                "content": "    EXPECT_FALSE(ValidateCharStrings(char_string, ARRAYSIZE(char_string)));",
                "line": 1582
            }},
            {"new": {
                "content": "  }",
                "line": 1583
            }},
            {"new": {
                "content": "}",
                "line": 1584
            }}
        ],
        "new": {"name": "/gfx/ots/tests/cff_type2_charstring_test.cc"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "// Copyright (c) 2011 The Chromium Authors. All rights reserved.",
                "line": 0
            }},
            {"new": {
                "content": "// Use of this source code is governed by a BSD-style license that can be",
                "line": 1
            }},
            {"new": {
                "content": "// found in the LICENSE file.",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "#include <cmath>",
                "line": 4
            }},
            {"new": {
                "content": "#include <vector>",
                "line": 5
            }},
            {"new": {
                "content": "#include <gtest/gtest.h>",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "#include \"layout.h\"",
                "line": 8
            }},
            {"new": {
                "content": "#include \"ots-memory-stream.h\"",
                "line": 9
            }},
            {"new": {
                "content": "",
                "line": 10
            }},
            {"new": {
                "content": "namespace {",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "const uint32_t kFakeTag = 0x00000000;",
                "line": 13
            }},
            {"new": {
                "content": "const size_t kScriptRecordSize = 6;",
                "line": 14
            }},
            {"new": {
                "content": "const size_t kLangSysRecordSize = 6;",
                "line": 15
            }},
            {"new": {
                "content": "",
                "line": 16
            }},
            {"new": {
                "content": "bool BuildFakeScriptListTable(ots::OTSStream *out, const uint16_t script_count,",
                "line": 17
            }},
            {"new": {
                "content": "                              const uint16_t langsys_count,",
                "line": 18
            }},
            {"new": {
                "content": "                              const uint16_t feature_count) {",
                "line": 19
            }},
            {"new": {
                "content": "  if (!out->WriteU16(script_count)) {",
                "line": 20
            }},
            {"new": {
                "content": "    return false;",
                "line": 21
            }},
            {"new": {
                "content": "  }",
                "line": 22
            }},
            {"new": {
                "content": "  const off_t script_record_end = out->Tell() +",
                "line": 23
            }},
            {"new": {
                "content": "      kScriptRecordSize * script_count;",
                "line": 24
            }},
            {"new": {
                "content": "  const size_t script_table_size = 4 + kLangSysRecordSize * langsys_count;",
                "line": 25
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < script_count; ++i) {",
                "line": 26
            }},
            {"new": {
                "content": "    if (!out->WriteU32(kFakeTag) ||",
                "line": 27
            }},
            {"new": {
                "content": "        !out->WriteU16(script_record_end + i * script_table_size)) {",
                "line": 28
            }},
            {"new": {
                "content": "      return false;",
                "line": 29
            }},
            {"new": {
                "content": "    }",
                "line": 30
            }},
            {"new": {
                "content": "  }",
                "line": 31
            }},
            {"new": {
                "content": "",
                "line": 32
            }},
            {"new": {
                "content": "  // Offsets to LangSys tables are measured from the beginning of each",
                "line": 33
            }},
            {"new": {
                "content": "  // script table.",
                "line": 34
            }},
            {"new": {
                "content": "  const off_t langsys_record_end = 4 + kLangSysRecordSize * langsys_count;",
                "line": 35
            }},
            {"new": {
                "content": "  const size_t langsys_table_size = 6 + 2 * feature_count;",
                "line": 36
            }},
            {"new": {
                "content": "  // Write Fake Script tables.",
                "line": 37
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < script_count; ++i) {",
                "line": 38
            }},
            {"new": {
                "content": "    if (!out->WriteU16(0x0000) ||",
                "line": 39
            }},
            {"new": {
                "content": "        !out->WriteU16(langsys_count)) {",
                "line": 40
            }},
            {"new": {
                "content": "      return false;",
                "line": 41
            }},
            {"new": {
                "content": "    }",
                "line": 42
            }},
            {"new": {
                "content": "    for (unsigned j = 0; j < langsys_count; ++j) {",
                "line": 43
            }},
            {"new": {
                "content": "      if (!out->WriteU32(kFakeTag) ||",
                "line": 44
            }},
            {"new": {
                "content": "          !out->WriteU16(langsys_record_end + j * langsys_table_size)) {",
                "line": 45
            }},
            {"new": {
                "content": "        return false;",
                "line": 46
            }},
            {"new": {
                "content": "      }",
                "line": 47
            }},
            {"new": {
                "content": "    }",
                "line": 48
            }},
            {"new": {
                "content": "  }",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "  // Write Fake LangSys tables.",
                "line": 51
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < langsys_count; ++i) {",
                "line": 52
            }},
            {"new": {
                "content": "    if (!out->WriteU16(0x0000) ||",
                "line": 53
            }},
            {"new": {
                "content": "        !out->WriteU16(0xFFFF) ||",
                "line": 54
            }},
            {"new": {
                "content": "        !out->WriteU16(feature_count)) {",
                "line": 55
            }},
            {"new": {
                "content": "      return false;",
                "line": 56
            }},
            {"new": {
                "content": "    }",
                "line": 57
            }},
            {"new": {
                "content": "    for (unsigned j = 0; j < feature_count; ++j) {",
                "line": 58
            }},
            {"new": {
                "content": "      if (!out->WriteU16(j)) {",
                "line": 59
            }},
            {"new": {
                "content": "        return false;",
                "line": 60
            }},
            {"new": {
                "content": "      }",
                "line": 61
            }},
            {"new": {
                "content": "    }",
                "line": 62
            }},
            {"new": {
                "content": "  }",
                "line": 63
            }},
            {"new": {
                "content": "  return true;",
                "line": 64
            }},
            {"new": {
                "content": "}",
                "line": 65
            }},
            {"new": {
                "content": "",
                "line": 66
            }},
            {"new": {
                "content": "const size_t kFeatureRecordSize = 6;",
                "line": 67
            }},
            {"new": {
                "content": "",
                "line": 68
            }},
            {"new": {
                "content": "bool BuildFakeFeatureListTable(ots::OTSStream *out,",
                "line": 69
            }},
            {"new": {
                "content": "                               const uint16_t feature_count,",
                "line": 70
            }},
            {"new": {
                "content": "                               const uint16_t lookup_count) {",
                "line": 71
            }},
            {"new": {
                "content": "  if (!out->WriteU16(feature_count)) {",
                "line": 72
            }},
            {"new": {
                "content": "    return false;",
                "line": 73
            }},
            {"new": {
                "content": "  }",
                "line": 74
            }},
            {"new": {
                "content": "  const off_t feature_record_end = out->Tell() +",
                "line": 75
            }},
            {"new": {
                "content": "      kFeatureRecordSize * feature_count;",
                "line": 76
            }},
            {"new": {
                "content": "  const size_t feature_table_size = 4 + 2 * lookup_count;",
                "line": 77
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < feature_count; ++i) {",
                "line": 78
            }},
            {"new": {
                "content": "    if (!out->WriteU32(kFakeTag) ||",
                "line": 79
            }},
            {"new": {
                "content": "        !out->WriteU16(feature_record_end + i * feature_table_size)) {",
                "line": 80
            }},
            {"new": {
                "content": "      return false;",
                "line": 81
            }},
            {"new": {
                "content": "    }",
                "line": 82
            }},
            {"new": {
                "content": "  }",
                "line": 83
            }},
            {"new": {
                "content": "",
                "line": 84
            }},
            {"new": {
                "content": "  // Write FeatureTable",
                "line": 85
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < feature_count; ++i) {",
                "line": 86
            }},
            {"new": {
                "content": "    if (!out->WriteU16(0x0000) ||",
                "line": 87
            }},
            {"new": {
                "content": "        !out->WriteU16(lookup_count)) {",
                "line": 88
            }},
            {"new": {
                "content": "      return false;",
                "line": 89
            }},
            {"new": {
                "content": "    }",
                "line": 90
            }},
            {"new": {
                "content": "    for (uint16_t j = 0; j < lookup_count; ++j) {",
                "line": 91
            }},
            {"new": {
                "content": "      if (!out->WriteU16(j)) {",
                "line": 92
            }},
            {"new": {
                "content": "        return false;",
                "line": 93
            }},
            {"new": {
                "content": "      }",
                "line": 94
            }},
            {"new": {
                "content": "    }",
                "line": 95
            }},
            {"new": {
                "content": "  }",
                "line": 96
            }},
            {"new": {
                "content": "  return true;",
                "line": 97
            }},
            {"new": {
                "content": "}",
                "line": 98
            }},
            {"new": {
                "content": "",
                "line": 99
            }},
            {"new": {
                "content": "bool BuildFakeLookupListTable(ots::OTSStream *out, const uint16_t lookup_count,",
                "line": 100
            }},
            {"new": {
                "content": "                              const uint16_t subtable_count) {",
                "line": 101
            }},
            {"new": {
                "content": "  if (!out->WriteU16(lookup_count)) {",
                "line": 102
            }},
            {"new": {
                "content": "    return false;",
                "line": 103
            }},
            {"new": {
                "content": "  }",
                "line": 104
            }},
            {"new": {
                "content": "  const off_t base_offset_lookup = out->Tell();",
                "line": 105
            }},
            {"new": {
                "content": "  if (!out->Pad(2 * lookup_count)) {",
                "line": 106
            }},
            {"new": {
                "content": "    return false;",
                "line": 107
            }},
            {"new": {
                "content": "  }",
                "line": 108
            }},
            {"new": {
                "content": "",
                "line": 109
            }},
            {"new": {
                "content": "  std::vector<off_t> offsets_lookup(lookup_count, 0);",
                "line": 110
            }},
            {"new": {
                "content": "  for (uint16_t i = 0; i < lookup_count; ++i) {",
                "line": 111
            }},
            {"new": {
                "content": "    offsets_lookup[i] = out->Tell();",
                "line": 112
            }},
            {"new": {
                "content": "    if (!out->WriteU16(i + 1) ||",
                "line": 113
            }},
            {"new": {
                "content": "        !out->WriteU16(0) ||",
                "line": 114
            }},
            {"new": {
                "content": "        !out->WriteU16(subtable_count) ||",
                "line": 115
            }},
            {"new": {
                "content": "        !out->Pad(2 * subtable_count) ||",
                "line": 116
            }},
            {"new": {
                "content": "        !out->WriteU16(0)) {",
                "line": 117
            }},
            {"new": {
                "content": "      return false;",
                "line": 118
            }},
            {"new": {
                "content": "    }",
                "line": 119
            }},
            {"new": {
                "content": "  }",
                "line": 120
            }},
            {"new": {
                "content": "",
                "line": 121
            }},
            {"new": {
                "content": "  const off_t offset_lookup_table_end = out->Tell();",
                "line": 122
            }},
            {"new": {
                "content": "  // Allocate 256 bytes for each subtable.",
                "line": 123
            }},
            {"new": {
                "content": "  if (!out->Pad(256 * lookup_count * subtable_count)) {",
                "line": 124
            }},
            {"new": {
                "content": "    return false;",
                "line": 125
            }},
            {"new": {
                "content": "  }",
                "line": 126
            }},
            {"new": {
                "content": "",
                "line": 127
            }},
            {"new": {
                "content": "  if (!out->Seek(base_offset_lookup)) {",
                "line": 128
            }},
            {"new": {
                "content": "    return false;",
                "line": 129
            }},
            {"new": {
                "content": "  }",
                "line": 130
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < lookup_count; ++i) {",
                "line": 131
            }},
            {"new": {
                "content": "    if (!out->WriteU16(offsets_lookup[i])) {",
                "line": 132
            }},
            {"new": {
                "content": "      return false;",
                "line": 133
            }},
            {"new": {
                "content": "    }",
                "line": 134
            }},
            {"new": {
                "content": "  }",
                "line": 135
            }},
            {"new": {
                "content": "",
                "line": 136
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < lookup_count; ++i) {",
                "line": 137
            }},
            {"new": {
                "content": "    if (!out->Seek(offsets_lookup[i] + 6)) {",
                "line": 138
            }},
            {"new": {
                "content": "      return false;",
                "line": 139
            }},
            {"new": {
                "content": "    }",
                "line": 140
            }},
            {"new": {
                "content": "    for (unsigned j = 0; j < subtable_count; ++j) {",
                "line": 141
            }},
            {"new": {
                "content": "      if (!out->WriteU16(offset_lookup_table_end +",
                "line": 142
            }},
            {"new": {
                "content": "                         256*i*subtable_count + 256*j)) {",
                "line": 143
            }},
            {"new": {
                "content": "        return false;",
                "line": 144
            }},
            {"new": {
                "content": "      }",
                "line": 145
            }},
            {"new": {
                "content": "    }",
                "line": 146
            }},
            {"new": {
                "content": "  }",
                "line": 147
            }},
            {"new": {
                "content": "  return true;",
                "line": 148
            }},
            {"new": {
                "content": "}",
                "line": 149
            }},
            {"new": {
                "content": "",
                "line": 150
            }},
            {"new": {
                "content": "bool BuildFakeCoverageFormat1(ots::OTSStream *out, const uint16_t glyph_count) {",
                "line": 151
            }},
            {"new": {
                "content": "  if (!out->WriteU16(1) || !out->WriteU16(glyph_count)) {",
                "line": 152
            }},
            {"new": {
                "content": "    return false;",
                "line": 153
            }},
            {"new": {
                "content": "  }",
                "line": 154
            }},
            {"new": {
                "content": "  for (uint16_t glyph_id = 1; glyph_id <= glyph_count; ++glyph_id) {",
                "line": 155
            }},
            {"new": {
                "content": "    if (!out->WriteU16(glyph_id)) {",
                "line": 156
            }},
            {"new": {
                "content": "      return false;",
                "line": 157
            }},
            {"new": {
                "content": "    }",
                "line": 158
            }},
            {"new": {
                "content": "  }",
                "line": 159
            }},
            {"new": {
                "content": "  return true;",
                "line": 160
            }},
            {"new": {
                "content": "}",
                "line": 161
            }},
            {"new": {
                "content": "",
                "line": 162
            }},
            {"new": {
                "content": "bool BuildFakeCoverageFormat2(ots::OTSStream *out, const uint16_t range_count) {",
                "line": 163
            }},
            {"new": {
                "content": "  if (!out->WriteU16(2) || !out->WriteU16(range_count)) {",
                "line": 164
            }},
            {"new": {
                "content": "    return false;",
                "line": 165
            }},
            {"new": {
                "content": "  }",
                "line": 166
            }},
            {"new": {
                "content": "  uint16_t glyph_id = 1;",
                "line": 167
            }},
            {"new": {
                "content": "  uint16_t start_coverage_index = 0;",
                "line": 168
            }},
            {"new": {
                "content": "  for (unsigned i = 0; i < range_count; ++i) {",
                "line": 169
            }},
            {"new": {
                "content": "    // Write consecutive ranges in which each range consists of two glyph id.",
                "line": 170
            }},
            {"new": {
                "content": "    if (!out->WriteU16(glyph_id) ||",
                "line": 171
            }},
            {"new": {
                "content": "        !out->WriteU16(glyph_id + 1) ||",
                "line": 172
            }},
            {"new": {
                "content": "        !out->WriteU16(start_coverage_index)) {",
                "line": 173
            }},
            {"new": {
                "content": "      return false;",
                "line": 174
            }},
            {"new": {
                "content": "    }",
                "line": 175
            }},
            {"new": {
                "content": "    glyph_id += 2;",
                "line": 176
            }},
            {"new": {
                "content": "    start_coverage_index += 2;",
                "line": 177
            }},
            {"new": {
                "content": "  }",
                "line": 178
            }},
            {"new": {
                "content": "  return true;",
                "line": 179
            }},
            {"new": {
                "content": "}",
                "line": 180
            }},
            {"new": {
                "content": "",
                "line": 181
            }},
            {"new": {
                "content": "bool BuildFakeClassDefFormat1(ots::OTSStream *out, const uint16_t glyph_count) {",
                "line": 182
            }},
            {"new": {
                "content": "  if (!out->WriteU16(1) ||",
                "line": 183
            }},
            {"new": {
                "content": "      !out->WriteU16(1) ||",
                "line": 184
            }},
            {"new": {
                "content": "      !out->WriteU16(glyph_count)) {",
                "line": 185
            }},
            {"new": {
                "content": "    return false;",
                "line": 186
            }},
            {"new": {
                "content": "  }",
                "line": 187
            }},
            {"new": {
                "content": "  for (uint16_t class_value = 1; class_value <= glyph_count; ++class_value) {",
                "line": 188
            }},
            {"new": {
                "content": "    if (!out->WriteU16(class_value)) {",
                "line": 189
            }},
            {"new": {
                "content": "      return false;",
                "line": 190
            }},
            {"new": {
                "content": "    }",
                "line": 191
            }},
            {"new": {
                "content": "  }",
                "line": 192
            }},
            {"new": {
                "content": "  return true;",
                "line": 193
            }},
            {"new": {
                "content": "}",
                "line": 194
            }},
            {"new": {
                "content": "",
                "line": 195
            }},
            {"new": {
                "content": "bool BuildFakeClassDefFormat2(ots::OTSStream *out, const uint16_t range_count) {",
                "line": 196
            }},
            {"new": {
                "content": "  if (!out->WriteU16(2) || !out->WriteU16(range_count)) {",
                "line": 197
            }},
            {"new": {
                "content": "    return false;",
                "line": 198
            }},
            {"new": {
                "content": "  }",
                "line": 199
            }},
            {"new": {
                "content": "  uint16_t glyph_id = 1;",
                "line": 200
            }},
            {"new": {
                "content": "  for (uint16_t class_value = 1; class_value <= range_count; ++class_value) {",
                "line": 201
            }},
            {"new": {
                "content": "    // Write consecutive ranges in which each range consists of one glyph id.",
                "line": 202
            }},
            {"new": {
                "content": "    if (!out->WriteU16(glyph_id) ||",
                "line": 203
            }},
            {"new": {
                "content": "        !out->WriteU16(glyph_id + 1) ||",
                "line": 204
            }},
            {"new": {
                "content": "        !out->WriteU16(class_value)) {",
                "line": 205
            }},
            {"new": {
                "content": "      return false;",
                "line": 206
            }},
            {"new": {
                "content": "    }",
                "line": 207
            }},
            {"new": {
                "content": "    glyph_id += 2;",
                "line": 208
            }},
            {"new": {
                "content": "  }",
                "line": 209
            }},
            {"new": {
                "content": "  return true;",
                "line": 210
            }},
            {"new": {
                "content": "}",
                "line": 211
            }},
            {"new": {
                "content": "",
                "line": 212
            }},
            {"new": {
                "content": "bool BuildFakeDeviceTable(ots::OTSStream *out, const uint16_t start_size,",
                "line": 213
            }},
            {"new": {
                "content": "                          const uint16_t end_size, const uint16_t format) {",
                "line": 214
            }},
            {"new": {
                "content": "  if (!out->WriteU16(start_size) ||",
                "line": 215
            }},
            {"new": {
                "content": "      !out->WriteU16(end_size) ||",
                "line": 216
            }},
            {"new": {
                "content": "      !out->WriteU16(format)) {",
                "line": 217
            }},
            {"new": {
                "content": "    return false;",
                "line": 218
            }},
            {"new": {
                "content": "  }",
                "line": 219
            }},
            {"new": {
                "content": "",
                "line": 220
            }},
            {"new": {
                "content": "  const unsigned num_values = std::abs(end_size - start_size) + 1;",
                "line": 221
            }},
            {"new": {
                "content": "  const unsigned num_bits = (1 << format) * num_values;",
                "line": 222
            }},
            {"new": {
                "content": "  const unsigned num_units = (num_bits - 1) / 16 + 1;",
                "line": 223
            }},
            {"new": {
                "content": "  if (!out->Pad(num_units * 2)) {",
                "line": 224
            }},
            {"new": {
                "content": "    return false;",
                "line": 225
            }},
            {"new": {
                "content": "  }",
                "line": 226
            }},
            {"new": {
                "content": "  return true;",
                "line": 227
            }},
            {"new": {
                "content": "}",
                "line": 228
            }},
            {"new": {
                "content": "",
                "line": 229
            }},
            {"new": {
                "content": "class TestStream : public ots::MemoryStream {",
                "line": 230
            }},
            {"new": {
                "content": " public:",
                "line": 231
            }},
            {"new": {
                "content": "  TestStream()",
                "line": 232
            }},
            {"new": {
                "content": "      : ots::MemoryStream(data_, sizeof(data_)), size_(0) {",
                "line": 233
            }},
            {"new": {
                "content": "    std::memset(reinterpret_cast<char*>(data_), 0, sizeof(data_));",
                "line": 234
            }},
            {"new": {
                "content": "  }",
                "line": 235
            }},
            {"new": {
                "content": "",
                "line": 236
            }},
            {"new": {
                "content": "  uint8_t* data() { return data_; }",
                "line": 237
            }},
            {"new": {
                "content": "  size_t size() const { return size_; }",
                "line": 238
            }},
            {"new": {
                "content": "",
                "line": 239
            }},
            {"new": {
                "content": "  virtual bool WriteRaw(const void *d, size_t length) {",
                "line": 240
            }},
            {"new": {
                "content": "    if (Tell() + length > size_) {",
                "line": 241
            }},
            {"new": {
                "content": "      size_ = Tell() + length;",
                "line": 242
            }},
            {"new": {
                "content": "    }",
                "line": 243
            }},
            {"new": {
                "content": "    return ots::MemoryStream::WriteRaw(d, length);",
                "line": 244
            }},
            {"new": {
                "content": "  }",
                "line": 245
            }},
            {"new": {
                "content": "",
                "line": 246
            }},
            {"new": {
                "content": " private:",
                "line": 247
            }},
            {"new": {
                "content": "  size_t size_;",
                "line": 248
            }},
            {"new": {
                "content": "  uint8_t data_[4096];",
                "line": 249
            }},
            {"new": {
                "content": "};",
                "line": 250
            }},
            {"new": {
                "content": "",
                "line": 251
            }},
            {"new": {
                "content": "class TableTest : public ::testing::Test {",
                "line": 252
            }},
            {"new": {
                "content": " protected:",
                "line": 253
            }},
            {"new": {
                "content": "",
                "line": 254
            }},
            {"new": {
                "content": "  virtual void SetUp() {",
                "line": 255
            }},
            {"new": {
                "content": "    ots::OpenTypeFile *file = new ots::OpenTypeFile();",
                "line": 256
            }},
            {"new": {
                "content": "    file->context = new ots::OTSContext();",
                "line": 257
            }},
            {"new": {
                "content": "    font = new ots::Font(file);",
                "line": 258
            }},
            {"new": {
                "content": "  }",
                "line": 259
            }},
            {"new": {
                "content": "",
                "line": 260
            }},
            {"new": {
                "content": "  TestStream out;",
                "line": 261
            }},
            {"new": {
                "content": "  ots::Font *font;",
                "line": 262
            }},
            {"new": {
                "content": "};",
                "line": 263
            }},
            {"new": {
                "content": "",
                "line": 264
            }},
            {"new": {
                "content": "class ScriptListTableTest : public TableTest { };",
                "line": 265
            }},
            {"new": {
                "content": "class DeviceTableTest : public TableTest { };",
                "line": 266
            }},
            {"new": {
                "content": "class CoverageTableTest : public TableTest { };",
                "line": 267
            }},
            {"new": {
                "content": "class CoverageFormat1Test : public TableTest { };",
                "line": 268
            }},
            {"new": {
                "content": "class CoverageFormat2Test : public TableTest { };",
                "line": 269
            }},
            {"new": {
                "content": "class ClassDefTableTest : public TableTest { };",
                "line": 270
            }},
            {"new": {
                "content": "class ClassDefFormat1Test : public TableTest { };",
                "line": 271
            }},
            {"new": {
                "content": "class ClassDefFormat2Test : public TableTest { };",
                "line": 272
            }},
            {"new": {
                "content": "class LookupSubtableParserTest : public TableTest { };",
                "line": 273
            }},
            {"new": {
                "content": "",
                "line": 274
            }},
            {"new": {
                "content": "class FeatureListTableTest : public TableTest {",
                "line": 275
            }},
            {"new": {
                "content": " protected:",
                "line": 276
            }},
            {"new": {
                "content": "",
                "line": 277
            }},
            {"new": {
                "content": "  virtual void SetUp() {",
                "line": 278
            }},
            {"new": {
                "content": "    TableTest::SetUp();",
                "line": 279
            }},
            {"new": {
                "content": "    num_features = 0;",
                "line": 280
            }},
            {"new": {
                "content": "  }",
                "line": 281
            }},
            {"new": {
                "content": "",
                "line": 282
            }},
            {"new": {
                "content": "  uint16_t num_features;",
                "line": 283
            }},
            {"new": {
                "content": "};",
                "line": 284
            }},
            {"new": {
                "content": "",
                "line": 285
            }},
            {"new": {
                "content": "bool fakeTypeParserReturnsTrue(const ots::Font*, const uint8_t *,",
                "line": 286
            }},
            {"new": {
                "content": "                               const size_t) {",
                "line": 287
            }},
            {"new": {
                "content": "  return true;",
                "line": 288
            }},
            {"new": {
                "content": "}",
                "line": 289
            }},
            {"new": {
                "content": "",
                "line": 290
            }},
            {"new": {
                "content": "bool fakeTypeParserReturnsFalse(const ots::Font*, const uint8_t *,",
                "line": 291
            }},
            {"new": {
                "content": "                                const size_t) {",
                "line": 292
            }},
            {"new": {
                "content": "  return false;",
                "line": 293
            }},
            {"new": {
                "content": "}",
                "line": 294
            }},
            {"new": {
                "content": "",
                "line": 295
            }},
            {"new": {
                "content": "const ots::LookupSubtableParser::TypeParser TypeParsersReturnTrue[] = {",
                "line": 296
            }},
            {"new": {
                "content": "  {1, fakeTypeParserReturnsTrue},",
                "line": 297
            }},
            {"new": {
                "content": "  {2, fakeTypeParserReturnsTrue},",
                "line": 298
            }},
            {"new": {
                "content": "  {3, fakeTypeParserReturnsTrue},",
                "line": 299
            }},
            {"new": {
                "content": "  {4, fakeTypeParserReturnsTrue},",
                "line": 300
            }},
            {"new": {
                "content": "  {5, fakeTypeParserReturnsTrue}",
                "line": 301
            }},
            {"new": {
                "content": "};",
                "line": 302
            }},
            {"new": {
                "content": "",
                "line": 303
            }},
            {"new": {
                "content": "// Fake lookup subtable parser which always returns true.",
                "line": 304
            }},
            {"new": {
                "content": "const ots::LookupSubtableParser FakeLookupParserReturnsTrue = {",
                "line": 305
            }},
            {"new": {
                "content": "  5, 5, TypeParsersReturnTrue,",
                "line": 306
            }},
            {"new": {
                "content": "};",
                "line": 307
            }},
            {"new": {
                "content": "",
                "line": 308
            }},
            {"new": {
                "content": "const ots::LookupSubtableParser::TypeParser TypeParsersReturnFalse[] = {",
                "line": 309
            }},
            {"new": {
                "content": "  {1, fakeTypeParserReturnsFalse}",
                "line": 310
            }},
            {"new": {
                "content": "};",
                "line": 311
            }},
            {"new": {
                "content": "",
                "line": 312
            }},
            {"new": {
                "content": "// Fake lookup subtable parser which always returns false.",
                "line": 313
            }},
            {"new": {
                "content": "const ots::LookupSubtableParser FakeLookupParserReturnsFalse = {",
                "line": 314
            }},
            {"new": {
                "content": "  1, 1, TypeParsersReturnFalse",
                "line": 315
            }},
            {"new": {
                "content": "};",
                "line": 316
            }},
            {"new": {
                "content": "",
                "line": 317
            }},
            {"new": {
                "content": "class LookupListTableTest : public TableTest {",
                "line": 318
            }},
            {"new": {
                "content": " protected:",
                "line": 319
            }},
            {"new": {
                "content": "",
                "line": 320
            }},
            {"new": {
                "content": "  virtual void SetUp() {",
                "line": 321
            }},
            {"new": {
                "content": "    TableTest::SetUp();",
                "line": 322
            }},
            {"new": {
                "content": "    num_lookups = 0;",
                "line": 323
            }},
            {"new": {
                "content": "  }",
                "line": 324
            }},
            {"new": {
                "content": "",
                "line": 325
            }},
            {"new": {
                "content": "  bool Parse() {",
                "line": 326
            }},
            {"new": {
                "content": "    return ots::ParseLookupListTable(font, out.data(), out.size(),",
                "line": 327
            }},
            {"new": {
                "content": "                                     &FakeLookupParserReturnsTrue,",
                "line": 328
            }},
            {"new": {
                "content": "                                     &num_lookups);",
                "line": 329
            }},
            {"new": {
                "content": "  }",
                "line": 330
            }},
            {"new": {
                "content": "",
                "line": 331
            }},
            {"new": {
                "content": "  uint16_t num_lookups;",
                "line": 332
            }},
            {"new": {
                "content": "};",
                "line": 333
            }},
            {"new": {
                "content": "",
                "line": 334
            }},
            {"new": {
                "content": "}  // namespace",
                "line": 335
            }},
            {"new": {
                "content": "",
                "line": 336
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestSuccess) {",
                "line": 337
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 338
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 339
            }},
            {"new": {
                "content": "}",
                "line": 340
            }},
            {"new": {
                "content": "",
                "line": 341
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestBadScriptCount) {",
                "line": 342
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 343
            }},
            {"new": {
                "content": "  // Set too large script count.",
                "line": 344
            }},
            {"new": {
                "content": "  out.Seek(0);",
                "line": 345
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 346
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 347
            }},
            {"new": {
                "content": "}",
                "line": 348
            }},
            {"new": {
                "content": "",
                "line": 349
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestScriptRecordOffsetUnderflow) {",
                "line": 350
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 351
            }},
            {"new": {
                "content": "  // Set bad offset to ScriptRecord[0].",
                "line": 352
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 353
            }},
            {"new": {
                "content": "  out.WriteU16(0);",
                "line": 354
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 355
            }},
            {"new": {
                "content": "}",
                "line": 356
            }},
            {"new": {
                "content": "",
                "line": 357
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestScriptRecordOffsetOverflow) {",
                "line": 358
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 359
            }},
            {"new": {
                "content": "  // Set bad offset to ScriptRecord[0].",
                "line": 360
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 361
            }},
            {"new": {
                "content": "  out.WriteU16(out.size());",
                "line": 362
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 363
            }},
            {"new": {
                "content": "}",
                "line": 364
            }},
            {"new": {
                "content": "",
                "line": 365
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestBadLangSysCount) {",
                "line": 366
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 367
            }},
            {"new": {
                "content": "  // Set too large langsys count.",
                "line": 368
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 369
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 370
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 371
            }},
            {"new": {
                "content": "}",
                "line": 372
            }},
            {"new": {
                "content": "",
                "line": 373
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestLangSysRecordOffsetUnderflow) {",
                "line": 374
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 375
            }},
            {"new": {
                "content": "  // Set bad offset to LangSysRecord[0].",
                "line": 376
            }},
            {"new": {
                "content": "  out.Seek(16);",
                "line": 377
            }},
            {"new": {
                "content": "  out.WriteU16(0);",
                "line": 378
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 379
            }},
            {"new": {
                "content": "}",
                "line": 380
            }},
            {"new": {
                "content": "",
                "line": 381
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestLangSysRecordOffsetOverflow) {",
                "line": 382
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 383
            }},
            {"new": {
                "content": "  // Set bad offset to LangSysRecord[0].",
                "line": 384
            }},
            {"new": {
                "content": "  out.Seek(16);",
                "line": 385
            }},
            {"new": {
                "content": "  out.WriteU16(out.size());",
                "line": 386
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 387
            }},
            {"new": {
                "content": "}",
                "line": 388
            }},
            {"new": {
                "content": "",
                "line": 389
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestBadReqFeatureIndex) {",
                "line": 390
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 391
            }},
            {"new": {
                "content": "  // Set too large feature index to ReqFeatureIndex of LangSysTable[0].",
                "line": 392
            }},
            {"new": {
                "content": "  out.Seek(20);",
                "line": 393
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 394
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 395
            }},
            {"new": {
                "content": "}",
                "line": 396
            }},
            {"new": {
                "content": "",
                "line": 397
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestBadFeatureCount) {",
                "line": 398
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 399
            }},
            {"new": {
                "content": "  // Set too large feature count to LangSysTable[0].",
                "line": 400
            }},
            {"new": {
                "content": "  out.Seek(22);",
                "line": 401
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 402
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 403
            }},
            {"new": {
                "content": "}",
                "line": 404
            }},
            {"new": {
                "content": "",
                "line": 405
            }},
            {"new": {
                "content": "TEST_F(ScriptListTableTest, TestBadFeatureIndex) {",
                "line": 406
            }},
            {"new": {
                "content": "  BuildFakeScriptListTable(&out, 1, 1, 1);",
                "line": 407
            }},
            {"new": {
                "content": "  // Set too large feature index to ReatureIndex[0] of LangSysTable[0].",
                "line": 408
            }},
            {"new": {
                "content": "  out.Seek(24);",
                "line": 409
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 410
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseScriptListTable(font, out.data(), out.size(), 1));",
                "line": 411
            }},
            {"new": {
                "content": "}",
                "line": 412
            }},
            {"new": {
                "content": "",
                "line": 413
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestSuccess) {",
                "line": 414
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 1, 1);",
                "line": 415
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 416
            }},
            {"new": {
                "content": "                                         &num_features));",
                "line": 417
            }},
            {"new": {
                "content": "  EXPECT_EQ(num_features, 1);",
                "line": 418
            }},
            {"new": {
                "content": "}",
                "line": 419
            }},
            {"new": {
                "content": "",
                "line": 420
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestSuccess2) {",
                "line": 421
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 5, 1);",
                "line": 422
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 423
            }},
            {"new": {
                "content": "                                         &num_features));",
                "line": 424
            }},
            {"new": {
                "content": "  EXPECT_EQ(num_features, 5);",
                "line": 425
            }},
            {"new": {
                "content": "}",
                "line": 426
            }},
            {"new": {
                "content": "",
                "line": 427
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestBadFeatureCount) {",
                "line": 428
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 1, 1);",
                "line": 429
            }},
            {"new": {
                "content": "  // Set too large feature count.",
                "line": 430
            }},
            {"new": {
                "content": "  out.Seek(0);",
                "line": 431
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 432
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 433
            }},
            {"new": {
                "content": "                                          &num_features));",
                "line": 434
            }},
            {"new": {
                "content": "}",
                "line": 435
            }},
            {"new": {
                "content": "",
                "line": 436
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestOffsetFeatureUnderflow) {",
                "line": 437
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 1, 1);",
                "line": 438
            }},
            {"new": {
                "content": "  // Set bad offset to FeatureRecord[0].",
                "line": 439
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 440
            }},
            {"new": {
                "content": "  out.WriteU16(0);",
                "line": 441
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 442
            }},
            {"new": {
                "content": "                                          &num_features));",
                "line": 443
            }},
            {"new": {
                "content": "}",
                "line": 444
            }},
            {"new": {
                "content": "",
                "line": 445
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestOffsetFeatureOverflow) {",
                "line": 446
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 1, 1);",
                "line": 447
            }},
            {"new": {
                "content": "  // Set bad offset to FeatureRecord[0].",
                "line": 448
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 449
            }},
            {"new": {
                "content": "  out.WriteU16(out.size());",
                "line": 450
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 451
            }},
            {"new": {
                "content": "                                          &num_features));",
                "line": 452
            }},
            {"new": {
                "content": "}",
                "line": 453
            }},
            {"new": {
                "content": "",
                "line": 454
            }},
            {"new": {
                "content": "TEST_F(FeatureListTableTest, TestBadLookupCount) {",
                "line": 455
            }},
            {"new": {
                "content": "  BuildFakeFeatureListTable(&out, 1, 1);",
                "line": 456
            }},
            {"new": {
                "content": "  // Set too large lookup count to FeatureTable[0].",
                "line": 457
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 458
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 459
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseFeatureListTable(font, out.data(), out.size(), 1,",
                "line": 460
            }},
            {"new": {
                "content": "                                          &num_features));",
                "line": 461
            }},
            {"new": {
                "content": "}",
                "line": 462
            }},
            {"new": {
                "content": "",
                "line": 463
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestSuccess) {",
                "line": 464
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 465
            }},
            {"new": {
                "content": "  EXPECT_TRUE(Parse());",
                "line": 466
            }},
            {"new": {
                "content": "  EXPECT_EQ(num_lookups, 1);",
                "line": 467
            }},
            {"new": {
                "content": "}",
                "line": 468
            }},
            {"new": {
                "content": "",
                "line": 469
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestSuccess2) {",
                "line": 470
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 5, 1);",
                "line": 471
            }},
            {"new": {
                "content": "  EXPECT_TRUE(Parse());",
                "line": 472
            }},
            {"new": {
                "content": "  EXPECT_EQ(num_lookups, 5);",
                "line": 473
            }},
            {"new": {
                "content": "}",
                "line": 474
            }},
            {"new": {
                "content": "",
                "line": 475
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestOffsetLookupTableUnderflow) {",
                "line": 476
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 477
            }},
            {"new": {
                "content": "  // Set bad offset to Lookup[0].",
                "line": 478
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 479
            }},
            {"new": {
                "content": "  out.WriteU16(0);",
                "line": 480
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 481
            }},
            {"new": {
                "content": "}",
                "line": 482
            }},
            {"new": {
                "content": "",
                "line": 483
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestOffsetLookupTableOverflow) {",
                "line": 484
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 485
            }},
            {"new": {
                "content": "  // Set bad offset to Lookup[0].",
                "line": 486
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 487
            }},
            {"new": {
                "content": "  out.WriteU16(out.size());",
                "line": 488
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 489
            }},
            {"new": {
                "content": "}",
                "line": 490
            }},
            {"new": {
                "content": "",
                "line": 491
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestOffsetSubtableUnderflow) {",
                "line": 492
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 493
            }},
            {"new": {
                "content": "  // Set bad offset to SubTable[0] of LookupTable[0].",
                "line": 494
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 495
            }},
            {"new": {
                "content": "  out.WriteU16(0);",
                "line": 496
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 497
            }},
            {"new": {
                "content": "}",
                "line": 498
            }},
            {"new": {
                "content": "",
                "line": 499
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TestOffsetSubtableOverflow) {",
                "line": 500
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 501
            }},
            {"new": {
                "content": "  // Set bad offset to SubTable[0] of LookupTable[0].",
                "line": 502
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 503
            }},
            {"new": {
                "content": "  out.WriteU16(out.size());",
                "line": 504
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 505
            }},
            {"new": {
                "content": "}",
                "line": 506
            }},
            {"new": {
                "content": "",
                "line": 507
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TesBadLookupCount) {",
                "line": 508
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 509
            }},
            {"new": {
                "content": "  // Set too large lookup count of LookupTable[0].",
                "line": 510
            }},
            {"new": {
                "content": "  out.Seek(0);",
                "line": 511
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 512
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 513
            }},
            {"new": {
                "content": "}",
                "line": 514
            }},
            {"new": {
                "content": "",
                "line": 515
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TesBadLookupType) {",
                "line": 516
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 517
            }},
            {"new": {
                "content": "  // Set too large lookup type of LookupTable[0].",
                "line": 518
            }},
            {"new": {
                "content": "  out.Seek(4);",
                "line": 519
            }},
            {"new": {
                "content": "  out.WriteU16(6);",
                "line": 520
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 521
            }},
            {"new": {
                "content": "}",
                "line": 522
            }},
            {"new": {
                "content": "",
                "line": 523
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TesBadLookupFlag) {",
                "line": 524
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 525
            }},
            {"new": {
                "content": "  // Set IgnoreBaseGlyphs(0x0002) to the lookup flag of LookupTable[0].",
                "line": 526
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 527
            }},
            {"new": {
                "content": "  out.WriteU16(0x0002);",
                "line": 528
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 529
            }},
            {"new": {
                "content": "}",
                "line": 530
            }},
            {"new": {
                "content": "",
                "line": 531
            }},
            {"new": {
                "content": "TEST_F(LookupListTableTest, TesBadSubtableCount) {",
                "line": 532
            }},
            {"new": {
                "content": "  BuildFakeLookupListTable(&out, 1, 1);",
                "line": 533
            }},
            {"new": {
                "content": "  // Set too large sutable count of LookupTable[0].",
                "line": 534
            }},
            {"new": {
                "content": "  out.Seek(8);",
                "line": 535
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 536
            }},
            {"new": {
                "content": "  EXPECT_FALSE(Parse());",
                "line": 537
            }},
            {"new": {
                "content": "}",
                "line": 538
            }},
            {"new": {
                "content": "",
                "line": 539
            }},
            {"new": {
                "content": "TEST_F(CoverageTableTest, TestSuccessFormat1) {",
                "line": 540
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat1(&out, 1);",
                "line": 541
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 542
            }},
            {"new": {
                "content": "}",
                "line": 543
            }},
            {"new": {
                "content": "",
                "line": 544
            }},
            {"new": {
                "content": "TEST_F(CoverageTableTest, TestSuccessFormat2) {",
                "line": 545
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat2(&out, 1);",
                "line": 546
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 547
            }},
            {"new": {
                "content": "}",
                "line": 548
            }},
            {"new": {
                "content": "",
                "line": 549
            }},
            {"new": {
                "content": "TEST_F(CoverageTableTest, TestBadFormat) {",
                "line": 550
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat1(&out, 1);",
                "line": 551
            }},
            {"new": {
                "content": "  // Set bad format.",
                "line": 552
            }},
            {"new": {
                "content": "  out.Seek(0);",
                "line": 553
            }},
            {"new": {
                "content": "  out.WriteU16(3);",
                "line": 554
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 555
            }},
            {"new": {
                "content": "}",
                "line": 556
            }},
            {"new": {
                "content": "",
                "line": 557
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat1Test, TestBadGlyphCount) {",
                "line": 558
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat1(&out, 1);",
                "line": 559
            }},
            {"new": {
                "content": "  // Set too large glyph count.",
                "line": 560
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 561
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 562
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 563
            }},
            {"new": {
                "content": "}",
                "line": 564
            }},
            {"new": {
                "content": "",
                "line": 565
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat1Test, TestBadGlyphId) {",
                "line": 566
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat1(&out, 1);",
                "line": 567
            }},
            {"new": {
                "content": "  // Set too large glyph id.",
                "line": 568
            }},
            {"new": {
                "content": "  out.Seek(4);",
                "line": 569
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 570
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 571
            }},
            {"new": {
                "content": "}",
                "line": 572
            }},
            {"new": {
                "content": "",
                "line": 573
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat2Test, TestBadRangeCount) {",
                "line": 574
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat2(&out, 1);",
                "line": 575
            }},
            {"new": {
                "content": "  // Set too large range count.",
                "line": 576
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 577
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 578
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 579
            }},
            {"new": {
                "content": "}",
                "line": 580
            }},
            {"new": {
                "content": "",
                "line": 581
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat2Test, TestBadRange) {",
                "line": 582
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat2(&out, 1);",
                "line": 583
            }},
            {"new": {
                "content": "  // Set reverse order glyph id to start/end fields.",
                "line": 584
            }},
            {"new": {
                "content": "  out.Seek(4);",
                "line": 585
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 586
            }},
            {"new": {
                "content": "  out.WriteU16(1);",
                "line": 587
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 1));",
                "line": 588
            }},
            {"new": {
                "content": "}",
                "line": 589
            }},
            {"new": {
                "content": "",
                "line": 590
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat2Test, TestRangeOverlap) {",
                "line": 591
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat2(&out, 2);",
                "line": 592
            }},
            {"new": {
                "content": "  // Set overlapping glyph id to an end field.",
                "line": 593
            }},
            {"new": {
                "content": "  out.Seek(12);",
                "line": 594
            }},
            {"new": {
                "content": "  out.WriteU16(1);",
                "line": 595
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 2));",
                "line": 596
            }},
            {"new": {
                "content": "}",
                "line": 597
            }},
            {"new": {
                "content": "",
                "line": 598
            }},
            {"new": {
                "content": "TEST_F(CoverageFormat2Test, TestRangeOverlap2) {",
                "line": 599
            }},
            {"new": {
                "content": "  BuildFakeCoverageFormat2(&out, 2);",
                "line": 600
            }},
            {"new": {
                "content": "  // Set overlapping range.",
                "line": 601
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 602
            }},
            {"new": {
                "content": "  out.WriteU16(1);",
                "line": 603
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 604
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseCoverageTable(font, out.data(), out.size(), 2));",
                "line": 605
            }},
            {"new": {
                "content": "}",
                "line": 606
            }},
            {"new": {
                "content": "",
                "line": 607
            }},
            {"new": {
                "content": "TEST_F(ClassDefTableTest, TestSuccessFormat1) {",
                "line": 608
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat1(&out, 1);",
                "line": 609
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 610
            }},
            {"new": {
                "content": "}",
                "line": 611
            }},
            {"new": {
                "content": "",
                "line": 612
            }},
            {"new": {
                "content": "TEST_F(ClassDefTableTest, TestSuccessFormat2) {",
                "line": 613
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat2(&out, 1);",
                "line": 614
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 615
            }},
            {"new": {
                "content": "}",
                "line": 616
            }},
            {"new": {
                "content": "",
                "line": 617
            }},
            {"new": {
                "content": "TEST_F(ClassDefTableTest, TestBadFormat) {",
                "line": 618
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat1(&out, 1);",
                "line": 619
            }},
            {"new": {
                "content": "  // Set bad format.",
                "line": 620
            }},
            {"new": {
                "content": "  out.Seek(0);",
                "line": 621
            }},
            {"new": {
                "content": "  out.WriteU16(3);",
                "line": 622
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 623
            }},
            {"new": {
                "content": "}",
                "line": 624
            }},
            {"new": {
                "content": "",
                "line": 625
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat1Test, TestBadStartGlyph) {",
                "line": 626
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat1(&out, 1);",
                "line": 627
            }},
            {"new": {
                "content": "  // Set too large start glyph id.",
                "line": 628
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 629
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 630
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 631
            }},
            {"new": {
                "content": "}",
                "line": 632
            }},
            {"new": {
                "content": "",
                "line": 633
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat1Test, TestBadGlyphCount) {",
                "line": 634
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat1(&out, 1);",
                "line": 635
            }},
            {"new": {
                "content": "  // Set too large glyph count.",
                "line": 636
            }},
            {"new": {
                "content": "  out.Seek(4);",
                "line": 637
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 638
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 639
            }},
            {"new": {
                "content": "}",
                "line": 640
            }},
            {"new": {
                "content": "",
                "line": 641
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat1Test, TestBadClassValue) {",
                "line": 642
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat1(&out, 1);",
                "line": 643
            }},
            {"new": {
                "content": "  // Set too large class value.",
                "line": 644
            }},
            {"new": {
                "content": "  out.Seek(6);",
                "line": 645
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 646
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 647
            }},
            {"new": {
                "content": "}",
                "line": 648
            }},
            {"new": {
                "content": "",
                "line": 649
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat2Test, TestBadRangeCount) {",
                "line": 650
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat2(&out, 1);",
                "line": 651
            }},
            {"new": {
                "content": "  // Set too large range count.",
                "line": 652
            }},
            {"new": {
                "content": "  out.Seek(2);",
                "line": 653
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 654
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 655
            }},
            {"new": {
                "content": "}",
                "line": 656
            }},
            {"new": {
                "content": "",
                "line": 657
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat2Test, TestRangeOverlap) {",
                "line": 658
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat2(&out, 2);",
                "line": 659
            }},
            {"new": {
                "content": "  // Set overlapping glyph id to an end field.",
                "line": 660
            }},
            {"new": {
                "content": "  out.Seek(12);",
                "line": 661
            }},
            {"new": {
                "content": "  out.WriteU16(1);",
                "line": 662
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 663
            }},
            {"new": {
                "content": "}",
                "line": 664
            }},
            {"new": {
                "content": "",
                "line": 665
            }},
            {"new": {
                "content": "TEST_F(ClassDefFormat2Test, TestRangeOverlap2) {",
                "line": 666
            }},
            {"new": {
                "content": "  BuildFakeClassDefFormat2(&out, 2);",
                "line": 667
            }},
            {"new": {
                "content": "  // Set overlapping range.",
                "line": 668
            }},
            {"new": {
                "content": "  out.Seek(10);",
                "line": 669
            }},
            {"new": {
                "content": "  out.WriteU16(1);",
                "line": 670
            }},
            {"new": {
                "content": "  out.WriteU16(2);",
                "line": 671
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseClassDefTable(font, out.data(), out.size(), 1, 1));",
                "line": 672
            }},
            {"new": {
                "content": "}",
                "line": 673
            }},
            {"new": {
                "content": "",
                "line": 674
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat1Success) {",
                "line": 675
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 1);",
                "line": 676
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 677
            }},
            {"new": {
                "content": "}",
                "line": 678
            }},
            {"new": {
                "content": "",
                "line": 679
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat1Success2) {",
                "line": 680
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 9, 1);",
                "line": 681
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 682
            }},
            {"new": {
                "content": "}",
                "line": 683
            }},
            {"new": {
                "content": "",
                "line": 684
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat1Fail) {",
                "line": 685
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 686
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 1);",
                "line": 687
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 688
            }},
            {"new": {
                "content": "}",
                "line": 689
            }},
            {"new": {
                "content": "",
                "line": 690
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat1Fail2) {",
                "line": 691
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 692
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 9, 1);",
                "line": 693
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 694
            }},
            {"new": {
                "content": "}",
                "line": 695
            }},
            {"new": {
                "content": "",
                "line": 696
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat2Success) {",
                "line": 697
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 1, 2);",
                "line": 698
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 699
            }},
            {"new": {
                "content": "}",
                "line": 700
            }},
            {"new": {
                "content": "",
                "line": 701
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat2Success2) {",
                "line": 702
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 2);",
                "line": 703
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 704
            }},
            {"new": {
                "content": "}",
                "line": 705
            }},
            {"new": {
                "content": "",
                "line": 706
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat2Fail) {",
                "line": 707
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 708
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 2);",
                "line": 709
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 710
            }},
            {"new": {
                "content": "}",
                "line": 711
            }},
            {"new": {
                "content": "",
                "line": 712
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat2Fail2) {",
                "line": 713
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 714
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 9, 2);",
                "line": 715
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 716
            }},
            {"new": {
                "content": "}",
                "line": 717
            }},
            {"new": {
                "content": "",
                "line": 718
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat3Success) {",
                "line": 719
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 1, 3);",
                "line": 720
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 721
            }},
            {"new": {
                "content": "}",
                "line": 722
            }},
            {"new": {
                "content": "",
                "line": 723
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat3Success2) {",
                "line": 724
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 3);",
                "line": 725
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ParseDeviceTable(font, out.data(), out.size()));",
                "line": 726
            }},
            {"new": {
                "content": "}",
                "line": 727
            }},
            {"new": {
                "content": "",
                "line": 728
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat3Fail) {",
                "line": 729
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 730
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 8, 3);",
                "line": 731
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 732
            }},
            {"new": {
                "content": "}",
                "line": 733
            }},
            {"new": {
                "content": "",
                "line": 734
            }},
            {"new": {
                "content": "TEST_F(DeviceTableTest, TestDeltaFormat3Fail2) {",
                "line": 735
            }},
            {"new": {
                "content": "  // Pass shorter length than expected.",
                "line": 736
            }},
            {"new": {
                "content": "  BuildFakeDeviceTable(&out, 1, 9, 3);",
                "line": 737
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ParseDeviceTable(font, out.data(), out.size() - 1));",
                "line": 738
            }},
            {"new": {
                "content": "}",
                "line": 739
            }},
            {"new": {
                "content": "",
                "line": 740
            }},
            {"new": {
                "content": "TEST_F(LookupSubtableParserTest, TestSuccess) {",
                "line": 741
            }},
            {"new": {
                "content": "  {",
                "line": 742
            }},
            {"new": {
                "content": "    EXPECT_TRUE(FakeLookupParserReturnsTrue.Parse(font, 0, 0, 1));",
                "line": 743
            }},
            {"new": {
                "content": "  }",
                "line": 744
            }},
            {"new": {
                "content": "  {",
                "line": 745
            }},
            {"new": {
                "content": "    EXPECT_TRUE(FakeLookupParserReturnsTrue.Parse(font, 0, 0, 5));",
                "line": 746
            }},
            {"new": {
                "content": "  }",
                "line": 747
            }},
            {"new": {
                "content": "}",
                "line": 748
            }},
            {"new": {
                "content": "",
                "line": 749
            }},
            {"new": {
                "content": "TEST_F(LookupSubtableParserTest, TestFail) {",
                "line": 750
            }},
            {"new": {
                "content": "  {",
                "line": 751
            }},
            {"new": {
                "content": "    // Pass bad lookup type which less than the smallest type.",
                "line": 752
            }},
            {"new": {
                "content": "    EXPECT_FALSE(FakeLookupParserReturnsTrue.Parse(font, 0, 0, 0));",
                "line": 753
            }},
            {"new": {
                "content": "  }",
                "line": 754
            }},
            {"new": {
                "content": "  {",
                "line": 755
            }},
            {"new": {
                "content": "    // Pass bad lookup type which greater than the maximum type.",
                "line": 756
            }},
            {"new": {
                "content": "    EXPECT_FALSE(FakeLookupParserReturnsTrue.Parse(font, 0, 0, 6));",
                "line": 757
            }},
            {"new": {
                "content": "  }",
                "line": 758
            }},
            {"new": {
                "content": "  {",
                "line": 759
            }},
            {"new": {
                "content": "    // Check the type parser failure.",
                "line": 760
            }},
            {"new": {
                "content": "    EXPECT_FALSE(FakeLookupParserReturnsFalse.Parse(font, 0, 0, 1));",
                "line": 761
            }},
            {"new": {
                "content": "  }",
                "line": 762
            }},
            {"new": {
                "content": "}",
                "line": 763
            }}
        ],
        "new": {"name": "/gfx/ots/tests/layout_common_table_test.cc"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "// Copyright (c) 2011 The Chromium Authors. All rights reserved.",
                "line": 0
            }},
            {"new": {
                "content": "// Use of this source code is governed by a BSD-style license that can be",
                "line": 1
            }},
            {"new": {
                "content": "// found in the LICENSE file.",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "#include <gtest/gtest.h>",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "#include \"gsub.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"ots.h\"",
                "line": 7
            }},
            {"new": {
                "content": "#include \"ots-memory-stream.h\"",
                "line": 8
            }},
            {"new": {
                "content": "#include \"vhea.h\"",
                "line": 9
            }},
            {"new": {
                "content": "#include \"vmtx.h\"",
                "line": 10
            }},
            {"new": {
                "content": "",
                "line": 11
            }},
            {"new": {
                "content": "#define SET_TABLE(name, capname) \\",
                "line": 12
            }},
            {"new": {
                "content": "  do { font->name = new ots::OpenType##capname; } while (0)",
                "line": 13
            }},
            {"new": {
                "content": "#define SET_LAYOUT_TABLE(name, capname)                    \\",
                "line": 14
            }},
            {"new": {
                "content": "  do {                                                     \\",
                "line": 15
            }},
            {"new": {
                "content": "    if (!font->name) {                                      \\",
                "line": 16
            }},
            {"new": {
                "content": "      SET_TABLE(name, capname);                            \\",
                "line": 17
            }},
            {"new": {
                "content": "    }                                                      \\",
                "line": 18
            }},
            {"new": {
                "content": "    font->name->data = reinterpret_cast<const uint8_t*>(1); \\",
                "line": 19
            }},
            {"new": {
                "content": "    font->name->length = 1;                                 \\",
                "line": 20
            }},
            {"new": {
                "content": "  } while (0)",
                "line": 21
            }},
            {"new": {
                "content": "#define DROP_TABLE(name) \\",
                "line": 22
            }},
            {"new": {
                "content": "  do { delete font->name; font->name = NULL; } while (0)",
                "line": 23
            }},
            {"new": {
                "content": "#define DROP_LAYOUT_TABLE(name) \\",
                "line": 24
            }},
            {"new": {
                "content": "  do { font->name->data = NULL; font->name->length = 0; } while (0)",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "namespace {",
                "line": 27
            }},
            {"new": {
                "content": "",
                "line": 28
            }},
            {"new": {
                "content": "class TableDependenciesTest : public ::testing::Test {",
                "line": 29
            }},
            {"new": {
                "content": " protected:",
                "line": 30
            }},
            {"new": {
                "content": "  virtual void SetUp() {",
                "line": 31
            }},
            {"new": {
                "content": "    font = new ots::Font(new ots::OpenTypeFile);",
                "line": 32
            }},
            {"new": {
                "content": "    SET_LAYOUT_TABLE(gsub, GSUB);",
                "line": 33
            }},
            {"new": {
                "content": "    SET_TABLE(vhea, VHEA);",
                "line": 34
            }},
            {"new": {
                "content": "    SET_TABLE(vmtx, VMTX);",
                "line": 35
            }},
            {"new": {
                "content": "  }",
                "line": 36
            }},
            {"new": {
                "content": "",
                "line": 37
            }},
            {"new": {
                "content": "  virtual void TearDown() {",
                "line": 38
            }},
            {"new": {
                "content": "    DROP_TABLE(gsub);",
                "line": 39
            }},
            {"new": {
                "content": "    DROP_TABLE(vhea);",
                "line": 40
            }},
            {"new": {
                "content": "    DROP_TABLE(vmtx);",
                "line": 41
            }},
            {"new": {
                "content": "  }",
                "line": 42
            }},
            {"new": {
                "content": "  ots::Font *font;",
                "line": 43
            }},
            {"new": {
                "content": "};",
                "line": 44
            }},
            {"new": {
                "content": "}  // namespace",
                "line": 45
            }},
            {"new": {
                "content": "",
                "line": 46
            }},
            {"new": {
                "content": "TEST_F(TableDependenciesTest, TestVhea) {",
                "line": 47
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ots_vhea_should_serialise(font));",
                "line": 48
            }},
            {"new": {
                "content": "}",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "TEST_F(TableDependenciesTest, TestVmtx) {",
                "line": 51
            }},
            {"new": {
                "content": "  EXPECT_TRUE(ots::ots_vmtx_should_serialise(font));",
                "line": 52
            }},
            {"new": {
                "content": "}",
                "line": 53
            }},
            {"new": {
                "content": "",
                "line": 54
            }},
            {"new": {
                "content": "TEST_F(TableDependenciesTest, TestVheaVmtx) {",
                "line": 55
            }},
            {"new": {
                "content": "  DROP_TABLE(vmtx);",
                "line": 56
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ots_vhea_should_serialise(font));",
                "line": 57
            }},
            {"new": {
                "content": "}",
                "line": 58
            }},
            {"new": {
                "content": "",
                "line": 59
            }},
            {"new": {
                "content": "TEST_F(TableDependenciesTest, TestVmtxVhea) {",
                "line": 60
            }},
            {"new": {
                "content": "  DROP_TABLE(vhea);",
                "line": 61
            }},
            {"new": {
                "content": "  EXPECT_FALSE(ots::ots_vmtx_should_serialise(font));",
                "line": 62
            }},
            {"new": {
                "content": "}",
                "line": 63
            }},
            {"new": {
                "content": "",
                "line": 64
            }}
        ],
        "new": {"name": "/gfx/ots/tests/table_dependencies_test.cc"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"ScopedGfxFeatureReporter::RegisterObserverRunnable\",",
                "line": 111
            }},
            {"old": {
                "content": "                          TaskCategory::Other, r.forget());",
                "line": 112
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 111
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"ScopedGfxFeatureReporter::AppendAppNotesRunnable\",",
                "line": 133
            }},
            {"old": {
                "content": "                          TaskCategory::Other, r.forget());",
                "line": 134
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 132
            }}
        ],
        "new": {"name": "/gfx/src/gfxCrashReporterUtils.cpp"},
        "old": {"name": "/gfx/src/gfxCrashReporterUtils.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 0
            }}
        ],
        "new": {"name": "/gfx/tests/crashtests/1308394.html"},
        "old": {"name": "/gfx/tests/crashtests/1308394.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 0
            }}
        ],
        "new": {"name": "/gfx/tests/crashtests/665218.html"},
        "old": {"name": "/gfx/tests/crashtests/665218.html"}
    },
    {
        "changes": [
            {"new": {
                "content": "# not UNIFIED_SOURCES because layout_common_table_test.cc has classes",
                "line": 40
            }},
            {"new": {
                "content": "# in an anonymous namespace which result in a GCC error when used in",
                "line": 41
            }},
            {"new": {
                "content": "# tests (e g. \"error: 'ScriptListTableTest_TestSuccess_Test' has a field",
                "line": 42
            }},
            {"new": {
                "content": "# 'ScriptListTableTest_TestSuccess_Test::<anonymous>' whose type uses",
                "line": 43
            }},
            {"new": {
                "content": "# the anonymous namespace\").",
                "line": 44
            }},
            {"new": {
                "content": "SOURCES += [ '/gfx/ots/tests/%s' % p for p in [",
                "line": 45
            }},
            {"new": {
                "content": "    'cff_type2_charstring_test.cc',",
                "line": 46
            }},
            {"new": {
                "content": "    'layout_common_table_test.cc',",
                "line": 47
            }},
            {"new": {
                "content": "    'table_dependencies_test.cc',",
                "line": 48
            }},
            {"new": {
                "content": "]]",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "    '/gfx/ots/src',",
                "line": 57
            }}
        ],
        "new": {"name": "/gfx/tests/gtest/moz.build"},
        "old": {"name": "/gfx/tests/gtest/moz.build"}
    },
    {
        "changes": [
            {"new": {
                "content": "      D3D11_INFO_QUEUE_FILTER filter;",
                "line": 439
            }},
            {"new": {
                "content": "      PodZero(&filter);",
                "line": 440
            }},
            {"new": {
                "content": "",
                "line": 441
            }},
            {"new": {
                "content": "      // Disable warnings caused by Advanced Layers that are known and not problematic.",
                "line": 442
            }},
            {"new": {
                "content": "      D3D11_MESSAGE_ID blockIDs[] = {",
                "line": 443
            }},
            {"new": {
                "content": "        D3D11_MESSAGE_ID_DEVICE_DRAW_CONSTANT_BUFFER_TOO_SMALL",
                "line": 444
            }},
            {"new": {
                "content": "      };",
                "line": 445
            }},
            {"new": {
                "content": "      filter.DenyList.NumIDs = MOZ_ARRAY_LENGTH(blockIDs);",
                "line": 446
            }},
            {"new": {
                "content": "      filter.DenyList.pIDList = blockIDs;",
                "line": 447
            }},
            {"new": {
                "content": "      infoQueue->PushStorageFilter(&filter);",
                "line": 448
            }},
            {"new": {
                "content": "",
                "line": 449
            }}
        ],
        "new": {"name": "/gfx/thebes/DeviceManagerDx.cpp"},
        "old": {"name": "/gfx/thebes/DeviceManagerDx.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "gfxUtils::ClampToScaleFactor(gfxFloat aVal)",
                "line": 653
            }},
            {"new": {
                "content": "gfxUtils::ClampToScaleFactor(gfxFloat aVal, bool aRoundDown)",
                "line": 653
            }},
            {"old": {
                "content": "  } else if (inverse) {",
                "line": 678
            }},
            {"new": {
                "content": "  // Use floor when we are either inverted or rounding down, but",
                "line": 678
            }},
            {"new": {
                "content": "  // not both.",
                "line": 679
            }},
            {"new": {
                "content": "  } else if (inverse != aRoundDown) {",
                "line": 680
            }},
            {"new": {
                "content": "  // Otherwise, ceil when we are not inverted and not rounding",
                "line": 682
            }},
            {"new": {
                "content": "  // down, or we are inverted and rounding down.",
                "line": 683
            }}
        ],
        "new": {"name": "/gfx/thebes/gfxUtils.cpp"},
        "old": {"name": "/gfx/thebes/gfxUtils.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "     * aVal.",
                "line": 147
            }},
            {"new": {
                "content": "     * aVal. If aRoundDown is specified, the power of 2 will rather be less than",
                "line": 147
            }},
            {"new": {
                "content": "     * or equal to aVal.",
                "line": 148
            }},
            {"old": {
                "content": "    static gfxFloat ClampToScaleFactor(gfxFloat aVal);",
                "line": 149
            }},
            {"new": {
                "content": "    static gfxFloat ClampToScaleFactor(gfxFloat aVal, bool aRoundDown = false);",
                "line": 150
            }}
        ],
        "new": {"name": "/gfx/thebes/gfxUtils.h"},
        "old": {"name": "/gfx/thebes/gfxUtils.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "  // The difference between a OBJREF_STANDARD and an OBJREF_HANDLER is",
                "line": 242
            }},
            {"new": {
                "content": "  // sizeof(CLSID), so we'll zero out the remaining bytes.",
                "line": 243
            }},
            {"new": {
                "content": "  CLSID zeroClsid = {0};",
                "line": 244
            }},
            {"new": {
                "content": "  hr = aStream->Write(&zeroClsid, sizeof(CLSID), &bytesWritten);",
                "line": 245
            }},
            {"new": {
                "content": "  if (FAILED(hr) || bytesWritten != sizeof(CLSID)) {",
                "line": 246
            }},
            {"new": {
                "content": "    return false;",
                "line": 247
            }},
            {"new": {
                "content": "  }",
                "line": 248
            }},
            {"new": {
                "content": "",
                "line": 249
            }}
        ],
        "new": {"name": "/ipc/mscom/Objref.cpp"},
        "old": {"name": "/ipc/mscom/Objref.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"mscom::MainThreadRelease\",",
                "line": 44
            }},
            {"old": {
                "content": "                            TaskCategory::Other,",
                "line": 45
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 44
            }}
        ],
        "new": {"name": "/ipc/mscom/Ptr.h"},
        "old": {"name": "/ipc/mscom/Ptr.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 142
            }},
            {"new": {
                "content": "#if defined(MOZ_MSCOM_REMARSHAL_NO_HANDLER)",
                "line": 143
            }},
            {"new": {
                "content": "  return hr;",
                "line": 144
            }},
            {"new": {
                "content": "#else",
                "line": 145
            }},
            {"new": {
                "content": "#endif // defined(MOZ_MSCOM_REMARSHAL_NO_HANDLER)",
                "line": 159
            }},
            {"old": {
                "content": "  hr = ReadHandlerPayload(pStm, unmarshalAs);",
                "line": 236
            }},
            {"old": {
                "content": "",
                "line": 237
            }},
            {"old": {
                "content": "  mHasPayload |= (hr == S_OK);",
                "line": 243
            }},
            {"new": {
                "content": "  mHasPayload |= (ReadHandlerPayload(pStm, unmarshalAs) == S_OK);",
                "line": 246
            }},
            {"old": {
                "content": "  // hr may be S_FALSE, but we don't want to return that",
                "line": 244
            }},
            {"old": {
                "content": "  return SUCCEEDED(hr) ? S_OK : hr;",
                "line": 245
            }},
            {"new": {
                "content": "  return hr;",
                "line": 247
            }}
        ],
        "new": {"name": "/ipc/mscom/oop/Handler.cpp"},
        "old": {"name": "/ipc/mscom/oop/Handler.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": " * Assert if an allocation of a GC thing occurs while this class is live. This",
                "line": 532
            }},
            {"old": {
                "content": " * class does not disable the static rooting hazard analysis.",
                "line": 533
            }},
            {"old": {
                "content": " */",
                "line": 534
            }},
            {"old": {
                "content": "class JS_PUBLIC_API(AutoAssertNoAlloc)",
                "line": 535
            }},
            {"old": {
                "content": "{",
                "line": 536
            }},
            {"old": {
                "content": "#ifdef JS_DEBUG",
                "line": 537
            }},
            {"old": {
                "content": "    js::gc::GCRuntime* gc;",
                "line": 538
            }},
            {"old": {
                "content": "",
                "line": 539
            }},
            {"old": {
                "content": "  public:",
                "line": 540
            }},
            {"old": {
                "content": "    AutoAssertNoAlloc() : gc(nullptr) {}",
                "line": 541
            }},
            {"old": {
                "content": "    explicit AutoAssertNoAlloc(JSContext* cx);",
                "line": 542
            }},
            {"old": {
                "content": "    void disallowAlloc(JSRuntime* rt);",
                "line": 543
            }},
            {"old": {
                "content": "    ~AutoAssertNoAlloc();",
                "line": 544
            }},
            {"old": {
                "content": "#else",
                "line": 545
            }},
            {"old": {
                "content": "  public:",
                "line": 546
            }},
            {"old": {
                "content": "    AutoAssertNoAlloc() {}",
                "line": 547
            }},
            {"old": {
                "content": "    explicit AutoAssertNoAlloc(JSContext* cx) {}",
                "line": 548
            }},
            {"old": {
                "content": "    void disallowAlloc(JSRuntime* rt) {}",
                "line": 549
            }},
            {"old": {
                "content": "#endif",
                "line": 550
            }},
            {"old": {
                "content": "};",
                "line": 551
            }},
            {"old": {
                "content": "",
                "line": 552
            }},
            {"old": {
                "content": "/**",
                "line": 553
            }},
            {"old": {
                "content": "class JS_PUBLIC_API(AutoSuppressGCAnalysis) : public AutoAssertNoAlloc",
                "line": 567
            }},
            {"new": {
                "content": "class JS_PUBLIC_API(AutoSuppressGCAnalysis) : public AutoAssertNoGC",
                "line": 545
            }},
            {"old": {
                "content": "    AutoSuppressGCAnalysis() : AutoAssertNoAlloc() {}",
                "line": 570
            }},
            {"old": {
                "content": "    explicit AutoSuppressGCAnalysis(JSContext* cx) : AutoAssertNoAlloc(cx) {}",
                "line": 571
            }},
            {"new": {
                "content": "    AutoSuppressGCAnalysis() : AutoAssertNoGC() {}",
                "line": 548
            }},
            {"new": {
                "content": "    explicit AutoSuppressGCAnalysis(JSContext* cx) : AutoAssertNoGC(cx) {}",
                "line": 549
            }}
        ],
        "new": {"name": "/js/public/GCAPI.h"},
        "old": {"name": "/js/public/GCAPI.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "    _(CantInlineNoObservedTypes)                                        \\",
                "line": 213
            }}
        ],
        "new": {"name": "/js/public/TrackedOptimizationInfo.h"},
        "old": {"name": "/js/public/TrackedOptimizationInfo.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    BreadthFirst(JSContext* cx, Handler& handler, const JS::AutoCheckCannotGC& noGC)",
                "line": 84
            }},
            {"new": {
                "content": "    BreadthFirst(JSContext* cx, Handler& handler, const JS::AutoRequireNoGC& noGC)",
                "line": 84
            }}
        ],
        "new": {"name": "/js/public/UbiNodeBreadthFirst.h"},
        "old": {"name": "/js/public/UbiNodeBreadthFirst.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetDataViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 1014
            }},
            {"new": {
                "content": "JS_GetDataViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 1014
            }}
        ],
        "new": {"name": "/js/src/builtin/DataViewObject.cpp"},
        "old": {"name": "/js/src/builtin/DataViewObject.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#ifdef MALLOC_H",
                "line": 13
            }},
            {"old": {
                "content": "# include MALLOC_H",
                "line": 14
            }},
            {"old": {
                "content": "#endif",
                "line": 15
            }},
            {"old": {
                "content": "",
                "line": 16
            }},
            {"old": {
                "content": "#include \"js/Utility.h\"",
                "line": 19
            }},
            {"old": {
                "content": "",
                "line": 20
            }},
            {"old": {
                "content": "#ifdef MOZ_MEMORY",
                "line": 21
            }},
            {"old": {
                "content": "# ifdef XP_DARWIN",
                "line": 22
            }},
            {"old": {
                "content": "#  define malloc_usable_size malloc_size",
                "line": 23
            }},
            {"old": {
                "content": "# else",
                "line": 24
            }},
            {"old": {
                "content": "extern \"C\" MFBT_API size_t malloc_usable_size(MALLOC_USABLE_SIZE_CONST_PTR void* p);",
                "line": 25
            }},
            {"old": {
                "content": "# endif",
                "line": 26
            }},
            {"old": {
                "content": "#endif",
                "line": 27
            }},
            {"old": {
                "content": "class ProtectedReallocPolicy",
                "line": 468
            }},
            {"old": {
                "content": "{",
                "line": 469
            }},
            {"old": {
                "content": "    uintptr_t currAddr;",
                "line": 470
            }},
            {"old": {
                "content": "    size_t currSize;",
                "line": 471
            }},
            {"old": {
                "content": "    uintptr_t prevAddr;",
                "line": 472
            }},
            {"old": {
                "content": "    size_t prevSize;",
                "line": 473
            }},
            {"old": {
                "content": "",
                "line": 474
            }},
            {"old": {
                "content": "    static const uint8_t PoisonPattern = 0xe5;",
                "line": 475
            }},
            {"old": {
                "content": "",
                "line": 476
            }},
            {"old": {
                "content": "    template <typename T> void update(T* newAddr, size_t newSize) {",
                "line": 477
            }},
            {"old": {
                "content": "        prevAddr = currAddr;",
                "line": 478
            }},
            {"old": {
                "content": "        prevSize = currSize;",
                "line": 479
            }},
            {"old": {
                "content": "        currAddr = uintptr_t(newAddr);",
                "line": 480
            }},
            {"old": {
                "content": "        currSize = newSize * sizeof(T);",
                "line": 481
            }},
            {"old": {
                "content": "    }",
                "line": 482
            }},
            {"old": {
                "content": "",
                "line": 483
            }},
            {"old": {
                "content": "    template <typename T> void updateIfValid(T* newAddr, size_t newSize) {",
                "line": 484
            }},
            {"old": {
                "content": "        if (newAddr)",
                "line": 485
            }},
            {"old": {
                "content": "            update<T>(newAddr, newSize);",
                "line": 486
            }},
            {"old": {
                "content": "    }",
                "line": 487
            }},
            {"old": {
                "content": "",
                "line": 488
            }},
            {"old": {
                "content": "    template <typename T> T* reallocUpdate(T* oldAddr, size_t oldSize, size_t newSize) {",
                "line": 489
            }},
            {"old": {
                "content": "        T* newAddr = js_pod_realloc<T>(oldAddr, oldSize, newSize);",
                "line": 490
            }},
            {"old": {
                "content": "        updateIfValid<T>(newAddr, newSize);",
                "line": 491
            }},
            {"old": {
                "content": "        return newAddr;",
                "line": 492
            }},
            {"old": {
                "content": "    }",
                "line": 493
            }},
            {"old": {
                "content": "",
                "line": 494
            }},
            {"old": {
                "content": "    void crashWithInfo(const uint8_t* buffer, size_t bytes, const char* type) {",
                "line": 495
            }},
            {"old": {
                "content": "        size_t start = 0;",
                "line": 496
            }},
            {"old": {
                "content": "        while (start < bytes) {",
                "line": 497
            }},
            {"old": {
                "content": "            if (MOZ_LIKELY(buffer[start] != PoisonPattern)) {",
                "line": 498
            }},
            {"old": {
                "content": "                ++start;",
                "line": 499
            }},
            {"old": {
                "content": "                continue;",
                "line": 500
            }},
            {"old": {
                "content": "            }",
                "line": 501
            }},
            {"old": {
                "content": "            size_t limit;",
                "line": 502
            }},
            {"old": {
                "content": "            for (limit = start + 1; limit < bytes && buffer[limit] == PoisonPattern; ++limit);",
                "line": 503
            }},
            {"old": {
                "content": "            size_t size = limit - start;",
                "line": 504
            }},
            {"old": {
                "content": "            if (size >= 16) {",
                "line": 505
            }},
            {"old": {
                "content": "                MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: %s buffer (old size = %\" PRIu64",
                "line": 506
            }},
            {"old": {
                "content": "                                        \") contains %\" PRIu64 \" bytes of poison starting from\"",
                "line": 507
            }},
            {"old": {
                "content": "                                        \" offset %\" PRIu64 \"!\", type, uint64_t(bytes),",
                "line": 508
            }},
            {"old": {
                "content": "                                        uint64_t(size), uint64_t(start));",
                "line": 509
            }},
            {"old": {
                "content": "            }",
                "line": 510
            }},
            {"old": {
                "content": "            start = limit;",
                "line": 511
            }},
            {"old": {
                "content": "        }",
                "line": 512
            }},
            {"old": {
                "content": "        MOZ_CRASH(\"Could not confirm the presence of poison!\");",
                "line": 513
            }},
            {"old": {
                "content": "    }",
                "line": 514
            }},
            {"old": {
                "content": "",
                "line": 515
            }},
            {"old": {
                "content": "  public:",
                "line": 516
            }},
            {"old": {
                "content": "    ProtectedReallocPolicy() : currAddr(0), currSize(0), prevAddr(0), prevSize(0) {}",
                "line": 517
            }},
            {"old": {
                "content": "",
                "line": 518
            }},
            {"old": {
                "content": "    ~ProtectedReallocPolicy() {",
                "line": 519
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(!currSize && !currAddr);",
                "line": 520
            }},
            {"old": {
                "content": "    }",
                "line": 521
            }},
            {"old": {
                "content": "",
                "line": 522
            }},
            {"old": {
                "content": "    template <typename T> T* maybe_pod_malloc(size_t numElems) {",
                "line": 523
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(!currSize && !currAddr);",
                "line": 524
            }},
            {"old": {
                "content": "        T* addr = js_pod_malloc<T>(numElems);",
                "line": 525
            }},
            {"old": {
                "content": "        updateIfValid<T>(addr, numElems);",
                "line": 526
            }},
            {"old": {
                "content": "        return addr;",
                "line": 527
            }},
            {"old": {
                "content": "    }",
                "line": 528
            }},
            {"old": {
                "content": "",
                "line": 529
            }},
            {"old": {
                "content": "    template <typename T> T* maybe_pod_calloc(size_t numElems) {",
                "line": 530
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(!currSize && !currAddr);",
                "line": 531
            }},
            {"old": {
                "content": "        T* addr = js_pod_calloc<T>(numElems);",
                "line": 532
            }},
            {"old": {
                "content": "        updateIfValid<T>(addr, numElems);",
                "line": 533
            }},
            {"old": {
                "content": "        return addr;",
                "line": 534
            }},
            {"old": {
                "content": "    }",
                "line": 535
            }},
            {"old": {
                "content": "",
                "line": 536
            }},
            {"old": {
                "content": "    template <typename T> T* maybe_pod_realloc(T* oldAddr, size_t oldSize, size_t newSize) {",
                "line": 537
            }},
            {"old": {
                "content": "        if (uintptr_t(oldAddr) != currAddr) {",
                "line": 538
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: oldAddr and currAddr don't match \"",
                "line": 539
            }},
            {"old": {
                "content": "                                    \"(0x%\" PRIx64 \" != 0x%\" PRIx64 \", %\" PRIu64 \")!\",",
                "line": 540
            }},
            {"old": {
                "content": "                                    uint64_t(oldAddr), uint64_t(currAddr), uint64_t(currSize));",
                "line": 541
            }},
            {"old": {
                "content": "        }",
                "line": 542
            }},
            {"old": {
                "content": "        if (oldSize * sizeof(T) != currSize) {",
                "line": 543
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: oldSize and currSize don't match \"",
                "line": 544
            }},
            {"old": {
                "content": "                                    \"(%\" PRIu64 \" != %\" PRIu64 \", 0x%\" PRIx64 \")!\",",
                "line": 545
            }},
            {"old": {
                "content": "                                    uint64_t(oldSize * sizeof(T)), uint64_t(currSize),",
                "line": 546
            }},
            {"old": {
                "content": "                                    uint64_t(currAddr));",
                "line": 547
            }},
            {"old": {
                "content": "        }",
                "line": 548
            }},
            {"old": {
                "content": "",
                "line": 549
            }},
            {"old": {
                "content": "        MOZ_ASSERT_IF(oldAddr, oldSize);",
                "line": 550
            }},
            {"old": {
                "content": "        if (MOZ_UNLIKELY(!newSize))",
                "line": 551
            }},
            {"old": {
                "content": "            return nullptr;",
                "line": 552
            }},
            {"old": {
                "content": "        if (MOZ_UNLIKELY(!oldAddr))",
                "line": 553
            }},
            {"old": {
                "content": "            return maybe_pod_malloc<T>(newSize);",
                "line": 554
            }},
            {"old": {
                "content": "",
                "line": 555
            }},
            {"old": {
                "content": "#ifdef MOZ_MEMORY",
                "line": 556
            }},
            {"old": {
                "content": "        size_t usableSize = malloc_usable_size(oldAddr);",
                "line": 557
            }},
            {"old": {
                "content": "        if (usableSize < currSize) {",
                "line": 558
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: usableSize < currSize \"",
                "line": 559
            }},
            {"old": {
                "content": "                                    \"(%\" PRIu64 \" < %\" PRIu64 \", %\" PRIu64 \", %s)!\",",
                "line": 560
            }},
            {"old": {
                "content": "                                    uint64_t(usableSize), uint64_t(currSize),",
                "line": 561
            }},
            {"old": {
                "content": "                                    uint64_t(prevSize), prevAddr == currAddr ? \"true\" : \"false\");",
                "line": 562
            }},
            {"old": {
                "content": "        }",
                "line": 563
            }},
            {"old": {
                "content": "#endif",
                "line": 564
            }},
            {"old": {
                "content": "",
                "line": 565
            }},
            {"old": {
                "content": "        size_t bytes = (newSize >= oldSize ? oldSize : newSize) * sizeof(T);",
                "line": 566
            }},
            {"old": {
                "content": "",
                "line": 567
            }},
            {"old": {
                "content": "        // Check for the poison pattern every so often.",
                "line": 568
            }},
            {"old": {
                "content": "        const uint8_t* oldAddrBytes = reinterpret_cast<const uint8_t*>(oldAddr);",
                "line": 569
            }},
            {"old": {
                "content": "        for (size_t j, i = 0; i + 16 <= bytes; i += 1024) {",
                "line": 570
            }},
            {"old": {
                "content": "            for (j = 0; j < 16 && oldAddrBytes[i + j] == PoisonPattern; ++j);",
                "line": 571
            }},
            {"old": {
                "content": "            if (MOZ_UNLIKELY(j == 16))",
                "line": 572
            }},
            {"old": {
                "content": "                crashWithInfo(oldAddrBytes, bytes, \"old\");",
                "line": 573
            }},
            {"old": {
                "content": "        }",
                "line": 574
            }},
            {"old": {
                "content": "",
                "line": 575
            }},
            {"old": {
                "content": "        T* tmpAddr = js_pod_malloc<T>(newSize);",
                "line": 576
            }},
            {"old": {
                "content": "        if (MOZ_UNLIKELY(!tmpAddr))",
                "line": 577
            }},
            {"old": {
                "content": "            return reallocUpdate<T>(oldAddr, oldSize, newSize);",
                "line": 578
            }},
            {"old": {
                "content": "",
                "line": 579
            }},
            {"old": {
                "content": "        memcpy(tmpAddr, oldAddr, bytes);",
                "line": 580
            }},
            {"old": {
                "content": "",
                "line": 581
            }},
            {"old": {
                "content": "        const uint8_t* tmpAddrBytes = reinterpret_cast<const uint8_t*>(tmpAddr);",
                "line": 582
            }},
            {"old": {
                "content": "        for (size_t j, i = 0; i + 16 <= bytes; i += 1024) {",
                "line": 583
            }},
            {"old": {
                "content": "            for (j = 0; j < 16 && tmpAddrBytes[i + j] == PoisonPattern; ++j);",
                "line": 584
            }},
            {"old": {
                "content": "            if (MOZ_UNLIKELY(j == 16))",
                "line": 585
            }},
            {"old": {
                "content": "                crashWithInfo(tmpAddrBytes, bytes, \"tmp\");",
                "line": 586
            }},
            {"old": {
                "content": "        }",
                "line": 587
            }},
            {"old": {
                "content": "",
                "line": 588
            }},
            {"old": {
                "content": "        if (!mozilla::PodEqual(oldAddrBytes, tmpAddrBytes, bytes))",
                "line": 589
            }},
            {"old": {
                "content": "            MOZ_CRASH(\"maybe_pod_realloc: tmp buffer doesn't match old buffer!\");",
                "line": 590
            }},
            {"old": {
                "content": "",
                "line": 591
            }},
            {"old": {
                "content": "        T* newAddr = js_pod_realloc<T>(oldAddr, oldSize, newSize);",
                "line": 592
            }},
            {"old": {
                "content": "        if (MOZ_UNLIKELY(!newAddr)) {",
                "line": 593
            }},
            {"old": {
                "content": "            js_free(tmpAddr);",
                "line": 594
            }},
            {"old": {
                "content": "            return reallocUpdate<T>(oldAddr, oldSize, newSize);",
                "line": 595
            }},
            {"old": {
                "content": "        }",
                "line": 596
            }},
            {"old": {
                "content": "",
                "line": 597
            }},
            {"old": {
                "content": "        const uint8_t* newAddrBytes = reinterpret_cast<const uint8_t*>(newAddr);",
                "line": 598
            }},
            {"old": {
                "content": "        for (size_t j, i = 0; i + 16 <= bytes; i += 1024) {",
                "line": 599
            }},
            {"old": {
                "content": "            for (j = 0; j < 16 && newAddrBytes[i + j] == PoisonPattern; ++j);",
                "line": 600
            }},
            {"old": {
                "content": "            if (MOZ_UNLIKELY(j == 16))",
                "line": 601
            }},
            {"old": {
                "content": "                crashWithInfo(newAddrBytes, bytes, \"new\");",
                "line": 602
            }},
            {"old": {
                "content": "        }",
                "line": 603
            }},
            {"old": {
                "content": "",
                "line": 604
            }},
            {"old": {
                "content": "        if (!mozilla::PodEqual(tmpAddrBytes, newAddrBytes, bytes)) {",
                "line": 605
            }},
            {"old": {
                "content": "#ifdef MOZ_MEMORY",
                "line": 606
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: buffers don't match \"",
                "line": 607
            }},
            {"old": {
                "content": "                                    \"(%\" PRIu64 \" >= %\" PRIu64 \", %\" PRIu64 \", %s)!\",",
                "line": 608
            }},
            {"old": {
                "content": "                                    uint64_t(usableSize), uint64_t(currSize),",
                "line": 609
            }},
            {"old": {
                "content": "                                    uint64_t(prevSize), prevAddr == currAddr ? \"true\" : \"false\");",
                "line": 610
            }},
            {"old": {
                "content": "#else",
                "line": 611
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"maybe_pod_realloc: buffers don't match \"",
                "line": 612
            }},
            {"old": {
                "content": "                                    \"(%\" PRIu64 \", %\" PRIu64 \", %s)!\",",
                "line": 613
            }},
            {"old": {
                "content": "                                    uint64_t(currSize), uint64_t(prevSize),",
                "line": 614
            }},
            {"old": {
                "content": "                                    prevAddr == currAddr ? \"true\" : \"false\");",
                "line": 615
            }},
            {"old": {
                "content": "#endif",
                "line": 616
            }},
            {"old": {
                "content": "        }",
                "line": 617
            }},
            {"old": {
                "content": "",
                "line": 618
            }},
            {"old": {
                "content": "        js_free(tmpAddr);",
                "line": 619
            }},
            {"old": {
                "content": "        update<T>(newAddr, newSize);",
                "line": 620
            }},
            {"old": {
                "content": "        return newAddr;",
                "line": 621
            }},
            {"old": {
                "content": "    }",
                "line": 622
            }},
            {"old": {
                "content": "",
                "line": 623
            }},
            {"old": {
                "content": "    template <typename T> T* pod_malloc(size_t numElems) { return maybe_pod_malloc<T>(numElems); }",
                "line": 624
            }},
            {"old": {
                "content": "    template <typename T> T* pod_calloc(size_t numElems) { return maybe_pod_calloc<T>(numElems); }",
                "line": 625
            }},
            {"old": {
                "content": "    template <typename T> T* pod_realloc(T* p, size_t oldSize, size_t newSize) {",
                "line": 626
            }},
            {"old": {
                "content": "        return maybe_pod_realloc<T>(p, oldSize, newSize);",
                "line": 627
            }},
            {"old": {
                "content": "    }",
                "line": 628
            }},
            {"old": {
                "content": "",
                "line": 629
            }},
            {"old": {
                "content": "    void free_(void* p) {",
                "line": 630
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(uintptr_t(p) == currAddr);",
                "line": 631
            }},
            {"old": {
                "content": "#ifdef MOZ_MEMORY",
                "line": 632
            }},
            {"old": {
                "content": "        size_t usableSize = malloc_usable_size(p);",
                "line": 633
            }},
            {"old": {
                "content": "        if (usableSize < currSize) {",
                "line": 634
            }},
            {"old": {
                "content": "            MOZ_CRASH_UNSAFE_PRINTF(\"free_: usableSize < currSize \"",
                "line": 635
            }},
            {"old": {
                "content": "                                    \"(%\" PRIu64 \" < %\" PRIu64 \", %\" PRIu64 \", %s)!\",",
                "line": 636
            }},
            {"old": {
                "content": "                                    uint64_t(usableSize), uint64_t(currSize),",
                "line": 637
            }},
            {"old": {
                "content": "                                    uint64_t(prevSize), prevAddr == currAddr ? \"true\" : \"false\");",
                "line": 638
            }},
            {"old": {
                "content": "        }",
                "line": 639
            }},
            {"old": {
                "content": "#endif",
                "line": 640
            }},
            {"old": {
                "content": "        js_free(p);",
                "line": 641
            }},
            {"old": {
                "content": "        update<uint8_t>(0, 0);",
                "line": 642
            }},
            {"old": {
                "content": "    }",
                "line": 643
            }},
            {"old": {
                "content": "",
                "line": 644
            }},
            {"old": {
                "content": "    void reportAllocOverflow() const {}",
                "line": 645
            }},
            {"old": {
                "content": "    bool checkSimulatedOOM() const {",
                "line": 646
            }},
            {"old": {
                "content": "        return !js::oom::ShouldFailWithOOM();",
                "line": 647
            }},
            {"old": {
                "content": "    }",
                "line": 648
            }},
            {"old": {
                "content": "};",
                "line": 649
            }},
            {"old": {
                "content": "",
                "line": 650
            }}
        ],
        "new": {"name": "/js/src/ds/PageProtectingVector.h"},
        "old": {"name": "/js/src/ds/PageProtectingVector.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"js/UniquePtr.h\"",
                "line": 22
            }},
            {"old": {
                "content": "enum SweepActionList",
                "line": 46
            }},
            {"new": {
                "content": "// Interface to a sweep action.",
                "line": 47
            }},
            {"new": {
                "content": "//",
                "line": 48
            }},
            {"new": {
                "content": "// Note that we don't need perfect forwarding for args here because the",
                "line": 49
            }},
            {"new": {
                "content": "// types are not deduced but come ultimately from the type of a function pointer",
                "line": 50
            }},
            {"new": {
                "content": "// passed to SweepFunc.",
                "line": 51
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 52
            }},
            {"new": {
                "content": "struct SweepAction",
                "line": 53
            }},
            {"old": {
                "content": "    PerSweepGroupActionList,",
                "line": 48
            }},
            {"old": {
                "content": "    PerZoneActionList,",
                "line": 49
            }},
            {"old": {
                "content": "    SweepActionListCount",
                "line": 50
            }},
            {"new": {
                "content": "    virtual ~SweepAction() {}",
                "line": 55
            }},
            {"new": {
                "content": "    virtual IncrementalProgress run(Args... args) = 0;",
                "line": 56
            }},
            {"new": {
                "content": "    virtual void assertFinished() const = 0;",
                "line": 57
            }},
            {"old": {
                "content": "    static bool initializeSweepActions();",
                "line": 795
            }},
            {"new": {
                "content": "    bool initSweepActions();",
                "line": 802
            }},
            {"old": {
                "content": "    static IncrementalProgress sweepTypeInformation(GCRuntime* gc, FreeOp* fop, Zone* zone,",
                "line": 1037
            }},
            {"old": {
                "content": "                                                    SliceBudget& budget, AllocKind kind);",
                "line": 1038
            }},
            {"old": {
                "content": "    static IncrementalProgress mergeSweptObjectArenas(GCRuntime* gc, FreeOp* fop, Zone* zone,",
                "line": 1039
            }},
            {"old": {
                "content": "                                                      SliceBudget& budget, AllocKind kind);",
                "line": 1040
            }},
            {"old": {
                "content": "    static IncrementalProgress sweepAtomsTable(GCRuntime* gc, SliceBudget& budget);",
                "line": 1041
            }},
            {"new": {
                "content": "    static IncrementalProgress sweepTypeInformation(GCRuntime* gc, FreeOp* fop, SliceBudget& budget,",
                "line": 1044
            }},
            {"new": {
                "content": "                                                    Zone* zone);",
                "line": 1045
            }},
            {"new": {
                "content": "    static IncrementalProgress mergeSweptObjectArenas(GCRuntime* gc, FreeOp* fop, SliceBudget& budget,",
                "line": 1046
            }},
            {"new": {
                "content": "                                                      Zone* zone);",
                "line": 1047
            }},
            {"new": {
                "content": "    static IncrementalProgress sweepAtomsTable(GCRuntime* gc, FreeOp* fop, SliceBudget& budget);",
                "line": 1048
            }},
            {"old": {
                "content": "    static IncrementalProgress sweepWeakCaches(GCRuntime* gc, SliceBudget& budget);",
                "line": 1044
            }},
            {"new": {
                "content": "    static IncrementalProgress sweepWeakCaches(GCRuntime* gc, FreeOp* fop, SliceBudget& budget);",
                "line": 1051
            }},
            {"old": {
                "content": "    static IncrementalProgress finalizeAllocKind(GCRuntime* gc, FreeOp* fop, Zone* zone,",
                "line": 1046
            }},
            {"old": {
                "content": "                                                 SliceBudget& budget, AllocKind kind);",
                "line": 1047
            }},
            {"old": {
                "content": "    static IncrementalProgress sweepShapeTree(GCRuntime* gc, FreeOp* fop, Zone* zone,",
                "line": 1048
            }},
            {"old": {
                "content": "                                              SliceBudget& budget, AllocKind kind);",
                "line": 1049
            }},
            {"new": {
                "content": "    static IncrementalProgress finalizeAllocKind(GCRuntime* gc, FreeOp* fop, SliceBudget& budget,",
                "line": 1053
            }},
            {"new": {
                "content": "                                                 Zone* zone, AllocKind kind);",
                "line": 1054
            }},
            {"new": {
                "content": "    static IncrementalProgress sweepShapeTree(GCRuntime* gc, FreeOp* fop, SliceBudget& budget,",
                "line": 1055
            }},
            {"new": {
                "content": "                                              Zone* zone);",
                "line": 1056
            }},
            {"old": {
                "content": "    ActiveThreadData<SweepActionList> sweepActionList;",
                "line": 1267
            }},
            {"old": {
                "content": "    ActiveThreadData<size_t> sweepPhaseIndex;",
                "line": 1268
            }},
            {"new": {
                "content": "    ActiveThreadData<UniquePtr<SweepAction<GCRuntime*, FreeOp*, SliceBudget&>>> sweepActions;",
                "line": 1274
            }},
            {"old": {
                "content": "    ActiveThreadData<size_t> sweepActionIndex;",
                "line": 1270
            }}
        ],
        "new": {"name": "/js/src/gc/GCRuntime.h"},
        "old": {"name": "/js/src/gc/GCRuntime.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "load(libdir + 'asserts.js');",
                "line": 1
            }},
            {"new": {
                "content": "",
                "line": 2
            }},
            {"old": {
                "content": "for (var i = 0; i < snapshot.length; i++)",
                "line": 24
            }},
            {"new": {
                "content": "for (var i = 0; i < snapshot.length; i++) {",
                "line": 26
            }},
            {"new": {
                "content": "    assertThrowsInstanceOf(() => frame.script, Error);",
                "line": 28
            }},
            {"new": {
                "content": "}",
                "line": 29
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Frame-live-04.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Frame-live-04.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "load(libdir + 'asserts.js');",
                "line": 1
            }},
            {"new": {
                "content": "",
                "line": 2
            }},
            {"old": {
                "content": "for (var i = 0; i < snapshot.length; i++)",
                "line": 26
            }},
            {"new": {
                "content": "for (var i = 0; i < snapshot.length; i++) {",
                "line": 28
            }},
            {"new": {
                "content": "    assertThrowsInstanceOf(() => frame.script, Error);",
                "line": 30
            }},
            {"new": {
                "content": "}",
                "line": 31
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Frame-live-05.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Frame-live-05.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "  // all show throw.",
                "line": 14
            }},
            {"new": {
                "content": "  // all should throw.",
                "line": 14
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Frame-script-environment-nondebuggee.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Frame-script-environment-nondebuggee.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "g.eval(\"(async function grondo() { debugger; })();\");",
                "line": 17
            }},
            {"new": {
                "content": "assertEq(name, \"grondo\");",
                "line": 18
            }},
            {"new": {
                "content": "g.eval(\"(async function* estux() { debugger; })().next();\");",
                "line": 19
            }},
            {"new": {
                "content": "assertEq(name, \"estux\");",
                "line": 20
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-displayName-01.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-displayName-01.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "    var async_fun = frame.eval(\"m\").return;",
                "line": 11
            }},
            {"new": {
                "content": "    assertEq(async_fun.environment instanceof Debugger.Environment, true);",
                "line": 12
            }},
            {"new": {
                "content": "    var async_iter = frame.eval(\"n\").return;",
                "line": 13
            }},
            {"new": {
                "content": "    assertEq(async_iter.environment instanceof Debugger.Environment, true);",
                "line": 14
            }},
            {"old": {
                "content": "g.eval(\"function j(a) {\\n\" +",
                "line": 13
            }},
            {"old": {
                "content": "       \"    var f = function () { return a; };\\n\" +",
                "line": 14
            }},
            {"old": {
                "content": "       \"    h();\\n\" +",
                "line": 15
            }},
            {"old": {
                "content": "       \"    return f;\\n\" +",
                "line": 16
            }},
            {"old": {
                "content": "       \"}\\n\" +",
                "line": 17
            }},
            {"old": {
                "content": "       \"j(0);\\n\");",
                "line": 18
            }},
            {"new": {
                "content": "g.eval(`",
                "line": 17
            }},
            {"new": {
                "content": "   function j(a) {",
                "line": 18
            }},
            {"new": {
                "content": "       var f = function () { return a; };",
                "line": 19
            }},
            {"new": {
                "content": "       function* g() { }",
                "line": 20
            }},
            {"new": {
                "content": "       async function m() { }",
                "line": 21
            }},
            {"new": {
                "content": "       async function* n() { }",
                "line": 22
            }},
            {"new": {
                "content": "       h();",
                "line": 23
            }},
            {"new": {
                "content": "       return f;",
                "line": 24
            }},
            {"new": {
                "content": "   }",
                "line": 25
            }},
            {"new": {
                "content": "   j(0);",
                "line": 26
            }},
            {"new": {
                "content": "`);",
                "line": 27
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-environment-02.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-environment-02.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "checkIsArrow(false, '(async function f () {})');",
                "line": 22
            }},
            {"new": {
                "content": "checkIsArrow(true,  '(async () => { })');",
                "line": 23
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-isArrowFunction.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-isArrowFunction.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "g.eval(\"(async function grondo() { debugger; })();\");",
                "line": 12
            }},
            {"new": {
                "content": "assertEq(name, \"grondo\");",
                "line": 13
            }},
            {"new": {
                "content": "g.eval(\"(async function* estux() { debugger; })().next();\");",
                "line": 14
            }},
            {"new": {
                "content": "assertEq(name, \"estux\");",
                "line": 15
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-name-01.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-name-01.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "                          \"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"]),",
                "line": 11
            }},
            {"new": {
                "content": "                          \"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"]),",
                "line": 11
            }},
            {"old": {
                "content": "    assertEq(arr.length, 6);",
                "line": 16
            }},
            {"new": {
                "content": "    assertEq(arraysEqual(arr[6].parameterNames, [\"a\", \"b\", \"c\"]), true);",
                "line": 16
            }},
            {"new": {
                "content": "    assertEq(arraysEqual(arr[7].parameterNames, [\"d\", \"e\", \"f\"]), true);",
                "line": 17
            }},
            {"new": {
                "content": "    assertEq(arr.length, 8);",
                "line": 18
            }},
            {"old": {
                "content": "       + function () {",
                "line": 20
            }},
            {"new": {
                "content": "       + function () {",
                "line": 22
            }},
            {"old": {
                "content": "             Math.atan2",
                "line": 27
            }},
            {"new": {
                "content": "             Math.atan2,",
                "line": 29
            }},
            {"new": {
                "content": "             async function (a, b, c) {},",
                "line": 30
            }},
            {"new": {
                "content": "             async function* (d, e, f) {}",
                "line": 31
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-parameterNames.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-parameterNames.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "    assertEq(arr[1].script, undefined);",
                "line": 6
            }},
            {"old": {
                "content": "    assertEq(arr[2].script, undefined);",
                "line": 7
            }},
            {"new": {
                "content": "    assertEq(arr[1].script instanceof Debugger.Script, true);",
                "line": 6
            }},
            {"new": {
                "content": "    assertEq(arr[2].script instanceof Debugger.Script, true);",
                "line": 7
            }},
            {"new": {
                "content": "    assertEq(arr[3].script instanceof Debugger.Script, true);",
                "line": 8
            }},
            {"new": {
                "content": "    assertEq(arr[4].script, undefined);",
                "line": 9
            }},
            {"new": {
                "content": "    assertEq(arr[5].script, undefined);",
                "line": 10
            }},
            {"new": {
                "content": "    assertEq(arr.length, 6);",
                "line": 11
            }},
            {"old": {
                "content": "g.eval(\"(function () { debugger; })(function g(){}, {}, Math.atan2);\");",
                "line": 10
            }},
            {"new": {
                "content": "g.eval(`",
                "line": 14
            }},
            {"new": {
                "content": "    function f() { debugger; }",
                "line": 15
            }},
            {"new": {
                "content": "    f(function g(){},",
                "line": 16
            }},
            {"new": {
                "content": "      function* h() {},",
                "line": 17
            }},
            {"new": {
                "content": "      async function j() {},",
                "line": 18
            }},
            {"new": {
                "content": "      async function* k() {},",
                "line": 19
            }},
            {"new": {
                "content": "      {},",
                "line": 20
            }},
            {"new": {
                "content": "      Math.atan2);",
                "line": 21
            }},
            {"new": {
                "content": "`);",
                "line": 22
            }}
        ],
        "new": {"name": "/js/src/jit-test/tests/debug/Object-script.js"},
        "old": {"name": "/js/src/jit-test/tests/debug/Object-script.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "    // The object must be Native.",
                "line": 494
            }},
            {"new": {
                "content": "    masm.loadObjClass(obj, scratch3);",
                "line": 495
            }},
            {"new": {
                "content": "    masm.branchTest32(Assembler::NonZero, Address(scratch3, Class::offsetOfFlags()),",
                "line": 496
            }},
            {"new": {
                "content": "                      Imm32(Class::NON_NATIVE), failure->label());",
                "line": 497
            }},
            {"new": {
                "content": "",
                "line": 498
            }}
        ],
        "new": {"name": "/js/src/jit/BaselineCacheIRCompiler.cpp"},
        "old": {"name": "/js/src/jit/BaselineCacheIRCompiler.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    // The object must be Native.",
                "line": 2448
            }},
            {"new": {
                "content": "    masm.loadObjClass(obj, scratch);",
                "line": 2449
            }},
            {"new": {
                "content": "    masm.branchTest32(Assembler::NonZero, Address(scratch, Class::offsetOfFlags()),",
                "line": 2450
            }},
            {"new": {
                "content": "                      Imm32(Class::NON_NATIVE), failure->label());",
                "line": 2451
            }},
            {"new": {
                "content": "",
                "line": 2452
            }}
        ],
        "new": {"name": "/js/src/jit/CacheIRCompiler.cpp"},
        "old": {"name": "/js/src/jit/CacheIRCompiler.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 420
            }},
            {"new": {
                "content": "        // If we're going to add a TypeBarrier that always fails, it's not",
                "line": 421
            }},
            {"new": {
                "content": "        // worth inlining this call as the script will be invalidated",
                "line": 422
            }},
            {"new": {
                "content": "        // immediately.",
                "line": 423
            }},
            {"new": {
                "content": "        if ((CodeSpec[*pc].format & JOF_TYPESET) &&",
                "line": 424
            }},
            {"new": {
                "content": "            !BytecodeIsPopped(pc) &&",
                "line": 425
            }},
            {"new": {
                "content": "            bytecodeTypes(pc)->empty())",
                "line": 426
            }},
            {"new": {
                "content": "        {",
                "line": 427
            }},
            {"new": {
                "content": "            trackOptimizationOutcome(TrackedOutcome::CantInlineNoObservedTypes);",
                "line": 428
            }},
            {"new": {
                "content": "            return DontInline(nullptr, \"Empty type barrier\");",
                "line": 429
            }},
            {"new": {
                "content": "        }",
                "line": 430
            }},
            {"old": {
                "content": "    if (target->isInterpreted() && info().analysisMode() == Analysis_DefiniteProperties) {",
                "line": 423
            }},
            {"new": {
                "content": "    if (info().analysisMode() == Analysis_DefiniteProperties) {",
                "line": 434
            }}
        ],
        "new": {"name": "/js/src/jit/IonBuilder.cpp"},
        "old": {"name": "/js/src/jit/IonBuilder.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    // The object must be Native.",
                "line": 846
            }},
            {"new": {
                "content": "    masm.loadObjClass(obj, scratch3);",
                "line": 847
            }},
            {"new": {
                "content": "    masm.branchTest32(Assembler::NonZero, Address(scratch3, Class::offsetOfFlags()),",
                "line": 848
            }},
            {"new": {
                "content": "                      Imm32(Class::NON_NATIVE), failure->label());",
                "line": 849
            }},
            {"new": {
                "content": "",
                "line": 850
            }}
        ],
        "new": {"name": "/js/src/jit/IonCacheIRCompiler.cpp"},
        "old": {"name": "/js/src/jit/IonCacheIRCompiler.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 374
            }},
            {"old": {
                "content": "        // Disable page protection for WASM.",
                "line": 375
            }},
            {"old": {
                "content": "        disableProtection();",
                "line": 376
            }}
        ],
        "new": {"name": "/js/src/jit/MacroAssembler.h"},
        "old": {"name": "/js/src/jit/MacroAssembler.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (MOZ_UNLIKELY(!obj->isNative()))",
                "line": 1618
            }},
            {"old": {
                "content": "        return false;",
                "line": 1619
            }},
            {"new": {
                "content": "    // Condition checked by caller.",
                "line": 1618
            }},
            {"new": {
                "content": "    MOZ_ASSERT(obj->isNative());",
                "line": 1619
            }},
            {"old": {
                "content": "    if (MOZ_UNLIKELY(!obj->isNative()))",
                "line": 1666
            }},
            {"old": {
                "content": "        return false;",
                "line": 1667
            }},
            {"new": {
                "content": "    // Condition checked by caller.",
                "line": 1666
            }},
            {"new": {
                "content": "    MOZ_ASSERT(obj->isNative());",
                "line": 1667
            }}
        ],
        "new": {"name": "/js/src/jit/VMFunctions.cpp"},
        "old": {"name": "/js/src/jit/VMFunctions.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() {}",
                "line": 1387
            }},
            {"old": {
                "content": "    void enableProtection() {}",
                "line": 1388
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t) {}",
                "line": 1389
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char*, size_t) {}",
                "line": 1390
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char*, size_t) {}",
                "line": 1391
            }},
            {"old": {
                "content": "",
                "line": 1392
            }}
        ],
        "new": {"name": "/js/src/jit/arm/Assembler-arm.h"},
        "old": {"name": "/js/src/jit/arm/Assembler-arm.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() {}",
                "line": 221
            }},
            {"old": {
                "content": "    void enableProtection() {}",
                "line": 222
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t) {}",
                "line": 223
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char*, size_t) {}",
                "line": 224
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char*, size_t) {}",
                "line": 225
            }},
            {"old": {
                "content": "",
                "line": 226
            }}
        ],
        "new": {"name": "/js/src/jit/arm64/Assembler-arm64.h"},
        "old": {"name": "/js/src/jit/arm64/Assembler-arm64.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() {}",
                "line": 906
            }},
            {"old": {
                "content": "    void enableProtection() {}",
                "line": 907
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t) {}",
                "line": 908
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char*, size_t) {}",
                "line": 909
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char*, size_t) {}",
                "line": 910
            }},
            {"old": {
                "content": "",
                "line": 911
            }}
        ],
        "new": {"name": "/js/src/jit/mips-shared/Assembler-mips-shared.h"},
        "old": {"name": "/js/src/jit/mips-shared/Assembler-mips-shared.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() { MOZ_CRASH(); }",
                "line": 423
            }},
            {"old": {
                "content": "    void enableProtection() { MOZ_CRASH(); }",
                "line": 424
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t) { MOZ_CRASH(); }",
                "line": 425
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char*, size_t) { MOZ_CRASH(); }",
                "line": 426
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char*, size_t) { MOZ_CRASH(); }",
                "line": 427
            }},
            {"old": {
                "content": "",
                "line": 428
            }}
        ],
        "new": {"name": "/js/src/jit/none/MacroAssembler-none.h"},
        "old": {"name": "/js/src/jit/none/MacroAssembler-none.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() { masm.disableProtection(); }",
                "line": 404
            }},
            {"old": {
                "content": "    void enableProtection() { masm.enableProtection(); }",
                "line": 405
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t size) {",
                "line": 406
            }},
            {"old": {
                "content": "        masm.setLowerBoundForProtection(size);",
                "line": 407
            }},
            {"old": {
                "content": "    }",
                "line": 408
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char* first, size_t size) {",
                "line": 409
            }},
            {"old": {
                "content": "        masm.unprotectRegion(first, size);",
                "line": 410
            }},
            {"old": {
                "content": "    }",
                "line": 411
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char* first, size_t size) {",
                "line": 412
            }},
            {"old": {
                "content": "        masm.reprotectRegion(first, size);",
                "line": 413
            }},
            {"old": {
                "content": "    }",
                "line": 414
            }},
            {"old": {
                "content": "",
                "line": 415
            }}
        ],
        "new": {"name": "/js/src/jit/x86-shared/Assembler-x86-shared.h"},
        "old": {"name": "/js/src/jit/x86-shared/Assembler-x86-shared.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"ds/PageProtectingVector.h\"",
                "line": 32
            }},
            {"old": {
                "content": "#ifndef RELEASE_OR_BETA",
                "line": 137
            }},
            {"old": {
                "content": "        void disableProtection() { m_buffer.disableProtection(); }",
                "line": 138
            }},
            {"old": {
                "content": "        void enableProtection() { m_buffer.enableProtection(); }",
                "line": 139
            }},
            {"old": {
                "content": "        void setLowerBoundForProtection(size_t size)",
                "line": 140
            }},
            {"old": {
                "content": "        {",
                "line": 141
            }},
            {"old": {
                "content": "            m_buffer.setLowerBoundForProtection(size);",
                "line": 142
            }},
            {"old": {
                "content": "        }",
                "line": 143
            }},
            {"old": {
                "content": "        void unprotectRegion(unsigned char* first, size_t size)",
                "line": 144
            }},
            {"old": {
                "content": "        {",
                "line": 145
            }},
            {"old": {
                "content": "            m_buffer.unprotectRegion(first, size);",
                "line": 146
            }},
            {"old": {
                "content": "        }",
                "line": 147
            }},
            {"old": {
                "content": "        void reprotectRegion(unsigned char* first, size_t size)",
                "line": 148
            }},
            {"old": {
                "content": "        {",
                "line": 149
            }},
            {"old": {
                "content": "            m_buffer.reprotectRegion(first, size);",
                "line": 150
            }},
            {"old": {
                "content": "        }",
                "line": 151
            }},
            {"old": {
                "content": "#else",
                "line": 152
            }},
            {"old": {
                "content": "        void disableProtection() {}",
                "line": 153
            }},
            {"old": {
                "content": "        void enableProtection() {}",
                "line": 154
            }},
            {"old": {
                "content": "        void setLowerBoundForProtection(size_t) {}",
                "line": 155
            }},
            {"old": {
                "content": "        void unprotectRegion(unsigned char*, size_t) {}",
                "line": 156
            }},
            {"old": {
                "content": "        void reprotectRegion(unsigned char*, size_t) {}",
                "line": 157
            }},
            {"old": {
                "content": "#endif",
                "line": 158
            }},
            {"old": {
                "content": "",
                "line": 159
            }},
            {"old": {
                "content": "#ifndef RELEASE_OR_BETA",
                "line": 182
            }},
            {"old": {
                "content": "        PageProtectingVector<unsigned char, 256, ProtectedReallocPolicy,",
                "line": 183
            }},
            {"old": {
                "content": "                             /* ProtectUsed = */ false, /* ProtectUnused = */ false> m_buffer;",
                "line": 184
            }},
            {"old": {
                "content": "#else",
                "line": 185
            }},
            {"old": {
                "content": "#endif",
                "line": 187
            }}
        ],
        "new": {"name": "/js/src/jit/x86-shared/AssemblerBuffer-x86-shared.h"},
        "old": {"name": "/js/src/jit/x86-shared/AssemblerBuffer-x86-shared.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void disableProtection() { m_formatter.disableProtection(); }",
                "line": 57
            }},
            {"old": {
                "content": "    void enableProtection() { m_formatter.enableProtection(); }",
                "line": 58
            }},
            {"old": {
                "content": "    void setLowerBoundForProtection(size_t size)",
                "line": 59
            }},
            {"old": {
                "content": "    {",
                "line": 60
            }},
            {"old": {
                "content": "        m_formatter.setLowerBoundForProtection(size);",
                "line": 61
            }},
            {"old": {
                "content": "    }",
                "line": 62
            }},
            {"old": {
                "content": "    void unprotectRegion(unsigned char* first, size_t size)",
                "line": 63
            }},
            {"old": {
                "content": "    {",
                "line": 64
            }},
            {"old": {
                "content": "        m_formatter.unprotectRegion(first, size);",
                "line": 65
            }},
            {"old": {
                "content": "    }",
                "line": 66
            }},
            {"old": {
                "content": "    void reprotectRegion(unsigned char* first, size_t size)",
                "line": 67
            }},
            {"old": {
                "content": "    {",
                "line": 68
            }},
            {"old": {
                "content": "        m_formatter.reprotectRegion(first, size);",
                "line": 69
            }},
            {"old": {
                "content": "    }",
                "line": 70
            }},
            {"old": {
                "content": "",
                "line": 71
            }},
            {"old": {
                "content": "        void disableProtection() { m_buffer.disableProtection(); }",
                "line": 5161
            }},
            {"old": {
                "content": "        void enableProtection() { m_buffer.enableProtection(); }",
                "line": 5162
            }},
            {"old": {
                "content": "        void setLowerBoundForProtection(size_t size)",
                "line": 5163
            }},
            {"old": {
                "content": "        {",
                "line": 5164
            }},
            {"old": {
                "content": "            m_buffer.setLowerBoundForProtection(size);",
                "line": 5165
            }},
            {"old": {
                "content": "        }",
                "line": 5166
            }},
            {"old": {
                "content": "        void unprotectRegion(unsigned char* first, size_t size)",
                "line": 5167
            }},
            {"old": {
                "content": "        {",
                "line": 5168
            }},
            {"old": {
                "content": "            m_buffer.unprotectRegion(first, size);",
                "line": 5169
            }},
            {"old": {
                "content": "        }",
                "line": 5170
            }},
            {"old": {
                "content": "        void reprotectRegion(unsigned char* first, size_t size)",
                "line": 5171
            }},
            {"old": {
                "content": "        {",
                "line": 5172
            }},
            {"old": {
                "content": "            m_buffer.reprotectRegion(first, size);",
                "line": 5173
            }},
            {"old": {
                "content": "        }",
                "line": 5174
            }},
            {"old": {
                "content": "",
                "line": 5175
            }}
        ],
        "new": {"name": "/js/src/jit/x86-shared/BaseAssembler-x86-shared.h"},
        "old": {"name": "/js/src/jit/x86-shared/BaseAssembler-x86-shared.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "         Element* GetData(JSObject*, bool* isShared, const JS::AutoCheckCannotGC&)>",
                "line": 73
            }},
            {"new": {
                "content": "         Element* GetData(JSObject*, bool* isShared, const JS::AutoRequireNoGC&)>",
                "line": 73
            }},
            {"old": {
                "content": "         Element* GetData(JSObject*, bool*, const JS::AutoCheckCannotGC&)>",
                "line": 111
            }},
            {"new": {
                "content": "         Element* GetData(JSObject*, bool*, const JS::AutoRequireNoGC&)>",
                "line": 111
            }}
        ],
        "new": {"name": "/js/src/jsapi-tests/testTypedArrays.cpp"},
        "old": {"name": "/js/src/jsapi-tests/testTypedArrays.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetLatin1StringCharsAndLength(JSContext* cx, const JS::AutoCheckCannotGC& nogc, JSString* str,",
                "line": 5452
            }},
            {"new": {
                "content": "JS_GetLatin1StringCharsAndLength(JSContext* cx, const JS::AutoRequireNoGC& nogc, JSString* str,",
                "line": 5452
            }},
            {"old": {
                "content": "JS_GetTwoByteStringCharsAndLength(JSContext* cx, const JS::AutoCheckCannotGC& nogc, JSString* str,",
                "line": 5466
            }},
            {"new": {
                "content": "JS_GetTwoByteStringCharsAndLength(JSContext* cx, const JS::AutoRequireNoGC& nogc, JSString* str,",
                "line": 5466
            }},
            {"old": {
                "content": "JS_GetLatin1InternedStringChars(const JS::AutoCheckCannotGC& nogc, JSString* str)",
                "line": 5525
            }},
            {"new": {
                "content": "JS_GetLatin1InternedStringChars(const JS::AutoRequireNoGC& nogc, JSString* str)",
                "line": 5525
            }},
            {"old": {
                "content": "JS_GetTwoByteInternedStringChars(const JS::AutoCheckCannotGC& nogc, JSString* str)",
                "line": 5534
            }},
            {"new": {
                "content": "JS_GetTwoByteInternedStringChars(const JS::AutoRequireNoGC& nogc, JSString* str)",
                "line": 5534
            }},
            {"old": {
                "content": "JS_GetLatin1FlatStringChars(const JS::AutoCheckCannotGC& nogc, JSFlatString* str)",
                "line": 5558
            }},
            {"new": {
                "content": "JS_GetLatin1FlatStringChars(const JS::AutoRequireNoGC& nogc, JSFlatString* str)",
                "line": 5558
            }},
            {"old": {
                "content": "JS_GetTwoByteFlatStringChars(const JS::AutoCheckCannotGC& nogc, JSFlatString* str)",
                "line": 5563
            }},
            {"new": {
                "content": "JS_GetTwoByteFlatStringChars(const JS::AutoRequireNoGC& nogc, JSFlatString* str)",
                "line": 5563
            }}
        ],
        "new": {"name": "/js/src/jsapi.cpp"},
        "old": {"name": "/js/src/jsapi.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetLatin1StringCharsAndLength(JSContext* cx, const JS::AutoCheckCannotGC& nogc, JSString* str,",
                "line": 5005
            }},
            {"new": {
                "content": "JS_GetLatin1StringCharsAndLength(JSContext* cx, const JS::AutoRequireNoGC& nogc, JSString* str,",
                "line": 5005
            }},
            {"old": {
                "content": "JS_GetTwoByteStringCharsAndLength(JSContext* cx, const JS::AutoCheckCannotGC& nogc, JSString* str,",
                "line": 5008
            }},
            {"new": {
                "content": "JS_GetTwoByteStringCharsAndLength(JSContext* cx, const JS::AutoRequireNoGC& nogc, JSString* str,",
                "line": 5008
            }},
            {"old": {
                "content": "JS_GetLatin1FlatStringChars(const JS::AutoCheckCannotGC& nogc, JSFlatString* str);",
                "line": 5027
            }},
            {"new": {
                "content": "JS_GetLatin1FlatStringChars(const JS::AutoRequireNoGC& nogc, JSFlatString* str);",
                "line": 5027
            }},
            {"old": {
                "content": "JS_GetTwoByteFlatStringChars(const JS::AutoCheckCannotGC& nogc, JSFlatString* str);",
                "line": 5029
            }},
            {"new": {
                "content": "JS_GetTwoByteFlatStringChars(const JS::AutoRequireNoGC& nogc, JSFlatString* str);",
                "line": 5029
            }},
            {"old": {
                "content": " * of (de)serialization off the object's JSRuntime's thread.",
                "line": 6389
            }},
            {"new": {
                "content": " * of efficient postMessage() of WebAssembly.Module and (de)serialization off",
                "line": 6389
            }},
            {"new": {
                "content": " * the object's JSRuntime's thread for IndexedDB.",
                "line": 6390
            }},
            {"new": {
                "content": " *",
                "line": 6391
            }},
            {"new": {
                "content": " * For postMessage() sharing:",
                "line": 6392
            }},
            {"new": {
                "content": " *",
                "line": 6393
            }},
            {"new": {
                "content": " * - GetWasmModule() is called when making a structured clone of payload",
                "line": 6394
            }},
            {"new": {
                "content": " * containing a WebAssembly.Module object. The structured clone buffer holds a",
                "line": 6395
            }},
            {"new": {
                "content": " * refcount of the JS::WasmModule until createObject() is called in the target",
                "line": 6396
            }},
            {"new": {
                "content": " * agent's JSContext. The new WebAssembly.Module object continues to hold the",
                "line": 6397
            }},
            {"new": {
                "content": " * JS::WasmModule and thus the final reference of a JS::WasmModule may be",
                "line": 6398
            }},
            {"new": {
                "content": " * dropped from any thread and so the virtual destructor (and all internal",
                "line": 6399
            }},
            {"new": {
                "content": " * methods of the C++ module) must be thread-safe.",
                "line": 6400
            }},
            {"new": {
                "content": " *",
                "line": 6401
            }},
            {"new": {
                "content": " * For (de)serialization:",
                "line": 6402
            }},
            {"old": {
                "content": " * This interface is then taken to a background thread where serializedSize()",
                "line": 6394
            }},
            {"old": {
                "content": " * and serialize() are called to write the object to two files: a bytecode file",
                "line": 6395
            }},
            {"old": {
                "content": " * that always allows successful deserialization and a compiled-code file keyed",
                "line": 6396
            }},
            {"old": {
                "content": " * on cpu- and build-id that may become invalid if either of these change between",
                "line": 6397
            }},
            {"old": {
                "content": " * serialization and deserialization. After serialization, the reference is",
                "line": 6398
            }},
            {"old": {
                "content": " * dropped from the background thread.",
                "line": 6399
            }},
            {"new": {
                "content": " * This interface is then taken to a background thread where the bytecode and",
                "line": 6407
            }},
            {"new": {
                "content": " * compiled code are written into separate files: a bytecode file that always",
                "line": 6408
            }},
            {"new": {
                "content": " * allows successful deserialization and a compiled-code file keyed on cpu- and",
                "line": 6409
            }},
            {"new": {
                "content": " * build-id that may become invalid if either of these change between",
                "line": 6410
            }},
            {"new": {
                "content": " * serialization and deserialization. After serialization, a reference is",
                "line": 6411
            }},
            {"new": {
                "content": " * dropped from a separate thread so the virtual destructor must be thread-safe.",
                "line": 6412
            }},
            {"old": {
                "content": "    virtual void serializedSize(size_t* maybeBytecodeSize, size_t* maybeCompiledSize) const = 0;",
                "line": 6414
            }},
            {"old": {
                "content": "    virtual void serialize(uint8_t* maybeBytecodeBegin, size_t maybeBytecodeSize,",
                "line": 6415
            }},
            {"old": {
                "content": "                           uint8_t* maybeCompiledBegin, size_t maybeCompiledSize) const = 0;",
                "line": 6416
            }},
            {"new": {
                "content": "    virtual size_t bytecodeSerializedSize() const = 0;",
                "line": 6427
            }},
            {"new": {
                "content": "    virtual void bytecodeSerialize(uint8_t* bytecodeBegin, size_t bytecodeSize) const = 0;",
                "line": 6428
            }},
            {"new": {
                "content": "",
                "line": 6429
            }},
            {"new": {
                "content": "    virtual size_t compiledSerializedSize() const = 0;",
                "line": 6430
            }},
            {"new": {
                "content": "    virtual void compiledSerialize(uint8_t* compiledBegin, size_t compiledSize) const = 0;",
                "line": 6431
            }}
        ],
        "new": {"name": "/js/src/jsapi.h"},
        "old": {"name": "/js/src/jsapi.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "GetLatin1LinearStringChars(const JS::AutoCheckCannotGC& nogc, JSLinearString* linear)",
                "line": 818
            }},
            {"new": {
                "content": "GetLatin1LinearStringChars(const JS::AutoRequireNoGC& nogc, JSLinearString* linear)",
                "line": 818
            }},
            {"old": {
                "content": "GetTwoByteLinearStringChars(const JS::AutoCheckCannotGC& nogc, JSLinearString* linear)",
                "line": 828
            }},
            {"new": {
                "content": "GetTwoByteLinearStringChars(const JS::AutoRequireNoGC& nogc, JSLinearString* linear)",
                "line": 828
            }},
            {"old": {
                "content": "GetLatin1AtomChars(const JS::AutoCheckCannotGC& nogc, JSAtom* atom)",
                "line": 860
            }},
            {"new": {
                "content": "GetLatin1AtomChars(const JS::AutoRequireNoGC& nogc, JSAtom* atom)",
                "line": 860
            }},
            {"old": {
                "content": "GetTwoByteAtomChars(const JS::AutoCheckCannotGC& nogc, JSAtom* atom)",
                "line": 865
            }},
            {"new": {
                "content": "GetTwoByteAtomChars(const JS::AutoRequireNoGC& nogc, JSAtom* atom)",
                "line": 865
            }},
            {"old": {
                "content": "JS_GetSharedArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 1954
            }},
            {"new": {
                "content": "JS_GetSharedArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 1954
            }},
            {"old": {
                "content": "JS_GetArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2054
            }},
            {"new": {
                "content": "JS_GetArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2054
            }},
            {"old": {
                "content": "JS_GetInt8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2124
            }},
            {"new": {
                "content": "JS_GetInt8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2124
            }},
            {"old": {
                "content": "JS_GetUint8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2126
            }},
            {"new": {
                "content": "JS_GetUint8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2126
            }},
            {"old": {
                "content": "JS_GetUint8ClampedArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2128
            }},
            {"new": {
                "content": "JS_GetUint8ClampedArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2128
            }},
            {"old": {
                "content": "JS_GetInt16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2130
            }},
            {"new": {
                "content": "JS_GetInt16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2130
            }},
            {"old": {
                "content": "JS_GetUint16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2132
            }},
            {"new": {
                "content": "JS_GetUint16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2132
            }},
            {"old": {
                "content": "JS_GetInt32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2134
            }},
            {"new": {
                "content": "JS_GetInt32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2134
            }},
            {"old": {
                "content": "JS_GetUint32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2136
            }},
            {"new": {
                "content": "JS_GetUint32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2136
            }},
            {"old": {
                "content": "JS_GetFloat32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2138
            }},
            {"new": {
                "content": "JS_GetFloat32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2138
            }},
            {"old": {
                "content": "JS_GetFloat64ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2140
            }},
            {"new": {
                "content": "JS_GetFloat64ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2140
            }},
            {"old": {
                "content": "JS_GetArrayBufferViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2146
            }},
            {"new": {
                "content": "JS_GetArrayBufferViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2146
            }},
            {"old": {
                "content": "JS_GetDataViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&);",
                "line": 2225
            }},
            {"new": {
                "content": "JS_GetDataViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&);",
                "line": 2225
            }}
        ],
        "new": {"name": "/js/src/jsfriendapi.h"},
        "old": {"name": "/js/src/jsfriendapi.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/TypeTraits.h\"",
                "line": 195
            }},
            {"new": {
                "content": "#include <initializer_list>",
                "line": 198
            }},
            {"new": {
                "content": "using mozilla::Move;",
                "line": 258
            }},
            {"old": {
                "content": "// Incremental sweeping is controlled by a list of actions that describe what",
                "line": 409
            }},
            {"old": {
                "content": "// happens and in what order. Due to the incremental nature of sweeping an",
                "line": 410
            }},
            {"old": {
                "content": "// action does not necessarily run to completion so the current state is tracked",
                "line": 411
            }},
            {"old": {
                "content": "// in the GCRuntime by the performSweepActions() method. We may yield to the",
                "line": 412
            }},
            {"old": {
                "content": "// mutator after running part of any action.",
                "line": 413
            }},
            {"old": {
                "content": "//",
                "line": 414
            }},
            {"old": {
                "content": "// There are two types of action: per-sweep-group and per-zone.",
                "line": 415
            }},
            {"old": {
                "content": "//",
                "line": 416
            }},
            {"old": {
                "content": "// Per-sweep-group actions are run first. Per-zone actions are grouped into",
                "line": 417
            }},
            {"old": {
                "content": "// phases, with each phase run once per sweep group, and each action in it run",
                "line": 418
            }},
            {"old": {
                "content": "// for every zone in the group.",
                "line": 419
            }},
            {"old": {
                "content": "//",
                "line": 420
            }},
            {"old": {
                "content": "// This is illustrated by the following pseudocode:",
                "line": 421
            }},
            {"old": {
                "content": "//",
                "line": 422
            }},
            {"old": {
                "content": "//   for each sweep group:",
                "line": 423
            }},
            {"old": {
                "content": "//     for each per-sweep-group action:",
                "line": 424
            }},
            {"old": {
                "content": "//       run part or all of action",
                "line": 425
            }},
            {"old": {
                "content": "//       maybe yield to the mutator",
                "line": 426
            }},
            {"old": {
                "content": "//     for each per-zone phase:",
                "line": 427
            }},
            {"old": {
                "content": "//       for each zone in sweep group:",
                "line": 428
            }},
            {"old": {
                "content": "//         for each action in phase:",
                "line": 429
            }},
            {"old": {
                "content": "//           run part or all of action",
                "line": 430
            }},
            {"old": {
                "content": "//           maybe yield to the mutator",
                "line": 431
            }},
            {"old": {
                "content": "//",
                "line": 432
            }},
            {"old": {
                "content": "// Progress through the loops is stored in GCRuntime, e.g. |sweepActionIndex|",
                "line": 433
            }},
            {"old": {
                "content": "// for looping through the sweep actions.",
                "line": 434
            }},
            {"old": {
                "content": "",
                "line": 435
            }},
            {"old": {
                "content": "using PerSweepGroupSweepAction = IncrementalProgress (*)(GCRuntime* gc, SliceBudget& budget);",
                "line": 436
            }},
            {"old": {
                "content": "",
                "line": 437
            }},
            {"old": {
                "content": "struct PerZoneSweepAction",
                "line": 438
            }},
            {"old": {
                "content": "{",
                "line": 439
            }},
            {"old": {
                "content": "    using Func = IncrementalProgress (*)(GCRuntime* gc, FreeOp* fop, Zone* zone,",
                "line": 440
            }},
            {"old": {
                "content": "                                         SliceBudget& budget, AllocKind kind);",
                "line": 441
            }},
            {"old": {
                "content": "",
                "line": 442
            }},
            {"old": {
                "content": "    Func func;",
                "line": 443
            }},
            {"old": {
                "content": "    AllocKind kind;",
                "line": 444
            }},
            {"old": {
                "content": "",
                "line": 445
            }},
            {"old": {
                "content": "    PerZoneSweepAction(Func func, AllocKind kind) : func(func), kind(kind) {}",
                "line": 446
            }},
            {"old": {
                "content": "};",
                "line": 447
            }},
            {"old": {
                "content": "",
                "line": 448
            }},
            {"old": {
                "content": "using PerSweepGroupActionVector = Vector<PerSweepGroupSweepAction, 0, SystemAllocPolicy>;",
                "line": 449
            }},
            {"old": {
                "content": "using PerZoneSweepActionVector = Vector<PerZoneSweepAction, 0, SystemAllocPolicy>;",
                "line": 450
            }},
            {"old": {
                "content": "using PerZoneSweepPhaseVector = Vector<PerZoneSweepActionVector, 0, SystemAllocPolicy>;",
                "line": 451
            }},
            {"old": {
                "content": "",
                "line": 452
            }},
            {"old": {
                "content": "static PerSweepGroupActionVector PerSweepGroupSweepActions;",
                "line": 453
            }},
            {"old": {
                "content": "static PerZoneSweepPhaseVector PerZoneSweepPhases;",
                "line": 454
            }},
            {"old": {
                "content": "",
                "line": 455
            }},
            {"old": {
                "content": "bool",
                "line": 456
            }},
            {"old": {
                "content": "js::gc::InitializeStaticData()",
                "line": 457
            }},
            {"old": {
                "content": "{",
                "line": 458
            }},
            {"old": {
                "content": "    return GCRuntime::initializeSweepActions();",
                "line": 459
            }},
            {"old": {
                "content": "}",
                "line": 460
            }},
            {"old": {
                "content": "",
                "line": 461
            }},
            {"old": {
                "content": "    sweepPhaseIndex(0),",
                "line": 915
            }},
            {"old": {
                "content": "    sweepActionIndex(0),",
                "line": 917
            }},
            {"new": {
                "content": "    if (!initSweepActions())",
                "line": 1134
            }},
            {"new": {
                "content": "        return false;",
                "line": 1135
            }},
            {"new": {
                "content": "",
                "line": 1136
            }},
            {"old": {
                "content": "      : GCParallelTask(mozilla::Move(other)), cache(other.cache)",
                "line": 5041
            }},
            {"new": {
                "content": "      : GCParallelTask(Move(other)), cache(other.cache)",
                "line": 4992
            }},
            {"old": {
                "content": "    sweepActionList = PerSweepGroupActionList;",
                "line": 5414
            }},
            {"old": {
                "content": "    sweepActionIndex = 0;",
                "line": 5415
            }},
            {"old": {
                "content": "    sweepPhaseIndex = 0;",
                "line": 5416
            }},
            {"old": {
                "content": "    sweepZone = nullptr;",
                "line": 5417
            }},
            {"new": {
                "content": "    sweepActions->assertFinished();",
                "line": 5366
            }},
            {"new": {
                "content": "    sweepActions->assertFinished();",
                "line": 5371
            }},
            {"new": {
                "content": "",
                "line": 5372
            }},
            {"old": {
                "content": "GCRuntime::sweepTypeInformation(GCRuntime* gc, FreeOp* fop, Zone* zone, SliceBudget& budget,",
                "line": 5570
            }},
            {"old": {
                "content": "                                AllocKind kind)",
                "line": 5571
            }},
            {"new": {
                "content": "GCRuntime::sweepTypeInformation(GCRuntime* gc, FreeOp* fop, SliceBudget& budget, Zone* zone)",
                "line": 5520
            }},
            {"old": {
                "content": "    MOZ_ASSERT(kind == AllocKind::LIMIT);",
                "line": 5580
            }},
            {"old": {
                "content": "",
                "line": 5581
            }},
            {"old": {
                "content": "GCRuntime::mergeSweptObjectArenas(GCRuntime* gc, FreeOp* fop, Zone* zone, SliceBudget& budget,",
                "line": 5606
            }},
            {"old": {
                "content": "                                  AllocKind kind)",
                "line": 5607
            }},
            {"new": {
                "content": "GCRuntime::mergeSweptObjectArenas(GCRuntime* gc, FreeOp* fop, SliceBudget& budget, Zone* zone)",
                "line": 5553
            }},
            {"old": {
                "content": "    MOZ_ASSERT(kind == AllocKind::LIMIT);",
                "line": 5612
            }},
            {"old": {
                "content": "GCRuntime::sweepAtomsTable(GCRuntime* gc, SliceBudget& budget)",
                "line": 5640
            }},
            {"new": {
                "content": "GCRuntime::sweepAtomsTable(GCRuntime* gc, FreeOp* fop, SliceBudget& budget)",
                "line": 5585
            }},
            {"old": {
                "content": "",
                "line": 5646
            }},
            {"old": {
                "content": "GCRuntime::sweepWeakCaches(GCRuntime* gc, SliceBudget& budget)",
                "line": 5782
            }},
            {"new": {
                "content": "GCRuntime::sweepWeakCaches(GCRuntime* gc, FreeOp* fop, SliceBudget& budget)",
                "line": 5726
            }},
            {"old": {
                "content": "GCRuntime::finalizeAllocKind(GCRuntime* gc, FreeOp* fop, Zone* zone, SliceBudget& budget,",
                "line": 5817
            }},
            {"new": {
                "content": "GCRuntime::finalizeAllocKind(GCRuntime* gc, FreeOp* fop, SliceBudget& budget, Zone* zone,",
                "line": 5761
            }},
            {"old": {
                "content": "GCRuntime::sweepShapeTree(GCRuntime* gc, FreeOp* fop, Zone* zone, SliceBudget& budget,",
                "line": 5834
            }},
            {"old": {
                "content": "                          AllocKind kind)",
                "line": 5835
            }},
            {"new": {
                "content": "GCRuntime::sweepShapeTree(GCRuntime* gc, FreeOp* fop, SliceBudget& budget, Zone* zone)",
                "line": 5778
            }},
            {"old": {
                "content": "    MOZ_ASSERT(kind == AllocKind::LIMIT);",
                "line": 5838
            }},
            {"old": {
                "content": "",
                "line": 5839
            }},
            {"old": {
                "content": "static void",
                "line": 5848
            }},
            {"old": {
                "content": "AddPerSweepGroupSweepAction(bool* ok, PerSweepGroupSweepAction action)",
                "line": 5849
            }},
            {"old": {
                "content": "{",
                "line": 5850
            }},
            {"old": {
                "content": "    if (*ok)",
                "line": 5851
            }},
            {"old": {
                "content": "        *ok = PerSweepGroupSweepActions.emplaceBack(action);",
                "line": 5852
            }},
            {"old": {
                "content": "}",
                "line": 5853
            }},
            {"old": {
                "content": "",
                "line": 5854
            }},
            {"old": {
                "content": "static void",
                "line": 5855
            }},
            {"old": {
                "content": "AddPerZoneSweepPhase(bool* ok)",
                "line": 5856
            }},
            {"old": {
                "content": "{",
                "line": 5857
            }},
            {"old": {
                "content": "    if (*ok)",
                "line": 5858
            }},
            {"old": {
                "content": "        *ok = PerZoneSweepPhases.emplaceBack();",
                "line": 5859
            }},
            {"old": {
                "content": "}",
                "line": 5860
            }},
            {"old": {
                "content": "",
                "line": 5861
            }},
            {"old": {
                "content": "static void",
                "line": 5862
            }},
            {"old": {
                "content": "AddPerZoneSweepAction(bool* ok, PerZoneSweepAction::Func func, AllocKind kind = AllocKind::LIMIT)",
                "line": 5863
            }},
            {"old": {
                "content": "{",
                "line": 5864
            }},
            {"old": {
                "content": "    if (*ok)",
                "line": 5865
            }},
            {"old": {
                "content": "        *ok = PerZoneSweepPhases.back().emplaceBack(func, kind);",
                "line": 5866
            }},
            {"old": {
                "content": "}",
                "line": 5867
            }},
            {"old": {
                "content": "",
                "line": 5868
            }},
            {"old": {
                "content": "/* static */ bool",
                "line": 5869
            }},
            {"old": {
                "content": "GCRuntime::initializeSweepActions()",
                "line": 5870
            }},
            {"old": {
                "content": "{",
                "line": 5871
            }},
            {"old": {
                "content": "    bool ok = true;",
                "line": 5872
            }},
            {"old": {
                "content": "",
                "line": 5873
            }},
            {"old": {
                "content": "    AddPerSweepGroupSweepAction(&ok, GCRuntime::sweepAtomsTable);",
                "line": 5874
            }},
            {"old": {
                "content": "    AddPerSweepGroupSweepAction(&ok, GCRuntime::sweepWeakCaches);",
                "line": 5875
            }},
            {"old": {
                "content": "",
                "line": 5876
            }},
            {"old": {
                "content": "    AddPerZoneSweepPhase(&ok);",
                "line": 5877
            }},
            {"old": {
                "content": "    for (auto kind : ForegroundObjectFinalizePhase.kinds)",
                "line": 5878
            }},
            {"old": {
                "content": "        AddPerZoneSweepAction(&ok, GCRuntime::finalizeAllocKind, kind);",
                "line": 5879
            }},
            {"old": {
                "content": "",
                "line": 5880
            }},
            {"old": {
                "content": "    AddPerZoneSweepPhase(&ok);",
                "line": 5881
            }},
            {"old": {
                "content": "    AddPerZoneSweepAction(&ok, GCRuntime::sweepTypeInformation);",
                "line": 5882
            }},
            {"old": {
                "content": "    AddPerZoneSweepAction(&ok, GCRuntime::mergeSweptObjectArenas);",
                "line": 5883
            }},
            {"old": {
                "content": "",
                "line": 5884
            }},
            {"old": {
                "content": "    for (const auto& finalizePhase : IncrementalFinalizePhases) {",
                "line": 5885
            }},
            {"old": {
                "content": "        AddPerZoneSweepPhase(&ok);",
                "line": 5886
            }},
            {"old": {
                "content": "        for (auto kind : finalizePhase.kinds)",
                "line": 5887
            }},
            {"old": {
                "content": "            AddPerZoneSweepAction(&ok, GCRuntime::finalizeAllocKind, kind);",
                "line": 5888
            }},
            {"old": {
                "content": "    }",
                "line": 5889
            }},
            {"old": {
                "content": "",
                "line": 5890
            }},
            {"old": {
                "content": "    AddPerZoneSweepPhase(&ok);",
                "line": 5891
            }},
            {"old": {
                "content": "    AddPerZoneSweepAction(&ok, GCRuntime::sweepShapeTree);",
                "line": 5892
            }},
            {"old": {
                "content": "",
                "line": 5893
            }},
            {"old": {
                "content": "    return ok;",
                "line": 5894
            }},
            {"old": {
                "content": "}",
                "line": 5895
            }},
            {"old": {
                "content": "",
                "line": 5896
            }},
            {"old": {
                "content": "static inline SweepActionList",
                "line": 5897
            }},
            {"old": {
                "content": "NextSweepActionList(SweepActionList list)",
                "line": 5898
            }},
            {"old": {
                "content": "{",
                "line": 5899
            }},
            {"old": {
                "content": "    MOZ_ASSERT(list < SweepActionListCount);",
                "line": 5900
            }},
            {"old": {
                "content": "    return SweepActionList(unsigned(list) + 1);",
                "line": 5901
            }},
            {"new": {
                "content": "// An iterator for a standard container that provides an STL-like begin()/end()",
                "line": 5789
            }},
            {"new": {
                "content": "// interface. This iterator provides a done()/get()/next() style interface.",
                "line": 5790
            }},
            {"new": {
                "content": "template <typename Container>",
                "line": 5791
            }},
            {"new": {
                "content": "class ContainerIter",
                "line": 5792
            }},
            {"new": {
                "content": "{",
                "line": 5793
            }},
            {"new": {
                "content": "    using Iter = decltype(mozilla::DeclVal<const Container>().begin());",
                "line": 5794
            }},
            {"new": {
                "content": "    using Elem = decltype(*mozilla::DeclVal<Iter>());",
                "line": 5795
            }},
            {"new": {
                "content": "",
                "line": 5796
            }},
            {"new": {
                "content": "    Iter iter;",
                "line": 5797
            }},
            {"new": {
                "content": "    const Iter end;",
                "line": 5798
            }},
            {"new": {
                "content": "",
                "line": 5799
            }},
            {"new": {
                "content": "  public:",
                "line": 5800
            }},
            {"new": {
                "content": "    explicit ContainerIter(const Container& container)",
                "line": 5801
            }},
            {"new": {
                "content": "      : iter(container.begin()), end(container.end())",
                "line": 5802
            }},
            {"new": {
                "content": "    {}",
                "line": 5803
            }},
            {"new": {
                "content": "",
                "line": 5804
            }},
            {"new": {
                "content": "    bool done() const {",
                "line": 5805
            }},
            {"new": {
                "content": "        return iter == end;",
                "line": 5806
            }},
            {"new": {
                "content": "    }",
                "line": 5807
            }},
            {"new": {
                "content": "",
                "line": 5808
            }},
            {"new": {
                "content": "    Elem get() const {",
                "line": 5809
            }},
            {"new": {
                "content": "        return *iter;",
                "line": 5810
            }},
            {"new": {
                "content": "    }",
                "line": 5811
            }},
            {"new": {
                "content": "",
                "line": 5812
            }},
            {"new": {
                "content": "    void next() {",
                "line": 5813
            }},
            {"new": {
                "content": "        MOZ_ASSERT(!done());",
                "line": 5814
            }},
            {"new": {
                "content": "        ++iter;",
                "line": 5815
            }},
            {"new": {
                "content": "    }",
                "line": 5816
            }},
            {"new": {
                "content": "};",
                "line": 5817
            }},
            {"new": {
                "content": "",
                "line": 5818
            }},
            {"new": {
                "content": "// IncrementalIter is a template class that makes a normal iterator into one",
                "line": 5819
            }},
            {"new": {
                "content": "// that can be used to perform incremental work by using external state that",
                "line": 5820
            }},
            {"new": {
                "content": "// persists between instantiations. The state is only initialised on the first",
                "line": 5821
            }},
            {"new": {
                "content": "// use and subsequent uses carry on from the previous state.",
                "line": 5822
            }},
            {"new": {
                "content": "template <typename Iter>",
                "line": 5823
            }},
            {"new": {
                "content": "struct IncrementalIter",
                "line": 5824
            }},
            {"new": {
                "content": "{",
                "line": 5825
            }},
            {"new": {
                "content": "    using State = Maybe<Iter>;",
                "line": 5826
            }},
            {"new": {
                "content": "    using Elem = decltype(mozilla::DeclVal<Iter>().get());",
                "line": 5827
            }},
            {"new": {
                "content": "",
                "line": 5828
            }},
            {"new": {
                "content": "  private:",
                "line": 5829
            }},
            {"new": {
                "content": "    State& maybeIter;",
                "line": 5830
            }},
            {"new": {
                "content": "",
                "line": 5831
            }},
            {"new": {
                "content": "  public:",
                "line": 5832
            }},
            {"new": {
                "content": "    template <typename... Args>",
                "line": 5833
            }},
            {"new": {
                "content": "    explicit IncrementalIter(State& maybeIter, Args&&... args)",
                "line": 5834
            }},
            {"new": {
                "content": "      : maybeIter(maybeIter)",
                "line": 5835
            }},
            {"new": {
                "content": "    {",
                "line": 5836
            }},
            {"new": {
                "content": "        if (maybeIter.isNothing())",
                "line": 5837
            }},
            {"new": {
                "content": "            maybeIter.emplace(mozilla::Forward<Args>(args)...);",
                "line": 5838
            }},
            {"new": {
                "content": "    }",
                "line": 5839
            }},
            {"new": {
                "content": "",
                "line": 5840
            }},
            {"new": {
                "content": "    ~IncrementalIter() {",
                "line": 5841
            }},
            {"new": {
                "content": "        if (done())",
                "line": 5842
            }},
            {"new": {
                "content": "            maybeIter.reset();",
                "line": 5843
            }},
            {"new": {
                "content": "    }",
                "line": 5844
            }},
            {"new": {
                "content": "",
                "line": 5845
            }},
            {"new": {
                "content": "    bool done() const {",
                "line": 5846
            }},
            {"new": {
                "content": "        return maybeIter.ref().done();",
                "line": 5847
            }},
            {"new": {
                "content": "    }",
                "line": 5848
            }},
            {"new": {
                "content": "",
                "line": 5849
            }},
            {"new": {
                "content": "    Elem get() const {",
                "line": 5850
            }},
            {"new": {
                "content": "        return maybeIter.ref().get();",
                "line": 5851
            }},
            {"new": {
                "content": "    }",
                "line": 5852
            }},
            {"new": {
                "content": "",
                "line": 5853
            }},
            {"new": {
                "content": "    void next() {",
                "line": 5854
            }},
            {"new": {
                "content": "        maybeIter.ref().next();",
                "line": 5855
            }},
            {"new": {
                "content": "    }",
                "line": 5856
            }},
            {"new": {
                "content": "};",
                "line": 5857
            }},
            {"new": {
                "content": "",
                "line": 5858
            }},
            {"new": {
                "content": "// Implementation of the SweepAction interface that calls a function.",
                "line": 5859
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 5860
            }},
            {"new": {
                "content": "class SweepActionFunc : public SweepAction<Args...>",
                "line": 5861
            }},
            {"new": {
                "content": "{",
                "line": 5862
            }},
            {"new": {
                "content": "    using Func = IncrementalProgress (*)(Args...);",
                "line": 5863
            }},
            {"new": {
                "content": "",
                "line": 5864
            }},
            {"new": {
                "content": "    Func func;",
                "line": 5865
            }},
            {"new": {
                "content": "",
                "line": 5866
            }},
            {"new": {
                "content": "  public:",
                "line": 5867
            }},
            {"new": {
                "content": "    explicit SweepActionFunc(Func f) : func(f) {}",
                "line": 5868
            }},
            {"new": {
                "content": "    IncrementalProgress run(Args... args) override {",
                "line": 5869
            }},
            {"new": {
                "content": "        return func(args...);",
                "line": 5870
            }},
            {"new": {
                "content": "    }",
                "line": 5871
            }},
            {"new": {
                "content": "    void assertFinished() const override { }",
                "line": 5872
            }},
            {"new": {
                "content": "};",
                "line": 5873
            }},
            {"new": {
                "content": "",
                "line": 5874
            }},
            {"new": {
                "content": "// Implementation of the SweepAction interface that calls a list of actions in",
                "line": 5875
            }},
            {"new": {
                "content": "// sequence.",
                "line": 5876
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 5877
            }},
            {"new": {
                "content": "class SweepActionSequence : public SweepAction<Args...>",
                "line": 5878
            }},
            {"new": {
                "content": "{",
                "line": 5879
            }},
            {"new": {
                "content": "    using Action = SweepAction<Args...>;",
                "line": 5880
            }},
            {"new": {
                "content": "    using ActionVector = Vector<UniquePtr<Action>, 0, SystemAllocPolicy>;",
                "line": 5881
            }},
            {"new": {
                "content": "    using Iter = IncrementalIter<ContainerIter<ActionVector>>;",
                "line": 5882
            }},
            {"new": {
                "content": "",
                "line": 5883
            }},
            {"new": {
                "content": "    ActionVector actions;",
                "line": 5884
            }},
            {"new": {
                "content": "    typename Iter::State iterState;",
                "line": 5885
            }},
            {"new": {
                "content": "",
                "line": 5886
            }},
            {"new": {
                "content": "  public:",
                "line": 5887
            }},
            {"new": {
                "content": "    bool init(UniquePtr<Action>* acts, size_t count) {",
                "line": 5888
            }},
            {"new": {
                "content": "        for (size_t i = 0; i < count; i++) {",
                "line": 5889
            }},
            {"new": {
                "content": "            if (!actions.emplaceBack(Move(acts[i])))",
                "line": 5890
            }},
            {"new": {
                "content": "                return false;",
                "line": 5891
            }},
            {"new": {
                "content": "        }",
                "line": 5892
            }},
            {"new": {
                "content": "        return true;",
                "line": 5893
            }},
            {"new": {
                "content": "    }",
                "line": 5894
            }},
            {"new": {
                "content": "",
                "line": 5895
            }},
            {"new": {
                "content": "    IncrementalProgress run(Args... args) override {",
                "line": 5896
            }},
            {"new": {
                "content": "        for (Iter iter(iterState, actions); !iter.done(); iter.next()) {",
                "line": 5897
            }},
            {"new": {
                "content": "            if (iter.get()->run(args...) == NotFinished)",
                "line": 5898
            }},
            {"new": {
                "content": "                return NotFinished;",
                "line": 5899
            }},
            {"new": {
                "content": "        }",
                "line": 5900
            }},
            {"new": {
                "content": "        return Finished;",
                "line": 5901
            }},
            {"new": {
                "content": "    }",
                "line": 5902
            }},
            {"new": {
                "content": "",
                "line": 5903
            }},
            {"new": {
                "content": "    void assertFinished() const override {",
                "line": 5904
            }},
            {"new": {
                "content": "        MOZ_ASSERT(iterState.isNothing());",
                "line": 5905
            }},
            {"new": {
                "content": "        for (const auto& action : actions)",
                "line": 5906
            }},
            {"new": {
                "content": "            action->assertFinished();",
                "line": 5907
            }},
            {"new": {
                "content": "    }",
                "line": 5908
            }},
            {"new": {
                "content": "};",
                "line": 5909
            }},
            {"new": {
                "content": "",
                "line": 5910
            }},
            {"new": {
                "content": "template <typename Iter, typename Init, typename... Args>",
                "line": 5911
            }},
            {"new": {
                "content": "class SweepActionForEach : public SweepAction<Args...>",
                "line": 5912
            }},
            {"new": {
                "content": "{",
                "line": 5913
            }},
            {"new": {
                "content": "    using Elem = decltype(mozilla::DeclVal<Iter>().get());",
                "line": 5914
            }},
            {"new": {
                "content": "    using Action = SweepAction<Args..., Elem>;",
                "line": 5915
            }},
            {"new": {
                "content": "    using IncrIter = IncrementalIter<Iter>;",
                "line": 5916
            }},
            {"new": {
                "content": "",
                "line": 5917
            }},
            {"new": {
                "content": "    Init iterInit;",
                "line": 5918
            }},
            {"new": {
                "content": "    UniquePtr<Action> action;",
                "line": 5919
            }},
            {"new": {
                "content": "    typename IncrIter::State iterState;",
                "line": 5920
            }},
            {"new": {
                "content": "",
                "line": 5921
            }},
            {"new": {
                "content": "  public:",
                "line": 5922
            }},
            {"new": {
                "content": "    SweepActionForEach(const Init& init, UniquePtr<Action> action)",
                "line": 5923
            }},
            {"new": {
                "content": "      : iterInit(init), action(Move(action))",
                "line": 5924
            }},
            {"new": {
                "content": "    {}",
                "line": 5925
            }},
            {"new": {
                "content": "",
                "line": 5926
            }},
            {"new": {
                "content": "    IncrementalProgress run(Args... args) override {",
                "line": 5927
            }},
            {"new": {
                "content": "        for (IncrIter iter(iterState, iterInit); !iter.done(); iter.next()) {",
                "line": 5928
            }},
            {"new": {
                "content": "            if (action->run(args..., iter.get()) == NotFinished)",
                "line": 5929
            }},
            {"new": {
                "content": "                return NotFinished;",
                "line": 5930
            }},
            {"new": {
                "content": "        }",
                "line": 5931
            }},
            {"new": {
                "content": "        return Finished;",
                "line": 5932
            }},
            {"new": {
                "content": "    }",
                "line": 5933
            }},
            {"new": {
                "content": "",
                "line": 5934
            }},
            {"new": {
                "content": "    void assertFinished() const override {",
                "line": 5935
            }},
            {"new": {
                "content": "        MOZ_ASSERT(iterState.isNothing());",
                "line": 5936
            }},
            {"new": {
                "content": "        action->assertFinished();",
                "line": 5937
            }},
            {"new": {
                "content": "    }",
                "line": 5938
            }},
            {"new": {
                "content": "};",
                "line": 5939
            }},
            {"new": {
                "content": "",
                "line": 5940
            }},
            {"new": {
                "content": "// Helper class to remove the last template parameter from the instantiation of",
                "line": 5941
            }},
            {"new": {
                "content": "// a variadic template. For example:",
                "line": 5942
            }},
            {"new": {
                "content": "//",
                "line": 5943
            }},
            {"new": {
                "content": "//   RemoveLastTemplateParameter<Foo<X, Y, Z>>::Type ==> Foo<X, Y>",
                "line": 5944
            }},
            {"new": {
                "content": "//",
                "line": 5945
            }},
            {"new": {
                "content": "// This works by recursively instantiating the Impl template with the contents",
                "line": 5946
            }},
            {"new": {
                "content": "// of the parameter pack so long as there are at least two parameters. The",
                "line": 5947
            }},
            {"new": {
                "content": "// specialization that matches when only one parameter remains discards it and",
                "line": 5948
            }},
            {"new": {
                "content": "// instantiates the target template with parameters previously processed.",
                "line": 5949
            }},
            {"new": {
                "content": "template <typename T>",
                "line": 5950
            }},
            {"new": {
                "content": "class RemoveLastTemplateParameter {};",
                "line": 5951
            }},
            {"new": {
                "content": "",
                "line": 5952
            }},
            {"new": {
                "content": "template <template <typename...> class Target, typename... Args>",
                "line": 5953
            }},
            {"new": {
                "content": "class RemoveLastTemplateParameter<Target<Args...>>",
                "line": 5954
            }},
            {"new": {
                "content": "{",
                "line": 5955
            }},
            {"new": {
                "content": "    template <typename... Ts>",
                "line": 5956
            }},
            {"new": {
                "content": "    struct List {};",
                "line": 5957
            }},
            {"new": {
                "content": "",
                "line": 5958
            }},
            {"new": {
                "content": "    template <typename R, typename... Ts>",
                "line": 5959
            }},
            {"new": {
                "content": "    struct Impl {};",
                "line": 5960
            }},
            {"new": {
                "content": "",
                "line": 5961
            }},
            {"new": {
                "content": "    template <typename... Rs, typename T>",
                "line": 5962
            }},
            {"new": {
                "content": "    struct Impl<List<Rs...>, T>",
                "line": 5963
            }},
            {"new": {
                "content": "    {",
                "line": 5964
            }},
            {"new": {
                "content": "        using Type = Target<Rs...>;",
                "line": 5965
            }},
            {"new": {
                "content": "    };",
                "line": 5966
            }},
            {"new": {
                "content": "",
                "line": 5967
            }},
            {"new": {
                "content": "    template <typename... Rs, typename H, typename T, typename... Ts>",
                "line": 5968
            }},
            {"new": {
                "content": "    struct Impl<List<Rs...>, H, T, Ts...>",
                "line": 5969
            }},
            {"new": {
                "content": "    {",
                "line": 5970
            }},
            {"new": {
                "content": "        using Type = typename Impl<List<Rs..., H>, T, Ts...>::Type;",
                "line": 5971
            }},
            {"new": {
                "content": "    };",
                "line": 5972
            }},
            {"new": {
                "content": "",
                "line": 5973
            }},
            {"new": {
                "content": "  public:",
                "line": 5974
            }},
            {"new": {
                "content": "    using Type = typename Impl<List<>, Args...>::Type;",
                "line": 5975
            }},
            {"new": {
                "content": "};",
                "line": 5976
            }},
            {"new": {
                "content": "",
                "line": 5977
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 5978
            }},
            {"new": {
                "content": "static UniquePtr<SweepAction<Args...>>",
                "line": 5979
            }},
            {"new": {
                "content": "SweepFunc(IncrementalProgress (*func)(Args...)) {",
                "line": 5980
            }},
            {"new": {
                "content": "    return MakeUnique<SweepActionFunc<Args...>>(func);",
                "line": 5981
            }},
            {"new": {
                "content": "}",
                "line": 5982
            }},
            {"new": {
                "content": "",
                "line": 5983
            }},
            {"new": {
                "content": "template <typename... Args, typename... Rest>",
                "line": 5984
            }},
            {"new": {
                "content": "static UniquePtr<SweepAction<Args...>>",
                "line": 5985
            }},
            {"new": {
                "content": "SweepSequence(UniquePtr<SweepAction<Args...>> first, Rest... rest)",
                "line": 5986
            }},
            {"new": {
                "content": "{",
                "line": 5987
            }},
            {"new": {
                "content": "    UniquePtr<SweepAction<Args...>> actions[] = { Move(first), Move(rest)... };",
                "line": 5988
            }},
            {"new": {
                "content": "    auto seq = MakeUnique<SweepActionSequence<Args...>>();",
                "line": 5989
            }},
            {"new": {
                "content": "    if (!seq || !seq->init(actions, ArrayLength(actions)))",
                "line": 5990
            }},
            {"new": {
                "content": "        return nullptr;",
                "line": 5991
            }},
            {"new": {
                "content": "",
                "line": 5992
            }},
            {"new": {
                "content": "    return UniquePtr<SweepAction<Args...>>(Move(seq));",
                "line": 5993
            }},
            {"new": {
                "content": "}",
                "line": 5994
            }},
            {"new": {
                "content": "",
                "line": 5995
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 5996
            }},
            {"new": {
                "content": "static UniquePtr<typename RemoveLastTemplateParameter<SweepAction<Args...>>::Type>",
                "line": 5997
            }},
            {"new": {
                "content": "SweepForEachZone(JSRuntime* rt, UniquePtr<SweepAction<Args...>> action)",
                "line": 5998
            }},
            {"new": {
                "content": "{",
                "line": 5999
            }},
            {"new": {
                "content": "    if (!action)",
                "line": 6000
            }},
            {"new": {
                "content": "        return nullptr;",
                "line": 6001
            }},
            {"new": {
                "content": "",
                "line": 6002
            }},
            {"new": {
                "content": "    using Action = typename RemoveLastTemplateParameter<",
                "line": 6003
            }},
            {"new": {
                "content": "        SweepActionForEach<GCSweepGroupIter, JSRuntime*, Args...>>::Type;",
                "line": 6004
            }},
            {"new": {
                "content": "    return js::MakeUnique<Action>(rt, Move(action));",
                "line": 6005
            }},
            {"new": {
                "content": "}",
                "line": 6006
            }},
            {"new": {
                "content": "",
                "line": 6007
            }},
            {"new": {
                "content": "template <typename... Args>",
                "line": 6008
            }},
            {"new": {
                "content": "static UniquePtr<typename RemoveLastTemplateParameter<SweepAction<Args...>>::Type>",
                "line": 6009
            }},
            {"new": {
                "content": "SweepForEachAllocKind(AllocKinds kinds, UniquePtr<SweepAction<Args...>> action)",
                "line": 6010
            }},
            {"new": {
                "content": "{",
                "line": 6011
            }},
            {"new": {
                "content": "    if (!action)",
                "line": 6012
            }},
            {"new": {
                "content": "        return nullptr;",
                "line": 6013
            }},
            {"new": {
                "content": "",
                "line": 6014
            }},
            {"new": {
                "content": "    using Action = typename RemoveLastTemplateParameter<",
                "line": 6015
            }},
            {"new": {
                "content": "        SweepActionForEach<ContainerIter<AllocKinds>, AllocKinds, Args...>>::Type;",
                "line": 6016
            }},
            {"new": {
                "content": "    return js::MakeUnique<Action>(kinds, Move(action));",
                "line": 6017
            }},
            {"new": {
                "content": "}",
                "line": 6018
            }},
            {"new": {
                "content": "",
                "line": 6019
            }},
            {"new": {
                "content": "bool",
                "line": 6020
            }},
            {"new": {
                "content": "GCRuntime::initSweepActions()",
                "line": 6021
            }},
            {"new": {
                "content": "{",
                "line": 6022
            }},
            {"new": {
                "content": "    sweepActions.ref() = SweepSequence(",
                "line": 6023
            }},
            {"new": {
                "content": "        SweepFunc(sweepAtomsTable),",
                "line": 6024
            }},
            {"new": {
                "content": "        SweepFunc(sweepWeakCaches),",
                "line": 6025
            }},
            {"new": {
                "content": "        SweepForEachZone(rt,",
                "line": 6026
            }},
            {"new": {
                "content": "            SweepForEachAllocKind(ForegroundObjectFinalizePhase.kinds,",
                "line": 6027
            }},
            {"new": {
                "content": "                SweepFunc(finalizeAllocKind))),",
                "line": 6028
            }},
            {"new": {
                "content": "        SweepForEachZone(rt,",
                "line": 6029
            }},
            {"new": {
                "content": "            SweepSequence(",
                "line": 6030
            }},
            {"new": {
                "content": "                SweepFunc(sweepTypeInformation),",
                "line": 6031
            }},
            {"new": {
                "content": "                SweepFunc(mergeSweptObjectArenas))),",
                "line": 6032
            }},
            {"new": {
                "content": "        SweepForEachZone(rt,",
                "line": 6033
            }},
            {"new": {
                "content": "            SweepForEachAllocKind(IncrementalFinalizePhases[0].kinds,",
                "line": 6034
            }},
            {"new": {
                "content": "                SweepFunc(finalizeAllocKind))),",
                "line": 6035
            }},
            {"new": {
                "content": "        SweepForEachZone(rt,",
                "line": 6036
            }},
            {"new": {
                "content": "            SweepForEachAllocKind(IncrementalFinalizePhases[1].kinds,",
                "line": 6037
            }},
            {"new": {
                "content": "                SweepFunc(finalizeAllocKind))),",
                "line": 6038
            }},
            {"new": {
                "content": "        SweepForEachZone(rt,",
                "line": 6039
            }},
            {"new": {
                "content": "            SweepFunc(sweepShapeTree)));",
                "line": 6040
            }},
            {"new": {
                "content": "",
                "line": 6041
            }},
            {"new": {
                "content": "    static_assert(ArrayLength(IncrementalFinalizePhases) == 2,",
                "line": 6042
            }},
            {"new": {
                "content": "                  \"We must have a phase for each element in IncrementalFinalizePhases\");",
                "line": 6043
            }},
            {"new": {
                "content": "",
                "line": 6044
            }},
            {"new": {
                "content": "    return sweepActions != nullptr;",
                "line": 6045
            }},
            {"old": {
                "content": "        for (; sweepActionList < SweepActionListCount;",
                "line": 5912
            }},
            {"old": {
                "content": "             sweepActionList = NextSweepActionList(sweepActionList))",
                "line": 5913
            }},
            {"old": {
                "content": "        {",
                "line": 5914
            }},
            {"old": {
                "content": "            switch (sweepActionList) {",
                "line": 5915
            }},
            {"old": {
                "content": "              case PerSweepGroupActionList: {",
                "line": 5916
            }},
            {"old": {
                "content": "                const auto& actions = PerSweepGroupSweepActions;",
                "line": 5917
            }},
            {"old": {
                "content": "                for (; sweepActionIndex < actions.length(); sweepActionIndex++) {",
                "line": 5918
            }},
            {"old": {
                "content": "                    auto action = actions[sweepActionIndex];",
                "line": 5919
            }},
            {"old": {
                "content": "                    if (action(this, budget) == NotFinished)",
                "line": 5920
            }},
            {"old": {
                "content": "                        return NotFinished;",
                "line": 5921
            }},
            {"old": {
                "content": "                }",
                "line": 5922
            }},
            {"old": {
                "content": "                sweepActionIndex = 0;",
                "line": 5923
            }},
            {"old": {
                "content": "                break;",
                "line": 5924
            }},
            {"old": {
                "content": "              }",
                "line": 5925
            }},
            {"old": {
                "content": "",
                "line": 5926
            }},
            {"old": {
                "content": "              case PerZoneActionList:",
                "line": 5927
            }},
            {"old": {
                "content": "                for (; sweepPhaseIndex < PerZoneSweepPhases.length(); sweepPhaseIndex++) {",
                "line": 5928
            }},
            {"old": {
                "content": "                    const auto& actions = PerZoneSweepPhases[sweepPhaseIndex];",
                "line": 5929
            }},
            {"old": {
                "content": "                    if (!sweepZone)",
                "line": 5930
            }},
            {"old": {
                "content": "                        sweepZone = currentSweepGroup;",
                "line": 5931
            }},
            {"old": {
                "content": "                    for (; sweepZone; sweepZone = sweepZone->nextNodeInGroup()) {",
                "line": 5932
            }},
            {"old": {
                "content": "                        for (; sweepActionIndex < actions.length(); sweepActionIndex++) {",
                "line": 5933
            }},
            {"old": {
                "content": "                            const auto& action = actions[sweepActionIndex];",
                "line": 5934
            }},
            {"old": {
                "content": "                            if (action.func(this, &fop, sweepZone, budget, action.kind) == NotFinished)",
                "line": 5935
            }},
            {"old": {
                "content": "                                return NotFinished;",
                "line": 5936
            }},
            {"old": {
                "content": "                        }",
                "line": 5937
            }},
            {"old": {
                "content": "                        sweepActionIndex = 0;",
                "line": 5938
            }},
            {"old": {
                "content": "                    }",
                "line": 5939
            }},
            {"old": {
                "content": "                    sweepZone = nullptr;",
                "line": 5940
            }},
            {"old": {
                "content": "                }",
                "line": 5941
            }},
            {"old": {
                "content": "                sweepPhaseIndex = 0;",
                "line": 5942
            }},
            {"old": {
                "content": "                break;",
                "line": 5943
            }},
            {"old": {
                "content": "",
                "line": 5944
            }},
            {"old": {
                "content": "              default:",
                "line": 5945
            }},
            {"old": {
                "content": "                MOZ_CRASH(\"Unexpected sweepActionList value\");",
                "line": 5946
            }},
            {"old": {
                "content": "            }",
                "line": 5947
            }},
            {"old": {
                "content": "        }",
                "line": 5948
            }},
            {"old": {
                "content": "        sweepActionList = PerSweepGroupActionList;",
                "line": 5949
            }},
            {"new": {
                "content": "        if (sweepActions->run(this, &fop, budget) == NotFinished)",
                "line": 6056
            }},
            {"new": {
                "content": "           return NotFinished;",
                "line": 6057
            }},
            {"old": {
                "content": "    cx_->inUnsafeRegion++;",
                "line": 7794
            }},
            {"new": {
                "content": "    if (cx_)",
                "line": 7902
            }},
            {"new": {
                "content": "        cx_->inUnsafeRegion++;",
                "line": 7903
            }},
            {"old": {
                "content": "    MOZ_ASSERT(cx_->inUnsafeRegion > 0);",
                "line": 7798
            }},
            {"old": {
                "content": "    cx_->inUnsafeRegion--;",
                "line": 7799
            }},
            {"new": {
                "content": "    if (cx_) {",
                "line": 7907
            }},
            {"new": {
                "content": "        MOZ_ASSERT(cx_->inUnsafeRegion > 0);",
                "line": 7908
            }},
            {"new": {
                "content": "        cx_->inUnsafeRegion--;",
                "line": 7909
            }},
            {"new": {
                "content": "    }",
                "line": 7910
            }},
            {"old": {
                "content": "JS::AutoAssertNoAlloc::AutoAssertNoAlloc(JSContext* cx)",
                "line": 7802
            }},
            {"old": {
                "content": "  : gc(nullptr)",
                "line": 7803
            }},
            {"old": {
                "content": "{",
                "line": 7804
            }},
            {"old": {
                "content": "    disallowAlloc(cx->runtime());",
                "line": 7805
            }},
            {"old": {
                "content": "}",
                "line": 7806
            }},
            {"old": {
                "content": "",
                "line": 7807
            }},
            {"old": {
                "content": "void JS::AutoAssertNoAlloc::disallowAlloc(JSRuntime* rt)",
                "line": 7808
            }},
            {"old": {
                "content": "{",
                "line": 7809
            }},
            {"old": {
                "content": "    MOZ_ASSERT(!gc);",
                "line": 7810
            }},
            {"old": {
                "content": "    gc = &rt->gc;",
                "line": 7811
            }},
            {"old": {
                "content": "    TlsContext.get()->disallowAlloc();",
                "line": 7812
            }},
            {"old": {
                "content": "}",
                "line": 7813
            }},
            {"old": {
                "content": "",
                "line": 7814
            }},
            {"old": {
                "content": "JS::AutoAssertNoAlloc::~AutoAssertNoAlloc()",
                "line": 7815
            }},
            {"old": {
                "content": "{",
                "line": 7816
            }},
            {"old": {
                "content": "    if (gc)",
                "line": 7817
            }},
            {"old": {
                "content": "        TlsContext.get()->allowAlloc();",
                "line": 7818
            }},
            {"old": {
                "content": "}",
                "line": 7819
            }},
            {"old": {
                "content": "",
                "line": 7820
            }}
        ],
        "new": {"name": "/js/src/jsgc.cpp"},
        "old": {"name": "/js/src/jsgc.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  private:",
                "line": 438
            }}
        ],
        "new": {"name": "/js/src/jsgcinlines.h"},
        "old": {"name": "/js/src/jsgcinlines.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 1616
            }},
            {"new": {
                "content": "JS_GetArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 1616
            }},
            {"old": {
                "content": "JS_GetArrayBufferViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 1832
            }},
            {"new": {
                "content": "JS_GetArrayBufferViewData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 1832
            }}
        ],
        "new": {"name": "/js/src/vm/ArrayBufferObject.cpp"},
        "old": {"name": "/js/src/vm/ArrayBufferObject.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"vm/AsyncFunction.h\"",
                "line": 34
            }},
            {"new": {
                "content": "#include \"vm/AsyncIteration.h\"",
                "line": 35
            }},
            {"new": {
                "content": "/*",
                "line": 229
            }},
            {"new": {
                "content": " * If fun is an interpreted function, remove any async function/generator",
                "line": 230
            }},
            {"new": {
                "content": " * wrapper and return the underlying scripted function. Otherwise, return fun",
                "line": 231
            }},
            {"new": {
                "content": " * unchanged.",
                "line": 232
            }},
            {"new": {
                "content": " *",
                "line": 233
            }},
            {"new": {
                "content": " * Async functions are implemented as native functions wrapped around a scripted",
                "line": 234
            }},
            {"new": {
                "content": " * function. JSScripts hold ordinary inner JSFunctions in their object arrays,",
                "line": 235
            }},
            {"new": {
                "content": " * and when we need to actually create a JS-visible function object, we build an",
                "line": 236
            }},
            {"new": {
                "content": " * ordinary JS closure and apply the async wrapper to it. Async generators are",
                "line": 237
            }},
            {"new": {
                "content": " * similar.",
                "line": 238
            }},
            {"new": {
                "content": " *",
                "line": 239
            }},
            {"new": {
                "content": " * This means that JSFunction::isInterpreted returns false for such functions,",
                "line": 240
            }},
            {"new": {
                "content": " * even though their actual code is indeed JavaScript. Debugger should treat",
                "line": 241
            }},
            {"new": {
                "content": " * async functions and generators like any other scripted function, so we must",
                "line": 242
            }},
            {"new": {
                "content": " * carefully check for them whenever we want inspect a function.",
                "line": 243
            }},
            {"new": {
                "content": " */",
                "line": 244
            }},
            {"new": {
                "content": "",
                "line": 245
            }},
            {"new": {
                "content": "static JSFunction*",
                "line": 246
            }},
            {"new": {
                "content": "RemoveAsyncWrapper(JSFunction *fun)",
                "line": 247
            }},
            {"new": {
                "content": "{",
                "line": 248
            }},
            {"new": {
                "content": "    if (js::IsWrappedAsyncFunction(fun))",
                "line": 249
            }},
            {"new": {
                "content": "        fun = js::GetUnwrappedAsyncFunction(fun);",
                "line": 250
            }},
            {"new": {
                "content": "    else if (js::IsWrappedAsyncGenerator(fun))",
                "line": 251
            }},
            {"new": {
                "content": "        fun = js::GetUnwrappedAsyncGenerator(fun);",
                "line": 252
            }},
            {"new": {
                "content": "",
                "line": 253
            }},
            {"new": {
                "content": "    return fun;",
                "line": 254
            }},
            {"new": {
                "content": "}",
                "line": 255
            }},
            {"new": {
                "content": "",
                "line": 256
            }},
            {"old": {
                "content": "        if (callee->isInterpreted()) {",
                "line": 8786
            }},
            {"old": {
                "content": "            RootedScript script(cx, callee->nonLazyScript());",
                "line": 8787
            }},
            {"old": {
                "content": "            scriptObject = debug->wrapScript(cx, script);",
                "line": 8788
            }},
            {"old": {
                "content": "            if (!scriptObject)",
                "line": 8789
            }},
            {"old": {
                "content": "                return false;",
                "line": 8790
            }},
            {"old": {
                "content": "        }",
                "line": 8791
            }},
            {"new": {
                "content": "        MOZ_ASSERT(callee->isInterpreted());",
                "line": 8816
            }},
            {"new": {
                "content": "        RootedScript script(cx, callee->nonLazyScript());",
                "line": 8817
            }},
            {"new": {
                "content": "        scriptObject = debug->wrapScript(cx, script);",
                "line": 8818
            }},
            {"new": {
                "content": "        if (!scriptObject)",
                "line": 8819
            }},
            {"new": {
                "content": "            return false;",
                "line": 8820
            }},
            {"old": {
                "content": "    args.rval().setObjectOrNull(scriptObject);",
                "line": 8807
            }},
            {"new": {
                "content": "",
                "line": 8836
            }},
            {"new": {
                "content": "    MOZ_ASSERT(scriptObject);",
                "line": 8837
            }},
            {"new": {
                "content": "    args.rval().setObject(*scriptObject);",
                "line": 8838
            }},
            {"old": {
                "content": "    RootedFunction fun(cx, &obj->as<JSFunction>());",
                "line": 9246
            }},
            {"new": {
                "content": "    RootedFunction fun(cx, RemoveAsyncWrapper(&obj->as<JSFunction>()));",
                "line": 9277
            }},
            {"old": {
                "content": "    if (!obj->is<JSFunction>() || !obj->as<JSFunction>().isInterpreted()) {",
                "line": 9276
            }},
            {"new": {
                "content": "    if (!obj->is<JSFunction>()) {",
                "line": 9307
            }},
            {"new": {
                "content": "        args.rval().setUndefined();",
                "line": 9308
            }},
            {"new": {
                "content": "        return true;",
                "line": 9309
            }},
            {"new": {
                "content": "    }",
                "line": 9310
            }},
            {"new": {
                "content": "",
                "line": 9311
            }},
            {"new": {
                "content": "    RootedFunction fun(cx, RemoveAsyncWrapper(&obj->as<JSFunction>()));",
                "line": 9312
            }},
            {"new": {
                "content": "    if (!fun->isInterpreted()) {",
                "line": 9313
            }},
            {"old": {
                "content": "    if (!dbg->observesGlobal(&obj->global())) {",
                "line": 9281
            }},
            {"new": {
                "content": "    if (!dbg->observesGlobal(&fun->global())) {",
                "line": 9318
            }},
            {"old": {
                "content": "        AutoCompartment ac(cx, obj);",
                "line": 9287
            }},
            {"old": {
                "content": "        RootedFunction fun(cx, &obj->as<JSFunction>());",
                "line": 9288
            }},
            {"new": {
                "content": "        AutoCompartment ac(cx, fun);",
                "line": 9324
            }},
            {"old": {
                "content": "    return referent()->as<JSFunction>().isArrow();",
                "line": 10177
            }},
            {"new": {
                "content": "    return RemoveAsyncWrapper(&referent()->as<JSFunction>())->isArrow();",
                "line": 10213
            }},
            {"old": {
                "content": "    RootedFunction referent(cx, &object->referent()->as<JSFunction>());",
                "line": 10285
            }},
            {"new": {
                "content": "    RootedFunction referent(cx, RemoveAsyncWrapper(&object->referent()->as<JSFunction>()));",
                "line": 10321
            }}
        ],
        "new": {"name": "/js/src/vm/Debugger.cpp"},
        "old": {"name": "/js/src/vm/Debugger.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    RETURN_IF_FAIL(js::gc::InitializeStaticData());",
                "line": 105
            }}
        ],
        "new": {"name": "/js/src/vm/Initialization.cpp"},
        "old": {"name": "/js/src/vm/Initialization.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetSharedArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 514
            }},
            {"new": {
                "content": "JS_GetSharedArrayBufferData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 514
            }}
        ],
        "new": {"name": "/js/src/vm/SharedArrayObject.cpp"},
        "old": {"name": "/js/src/vm/SharedArrayObject.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    const CharT* nonInlineChars(const JS::AutoCheckCannotGC& nogc) const;",
                "line": 652
            }},
            {"new": {
                "content": "    const CharT* nonInlineChars(const JS::AutoRequireNoGC& nogc) const;",
                "line": 652
            }},
            {"old": {
                "content": "    const JS::Latin1Char* nonInlineLatin1Chars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 654
            }},
            {"new": {
                "content": "    const JS::Latin1Char* nonInlineLatin1Chars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 654
            }},
            {"old": {
                "content": "    const char16_t* nonInlineTwoByteChars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 660
            }},
            {"new": {
                "content": "    const char16_t* nonInlineTwoByteChars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 660
            }},
            {"old": {
                "content": "    const CharT* chars(const JS::AutoCheckCannotGC& nogc) const;",
                "line": 667
            }},
            {"new": {
                "content": "    const CharT* chars(const JS::AutoRequireNoGC& nogc) const;",
                "line": 667
            }},
            {"old": {
                "content": "    const JS::Latin1Char* latin1Chars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 669
            }},
            {"new": {
                "content": "    const JS::Latin1Char* latin1Chars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 669
            }},
            {"old": {
                "content": "    const char16_t* twoByteChars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 673
            }},
            {"new": {
                "content": "    const char16_t* twoByteChars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 673
            }},
            {"old": {
                "content": "    mozilla::Range<const JS::Latin1Char> latin1Range(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 676
            }},
            {"new": {
                "content": "    mozilla::Range<const JS::Latin1Char> latin1Range(const JS::AutoRequireNoGC& nogc) const {",
                "line": 676
            }},
            {"old": {
                "content": "    mozilla::Range<const char16_t> twoByteRange(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 680
            }},
            {"new": {
                "content": "    mozilla::Range<const char16_t> twoByteRange(const JS::AutoRequireNoGC& nogc) const {",
                "line": 680
            }},
            {"old": {
                "content": "    const JS::Latin1Char* latin1Chars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 864
            }},
            {"new": {
                "content": "    const JS::Latin1Char* latin1Chars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 864
            }},
            {"old": {
                "content": "    const char16_t* twoByteChars(const JS::AutoCheckCannotGC& nogc) const {",
                "line": 870
            }},
            {"new": {
                "content": "    const char16_t* twoByteChars(const JS::AutoRequireNoGC& nogc) const {",
                "line": 870
            }},
            {"old": {
                "content": "JSLinearString::nonInlineChars(const JS::AutoCheckCannotGC& nogc) const",
                "line": 1425
            }},
            {"new": {
                "content": "JSLinearString::nonInlineChars(const JS::AutoRequireNoGC& nogc) const",
                "line": 1425
            }},
            {"old": {
                "content": "JSLinearString::nonInlineChars(const JS::AutoCheckCannotGC& nogc) const",
                "line": 1431
            }},
            {"new": {
                "content": "JSLinearString::nonInlineChars(const JS::AutoRequireNoGC& nogc) const",
                "line": 1431
            }},
            {"old": {
                "content": "JSLinearString::chars(const JS::AutoCheckCannotGC& nogc) const",
                "line": 1437
            }},
            {"new": {
                "content": "JSLinearString::chars(const JS::AutoRequireNoGC& nogc) const",
                "line": 1437
            }},
            {"old": {
                "content": "JSLinearString::chars(const JS::AutoCheckCannotGC& nogc) const",
                "line": 1443
            }},
            {"new": {
                "content": "JSLinearString::chars(const JS::AutoRequireNoGC& nogc) const",
                "line": 1443
            }}
        ],
        "new": {"name": "/js/src/vm/String.h"},
        "old": {"name": "/js/src/vm/String.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "JS_GetInt8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2350
            }},
            {"new": {
                "content": "JS_GetInt8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2350
            }},
            {"old": {
                "content": "JS_GetUint8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2361
            }},
            {"new": {
                "content": "JS_GetUint8ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2361
            }},
            {"old": {
                "content": "JS_GetUint8ClampedArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2372
            }},
            {"new": {
                "content": "JS_GetUint8ClampedArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2372
            }},
            {"old": {
                "content": "JS_GetInt16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2383
            }},
            {"new": {
                "content": "JS_GetInt16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2383
            }},
            {"old": {
                "content": "JS_GetUint16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2394
            }},
            {"new": {
                "content": "JS_GetUint16ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2394
            }},
            {"old": {
                "content": "JS_GetInt32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2405
            }},
            {"new": {
                "content": "JS_GetInt32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2405
            }},
            {"old": {
                "content": "JS_GetUint32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2416
            }},
            {"new": {
                "content": "JS_GetUint32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2416
            }},
            {"old": {
                "content": "JS_GetFloat32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2427
            }},
            {"new": {
                "content": "JS_GetFloat32ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2427
            }},
            {"old": {
                "content": "JS_GetFloat64ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoCheckCannotGC&)",
                "line": 2438
            }},
            {"new": {
                "content": "JS_GetFloat64ArrayData(JSObject* obj, bool* isSharedMemory, const JS::AutoRequireNoGC&)",
                "line": 2438
            }}
        ],
        "new": {"name": "/js/src/vm/TypedArrayObject.cpp"},
        "old": {"name": "/js/src/vm/TypedArrayObject.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    size_t bytecodeSize, compiledSize;",
                "line": 8494
            }},
            {"old": {
                "content": "    module.serializedSize(&bytecodeSize, &compiledSize);",
                "line": 8495
            }},
            {"new": {
                "content": "    size_t bytecodeSize = module.bytecodeSerializedSize();",
                "line": 8494
            }},
            {"new": {
                "content": "",
                "line": 8496
            }},
            {"new": {
                "content": "    size_t compiledSize = module.compiledSerializedSize();",
                "line": 8497
            }},
            {"old": {
                "content": "    module.serialize(/* bytecodeBegin = */ nullptr, /* bytecodeSize = */ 0, cursor, compiledSize);",
                "line": 8524
            }},
            {"new": {
                "content": "    module.compiledSerialize(cursor, compiledSize);",
                "line": 8525
            }}
        ],
        "new": {"name": "/js/src/wasm/AsmJS.cpp"},
        "old": {"name": "/js/src/wasm/AsmJS.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* virtual */ void",
                "line": 213
            }},
            {"old": {
                "content": "Module::serializedSize(size_t* maybeBytecodeSize, size_t* maybeCompiledSize) const",
                "line": 214
            }},
            {"new": {
                "content": "/* virtual */ size_t",
                "line": 213
            }},
            {"new": {
                "content": "Module::bytecodeSerializedSize() const",
                "line": 214
            }},
            {"old": {
                "content": "    if (maybeBytecodeSize)",
                "line": 216
            }},
            {"old": {
                "content": "        *maybeBytecodeSize = bytecode_->bytes.length();",
                "line": 217
            }},
            {"old": {
                "content": "",
                "line": 218
            }},
            {"old": {
                "content": "    // The compiled debug code must not be saved, set compiled size to 0,",
                "line": 219
            }},
            {"old": {
                "content": "    // so Module::assumptionsMatch will return false during assumptions",
                "line": 220
            }},
            {"old": {
                "content": "    // deserialization.",
                "line": 221
            }},
            {"old": {
                "content": "    if (maybeCompiledSize && metadata().debugEnabled)",
                "line": 222
            }},
            {"old": {
                "content": "        *maybeCompiledSize = 0;",
                "line": 223
            }},
            {"old": {
                "content": "",
                "line": 224
            }},
            {"old": {
                "content": "    if (maybeCompiledSize && !metadata().debugEnabled) {",
                "line": 225
            }},
            {"old": {
                "content": "        *maybeCompiledSize = assumptions_.serializedSize() +",
                "line": 226
            }},
            {"old": {
                "content": "                             linkData_.serializedSize() +",
                "line": 227
            }},
            {"old": {
                "content": "                             SerializedVectorSize(imports_) +",
                "line": 228
            }},
            {"old": {
                "content": "                             SerializedVectorSize(exports_) +",
                "line": 229
            }},
            {"old": {
                "content": "                             SerializedPodVectorSize(dataSegments_) +",
                "line": 230
            }},
            {"old": {
                "content": "                             SerializedVectorSize(elemSegments_) +",
                "line": 231
            }},
            {"old": {
                "content": "                             code_->serializedSize();",
                "line": 232
            }},
            {"old": {
                "content": "    }",
                "line": 233
            }},
            {"new": {
                "content": "    return bytecode_->bytes.length();",
                "line": 216
            }},
            {"old": {
                "content": "Module::serialize(uint8_t* maybeBytecodeBegin, size_t maybeBytecodeSize,",
                "line": 236
            }},
            {"old": {
                "content": "                  uint8_t* maybeCompiledBegin, size_t maybeCompiledSize) const",
                "line": 237
            }},
            {"new": {
                "content": "Module::bytecodeSerialize(uint8_t* bytecodeBegin, size_t bytecodeSize) const",
                "line": 219
            }},
            {"old": {
                "content": "    MOZ_ASSERT(!!maybeBytecodeBegin == !!maybeBytecodeSize);",
                "line": 239
            }},
            {"old": {
                "content": "    MOZ_ASSERT(!!maybeCompiledBegin == !!maybeCompiledSize);",
                "line": 240
            }},
            {"new": {
                "content": "    MOZ_ASSERT(!!bytecodeBegin == !!bytecodeSize);",
                "line": 221
            }},
            {"new": {
                "content": "",
                "line": 222
            }},
            {"new": {
                "content": "    // Bytecode deserialization is not guarded by Assumptions and thus must not",
                "line": 223
            }},
            {"new": {
                "content": "    // change incompatibly between builds. For simplicity, the format of the",
                "line": 224
            }},
            {"new": {
                "content": "    // bytecode file is a .wasm file which ensures backwards compatibility.",
                "line": 225
            }},
            {"new": {
                "content": "",
                "line": 226
            }},
            {"new": {
                "content": "    const Bytes& bytes = bytecode_->bytes;",
                "line": 227
            }},
            {"new": {
                "content": "    uint8_t* bytecodeEnd = WriteBytes(bytecodeBegin, bytes.begin(), bytes.length());",
                "line": 228
            }},
            {"new": {
                "content": "    MOZ_RELEASE_ASSERT(bytecodeEnd == bytecodeBegin + bytecodeSize);",
                "line": 229
            }},
            {"new": {
                "content": "}",
                "line": 230
            }},
            {"old": {
                "content": "    if (maybeBytecodeBegin) {",
                "line": 241
            }},
            {"old": {
                "content": "        // Bytecode deserialization is not guarded by Assumptions and thus must not",
                "line": 242
            }},
            {"old": {
                "content": "        // change incompatibly between builds. Thus, for simplicity, the format",
                "line": 243
            }},
            {"old": {
                "content": "        // of the bytecode file is simply a .wasm file (thus, backwards",
                "line": 244
            }},
            {"old": {
                "content": "        // compatibility is ensured by backwards compatibility of the wasm",
                "line": 245
            }},
            {"old": {
                "content": "        // binary format).",
                "line": 246
            }},
            {"new": {
                "content": "/* virtual */ size_t",
                "line": 231
            }},
            {"new": {
                "content": "Module::compiledSerializedSize() const",
                "line": 232
            }},
            {"new": {
                "content": "{",
                "line": 233
            }},
            {"new": {
                "content": "    // The compiled debug code must not be saved, set compiled size to 0,",
                "line": 234
            }},
            {"new": {
                "content": "    // so Module::assumptionsMatch will return false during assumptions",
                "line": 235
            }},
            {"new": {
                "content": "    // deserialization.",
                "line": 236
            }},
            {"new": {
                "content": "    if (metadata().debugEnabled)",
                "line": 237
            }},
            {"new": {
                "content": "        return 0;",
                "line": 238
            }},
            {"old": {
                "content": "        const Bytes& bytes = bytecode_->bytes;",
                "line": 247
            }},
            {"old": {
                "content": "        uint8_t* bytecodeEnd = WriteBytes(maybeBytecodeBegin, bytes.begin(), bytes.length());",
                "line": 248
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(bytecodeEnd == maybeBytecodeBegin + maybeBytecodeSize);",
                "line": 249
            }},
            {"new": {
                "content": "    return assumptions_.serializedSize() +",
                "line": 239
            }},
            {"new": {
                "content": "           linkData_.serializedSize() +",
                "line": 240
            }},
            {"new": {
                "content": "           SerializedVectorSize(imports_) +",
                "line": 241
            }},
            {"new": {
                "content": "           SerializedVectorSize(exports_) +",
                "line": 242
            }},
            {"new": {
                "content": "           SerializedPodVectorSize(dataSegments_) +",
                "line": 243
            }},
            {"new": {
                "content": "           SerializedVectorSize(elemSegments_) +",
                "line": 244
            }},
            {"new": {
                "content": "           code_->serializedSize();",
                "line": 245
            }},
            {"new": {
                "content": "}",
                "line": 246
            }},
            {"new": {
                "content": "",
                "line": 247
            }},
            {"new": {
                "content": "/* virtual */ void",
                "line": 248
            }},
            {"new": {
                "content": "Module::compiledSerialize(uint8_t* compiledBegin, size_t compiledSize) const",
                "line": 249
            }},
            {"new": {
                "content": "{",
                "line": 250
            }},
            {"new": {
                "content": "    if (metadata().debugEnabled) {",
                "line": 251
            }},
            {"new": {
                "content": "        MOZ_RELEASE_ASSERT(compiledSize == 0);",
                "line": 252
            }},
            {"new": {
                "content": "        return;",
                "line": 253
            }},
            {"old": {
                "content": "    MOZ_ASSERT_IF(maybeCompiledBegin && metadata().debugEnabled, maybeCompiledSize == 0);",
                "line": 251
            }},
            {"old": {
                "content": "",
                "line": 252
            }},
            {"old": {
                "content": "    if (maybeCompiledBegin && !metadata().debugEnabled) {",
                "line": 253
            }},
            {"old": {
                "content": "        // Assumption must be serialized at the beginning of the compiled bytes so",
                "line": 254
            }},
            {"old": {
                "content": "        // that compiledAssumptionsMatch can detect a build-id mismatch before any",
                "line": 255
            }},
            {"old": {
                "content": "        // other decoding occurs.",
                "line": 256
            }},
            {"new": {
                "content": "    // Assumption must be serialized at the beginning of the compiled bytes so",
                "line": 255
            }},
            {"new": {
                "content": "    // that compiledAssumptionsMatch can detect a build-id mismatch before any",
                "line": 256
            }},
            {"new": {
                "content": "    // other decoding occurs.",
                "line": 257
            }},
            {"old": {
                "content": "        uint8_t* cursor = maybeCompiledBegin;",
                "line": 257
            }},
            {"old": {
                "content": "        cursor = assumptions_.serialize(cursor);",
                "line": 258
            }},
            {"old": {
                "content": "        cursor = linkData_.serialize(cursor);",
                "line": 259
            }},
            {"old": {
                "content": "        cursor = SerializeVector(cursor, imports_);",
                "line": 260
            }},
            {"old": {
                "content": "        cursor = SerializeVector(cursor, exports_);",
                "line": 261
            }},
            {"old": {
                "content": "        cursor = SerializePodVector(cursor, dataSegments_);",
                "line": 262
            }},
            {"old": {
                "content": "        cursor = SerializeVector(cursor, elemSegments_);",
                "line": 263
            }},
            {"old": {
                "content": "        cursor = code_->serialize(cursor, linkData_);",
                "line": 264
            }},
            {"old": {
                "content": "        MOZ_RELEASE_ASSERT(cursor == maybeCompiledBegin + maybeCompiledSize);",
                "line": 265
            }},
            {"old": {
                "content": "    }",
                "line": 266
            }},
            {"new": {
                "content": "    uint8_t* cursor = compiledBegin;",
                "line": 258
            }},
            {"new": {
                "content": "    cursor = assumptions_.serialize(cursor);",
                "line": 259
            }},
            {"new": {
                "content": "    cursor = linkData_.serialize(cursor);",
                "line": 260
            }},
            {"new": {
                "content": "    cursor = SerializeVector(cursor, imports_);",
                "line": 261
            }},
            {"new": {
                "content": "    cursor = SerializeVector(cursor, exports_);",
                "line": 262
            }},
            {"new": {
                "content": "    cursor = SerializePodVector(cursor, dataSegments_);",
                "line": 263
            }},
            {"new": {
                "content": "    cursor = SerializeVector(cursor, elemSegments_);",
                "line": 264
            }},
            {"new": {
                "content": "    cursor = code_->serialize(cursor, linkData_);",
                "line": 265
            }},
            {"new": {
                "content": "    MOZ_RELEASE_ASSERT(cursor == compiledBegin + compiledSize);",
                "line": 266
            }}
        ],
        "new": {"name": "/js/src/wasm/WasmModule.cpp"},
        "old": {"name": "/js/src/wasm/WasmModule.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void serializedSize(size_t* maybeBytecodeSize, size_t* maybeCompiledSize) const override;",
                "line": 188
            }},
            {"old": {
                "content": "    void serialize(uint8_t* maybeBytecodeBegin, size_t maybeBytecodeSize,",
                "line": 189
            }},
            {"old": {
                "content": "                   uint8_t* maybeCompiledBegin, size_t maybeCompiledSize) const override;",
                "line": 190
            }},
            {"new": {
                "content": "    size_t bytecodeSerializedSize() const override;",
                "line": 188
            }},
            {"new": {
                "content": "    void bytecodeSerialize(uint8_t* bytecodeBegin, size_t bytecodeSize) const override;",
                "line": 189
            }},
            {"new": {
                "content": "    size_t compiledSerializedSize() const override;",
                "line": 190
            }},
            {"new": {
                "content": "    void compiledSerialize(uint8_t* compiledBegin, size_t compiledSize) const override;",
                "line": 191
            }},
            {"new": {
                "content": "",
                "line": 192
            }}
        ],
        "new": {"name": "/js/src/wasm/WasmModule.h"},
        "old": {"name": "/js/src/wasm/WasmModule.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"ScriptLoader::FinishCompile\",",
                "line": 121
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 122
            }},
            {"old": {
                "content": "                          scriptCompiler.forget());",
                "line": 123
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, scriptCompiler.forget());",
                "line": 121
            }}
        ],
        "new": {"name": "/js/xpconnect/loader/ChromeScriptLoader.cpp"},
        "old": {"name": "/js/xpconnect/loader/ChromeScriptLoader.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      nsresult rv = mDocument->Dispatch(\"PresShell::FireResizeEvent\",",
                "line": 2030
            }},
            {"old": {
                "content": "                                        TaskCategory::Other,",
                "line": 2031
            }},
            {"new": {
                "content": "      nsresult rv = mDocument->Dispatch(TaskCategory::Other,",
                "line": 2030
            }},
            {"old": {
                "content": "    mDocument->Dispatch(\"PresShell::UpdateApproximateFrameVisibility\",",
                "line": 6227
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 6228
            }},
            {"old": {
                "content": "                        do_AddRef(event));",
                "line": 6229
            }},
            {"new": {
                "content": "    mDocument->Dispatch(TaskCategory::Other, do_AddRef(event));",
                "line": 6226
            }}
        ],
        "new": {"name": "/layout/base/PresShell.cpp"},
        "old": {"name": "/layout/base/PresShell.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    mDocument->Dispatch(\"ZoomConstraintsClient::RefreshZoomConstraints\",",
                "line": 164
            }},
            {"old": {
                "content": "                        TaskCategory::Other,",
                "line": 165
            }},
            {"old": {
                "content": "                        event.forget());",
                "line": 166
            }},
            {"new": {
                "content": "    mDocument->Dispatch(TaskCategory::Other, event.forget());",
                "line": 164
            }}
        ],
        "new": {"name": "/layout/base/ZoomConstraintsClient.cpp"},
        "old": {"name": "/layout/base/ZoomConstraintsClient.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/363729-1.html"},
        "old": {"name": "/layout/base/crashtests/363729-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/363729-2.html"},
        "old": {"name": "/layout/base/crashtests/363729-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/363729-3.html"},
        "old": {"name": "/layout/base/crashtests/363729-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/399994-1.html"},
        "old": {"name": "/layout/base/crashtests/399994-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/468645-1.xhtml"},
        "old": {"name": "/layout/base/crashtests/468645-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/468645-2.xhtml"},
        "old": {"name": "/layout/base/crashtests/468645-2.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:html=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:html=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/468645-3.xhtml"},
        "old": {"name": "/layout/base/crashtests/468645-3.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/470851-1.xhtml"},
        "old": {"name": "/layout/base/crashtests/470851-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/base/crashtests/479114-1.html"},
        "old": {"name": "/layout/base/crashtests/479114-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/crashtests/675246-1.xhtml"},
        "old": {"name": "/layout/base/crashtests/675246-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/base/crashtests/767593-1.html"},
        "old": {"name": "/layout/base/crashtests/767593-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/base/crashtests/767593-2.html"},
        "old": {"name": "/layout/base/crashtests/767593-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "  document->Dispatch(\"nsDocumentShownDispatcher\",",
                "line": 2250
            }},
            {"old": {
                "content": "                      TaskCategory::Other,",
                "line": 2251
            }},
            {"old": {
                "content": "                      event.forget());",
                "line": 2252
            }},
            {"new": {
                "content": "  document->Dispatch(TaskCategory::Other, event.forget());",
                "line": 2250
            }}
        ],
        "new": {"name": "/layout/base/nsDocumentViewer.cpp"},
        "old": {"name": "/layout/base/nsDocumentViewer.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    return Document()->Dispatch(\"CharSetChangingRunnable\",",
                "line": 1124
            }},
            {"old": {
                "content": "                                TaskCategory::Other,",
                "line": 1125
            }},
            {"new": {
                "content": "    return Document()->Dispatch(TaskCategory::Other,",
                "line": 1124
            }},
            {"old": {
                "content": "    nsresult rv = Document()->Dispatch(\"nsPresContext::ThemeChangedInternal\",",
                "line": 1814
            }},
            {"old": {
                "content": "                                       TaskCategory::Other,",
                "line": 1815
            }},
            {"new": {
                "content": "    nsresult rv = Document()->Dispatch(TaskCategory::Other,",
                "line": 1813
            }},
            {"old": {
                "content": "    nsresult rv = Document()->Dispatch(\"nsPresContext::SysColorChangedInternal\",",
                "line": 1880
            }},
            {"old": {
                "content": "                                       TaskCategory::Other,",
                "line": 1881
            }},
            {"new": {
                "content": "    nsresult rv = Document()->Dispatch(TaskCategory::Other,",
                "line": 1878
            }},
            {"old": {
                "content": "      Document()->Dispatch(\"nsPresContext::UIResolutionChangedInternal\",",
                "line": 1921
            }},
            {"old": {
                "content": "                           TaskCategory::Other,",
                "line": 1922
            }},
            {"old": {
                "content": "                           ev.forget());",
                "line": 1923
            }},
            {"new": {
                "content": "      Document()->Dispatch(TaskCategory::Other, ev.forget());",
                "line": 1918
            }},
            {"old": {
                "content": "      Document()->Dispatch(\"nsPresContext::HandleMediaFeatureValuesChangedEvent\",",
                "line": 2168
            }},
            {"old": {
                "content": "                           TaskCategory::Other,",
                "line": 2169
            }},
            {"old": {
                "content": "                           ev.forget());",
                "line": 2170
            }},
            {"new": {
                "content": "      Document()->Dispatch(TaskCategory::Other, ev.forget());",
                "line": 2163
            }},
            {"old": {
                "content": "      Document()->Dispatch(\"nsPresContext::HandleRebuildCounterStyles\",",
                "line": 2393
            }},
            {"old": {
                "content": "                           TaskCategory::Other,",
                "line": 2394
            }},
            {"old": {
                "content": "                           ev.forget());",
                "line": 2395
            }},
            {"new": {
                "content": "      Document()->Dispatch(TaskCategory::Other, ev.forget());",
                "line": 2386
            }},
            {"old": {
                "content": "    Document()->Dispatch(\"RunWillPaintObservers\",",
                "line": 3441
            }},
            {"old": {
                "content": "                         TaskCategory::Other,",
                "line": 3442
            }},
            {"new": {
                "content": "    Document()->Dispatch(TaskCategory::Other,",
                "line": 3432
            }}
        ],
        "new": {"name": "/layout/base/nsPresContext.cpp"},
        "old": {"name": "/layout/base/nsPresContext.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "        pc->Document()->Dispatch(\"nsRefreshDriver::DoRefresh\",",
                "line": 2144
            }},
            {"old": {
                "content": "                                 TaskCategory::Other,",
                "line": 2145
            }},
            {"new": {
                "content": "        pc->Document()->Dispatch(TaskCategory::Other,",
                "line": 2144
            }}
        ],
        "new": {"name": "/layout/base/nsRefreshDriver.cpp"},
        "old": {"name": "/layout/base/nsRefreshDriver.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<iframe id=\"iframe\" src=\"data:text/html,<img id='image' border='0' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAG0lEQVR42mP8z0A%2BYKJA76jmUc2jmkc1U0EzACKcASfOgGoMAAAAAElFTkSuQmCC'>\"></iframe>",
                "line": 11
            }},
            {"new": {
                "content": "<iframe id=\"iframe\" srcdoc=\"<img id='image' border='0' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAG0lEQVR42mP8z0A%2BYKJA76jmUc2jmkc1U0EzACKcASfOgGoMAAAAAElFTkSuQmCC'>\"></iframe>",
                "line": 11
            }}
        ],
        "new": {"name": "/layout/base/tests/bug558663.html"},
        "old": {"name": "/layout/base/tests/bug558663.html"}
    },
    {
        "changes": [
            {"new": {
                "content": "<body onload='window.opener.loaded()'><div style='height:200px; width:100px;'>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/tests/file_bug465448.html"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "<script>window.onload = function() { opener.postMessage('goback', '*'); }</script>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/base/tests/file_bug607529-1.html"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "  file_bug465448.html",
                "line": 3
            }},
            {"old": {
                "content": "support-files = file_bug607529.html",
                "line": 64
            }},
            {"new": {
                "content": "support-files =",
                "line": 65
            }},
            {"new": {
                "content": "  file_bug607529.html",
                "line": 66
            }},
            {"new": {
                "content": "  file_bug607529-1.html",
                "line": 67
            }},
            {"old": {
                "content": "skip-if = toolkit == 'android' # Bug 1355851",
                "line": 330
            }},
            {"new": {
                "content": "skip-if = toolkit == 'android' || (os == 'win' && !e10s) # Bug 1355851, bug 1381932",
                "line": 333
            }}
        ],
        "new": {"name": "/layout/base/tests/mochitest.ini"},
        "old": {"name": "/layout/base/tests/mochitest.ini"}
    },
    {
        "changes": [
            {"old": {
                "content": "var win = window.open(\"data:text/html,<body onload='window.opener.loaded()'><div style='height:200px; width:100px;'>\", \"_blank\", \"width=600,height=600\");",
                "line": 13
            }},
            {"new": {
                "content": "var win = window.open(\"file_bug465448.html\", \"_blank\", \"width=600,height=600\");",
                "line": 13
            }}
        ],
        "new": {"name": "/layout/base/tests/test_bug465448.xul"},
        "old": {"name": "/layout/base/tests/test_bug465448.xul"}
    },
    {
        "changes": [
            {"old": {
                "content": "<iframe id=\"source\" width=\"50\" height=\"50\"",
                "line": 12
            }},
            {"old": {
                "content": "       src=\"data:text/html,%3Chtml%3E%3C%2Fhtml%3E\"></iframe>",
                "line": 13
            }},
            {"new": {
                "content": "<iframe id=\"source\" width=\"50\" height=\"50\" srcdoc=\"<html></html>\"></iframe>",
                "line": 12
            }}
        ],
        "new": {"name": "/layout/base/tests/test_bug469170.html"},
        "old": {"name": "/layout/base/tests/test_bug469170.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!--",
                "line": 35
            }},
            {"old": {
                "content": "iframe source is",
                "line": 36
            }},
            {"old": {
                "content": "<html><body onload='window.scrollTo(0,99999999); document.documentElement.offsetWidth; window.parent.dotest();' style='background: rgb(0,0,255); width: 100px; height: 50100px;'></body></html>",
                "line": 37
            }},
            {"old": {
                "content": "-->",
                "line": 38
            }},
            {"old": {
                "content": "       src=\"data:text/html,%3Chtml%3E%3Cbody%20onload%3D%27window.scrollTo%280%2C99999999%29%3B%20document.documentElement.offsetWidth%3B%20window.parent.dotest%28%29%3B%27%20style%3D%27background%3A%20rgb%280%2C0%2C255%29%3B%20width%3A%20100px%3B%20height%3A%2050100px%3B%27%3E%3C%2Fbody%3E%3C%2Fhtml%3E\"></iframe>",
                "line": 40
            }},
            {"new": {
                "content": "       srcdoc=\"<html><body onload='window.scrollTo(0,99999999); document.documentElement.offsetWidth; window.parent.dotest();' style='background: rgb(0,0,255); width: 100px; height: 50100px;'></body></html>\"></iframe>",
                "line": 36
            }}
        ],
        "new": {"name": "/layout/base/tests/test_bug518777.html"},
        "old": {"name": "/layout/base/tests/test_bug518777.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      w.location = \"data:text/html,<script>window.onload = function() { opener.postMessage('goback', '*'); }</\" + \"script>\";",
                "line": 31
            }},
            {"new": {
                "content": "      w.location = \"file_bug607529-1.html\";",
                "line": 31
            }}
        ],
        "new": {"name": "/layout/base/tests/test_bug607529.html"},
        "old": {"name": "/layout/base/tests/test_bug607529.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/1102791.html"},
        "old": {"name": "/layout/forms/crashtests/1102791.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/1182414.html"},
        "old": {"name": "/layout/forms/crashtests/1182414.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/1279354.html"},
        "old": {"name": "/layout/forms/crashtests/1279354.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/578604-1.html"},
        "old": {"name": "/layout/forms/crashtests/578604-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" xmlns=\"http://www.w3.org/1999/xhtml\" style=\" float: left; white-space: pre; \">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" xmlns=\"http://www.w3.org/1999/xhtml\" style=\" float: left; white-space: pre; \">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/590302-1.xhtml"},
        "old": {"name": "/layout/forms/crashtests/590302-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/959311.html"},
        "old": {"name": "/layout/forms/crashtests/959311.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><body><div style=\"position: fixed;\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><body><div style=\"position: fixed;\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/forms/crashtests/997709-1.html"},
        "old": {"name": "/layout/forms/crashtests/997709-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      nsresult rv = mContent->OwnerDoc()->Dispatch(\"ScrollOnFocusEvent\",",
                "line": 672
            }},
            {"old": {
                "content": "                                                   TaskCategory::Other,",
                "line": 673
            }},
            {"new": {
                "content": "      nsresult rv = mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 672
            }}
        ],
        "new": {"name": "/layout/forms/nsTextControlFrame.cpp"},
        "old": {"name": "/layout/forms/nsTextControlFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/1137723-1.html"},
        "old": {"name": "/layout/generic/crashtests/1137723-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/1137723-2.html"},
        "old": {"name": "/layout/generic/crashtests/1137723-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/255982-1.html"},
        "old": {"name": "/layout/generic/crashtests/255982-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/255982-2.html"},
        "old": {"name": "/layout/generic/crashtests/255982-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/255982-3.html"},
        "old": {"name": "/layout/generic/crashtests/255982-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/255982-4.html"},
        "old": {"name": "/layout/generic/crashtests/255982-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/398322-1.html"},
        "old": {"name": "/layout/generic/crashtests/398322-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/398322-2.html"},
        "old": {"name": "/layout/generic/crashtests/398322-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/480345-1.html"},
        "old": {"name": "/layout/generic/crashtests/480345-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/570160.html"},
        "old": {"name": "/layout/generic/crashtests/570160.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/574958.xhtml"},
        "old": {"name": "/layout/generic/crashtests/574958.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/585598-1.xhtml"},
        "old": {"name": "/layout/generic/crashtests/585598-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/595740-1.html"},
        "old": {"name": "/layout/generic/crashtests/595740-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/generic/crashtests/790260-1.html"},
        "old": {"name": "/layout/generic/crashtests/790260-1.html"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 5393
            }},
            {"new": {
                "content": "static nsSize",
                "line": 5394
            }},
            {"new": {
                "content": "ComputeDesiredDisplaySizeForAnimation(nsIFrame* aContainerFrame)",
                "line": 5395
            }},
            {"new": {
                "content": "{",
                "line": 5396
            }},
            {"new": {
                "content": "  // Use the size of the nearest widget as the maximum size.  This",
                "line": 5397
            }},
            {"new": {
                "content": "  // is important since it might be a popup that is bigger than the",
                "line": 5398
            }},
            {"new": {
                "content": "  // pres context's size.",
                "line": 5399
            }},
            {"new": {
                "content": "  nsPresContext* presContext = aContainerFrame->PresContext();",
                "line": 5400
            }},
            {"new": {
                "content": "  nsIWidget* widget = aContainerFrame->GetNearestWidget();",
                "line": 5401
            }},
            {"new": {
                "content": "  if (widget) {",
                "line": 5402
            }},
            {"new": {
                "content": "    return LayoutDevicePixel::ToAppUnits(widget->GetClientSize(),",
                "line": 5403
            }},
            {"new": {
                "content": "                                         presContext->AppUnitsPerDevPixel());",
                "line": 5404
            }},
            {"new": {
                "content": "  } else {",
                "line": 5405
            }},
            {"new": {
                "content": "    return presContext->GetVisibleArea().Size();",
                "line": 5406
            }},
            {"new": {
                "content": "  }",
                "line": 5407
            }},
            {"new": {
                "content": "}",
                "line": 5408
            }},
            {"new": {
                "content": "",
                "line": 5409
            }},
            {"old": {
                "content": "      // Use the size of the nearest widget as the maximum size.  This",
                "line": 5457
            }},
            {"old": {
                "content": "      // is important since it might be a popup that is bigger than the",
                "line": 5458
            }},
            {"old": {
                "content": "      // pres context's size.",
                "line": 5459
            }},
            {"old": {
                "content": "      nsPresContext* presContext = aContainerFrame->PresContext();",
                "line": 5460
            }},
            {"old": {
                "content": "      nsIWidget* widget = aContainerFrame->GetNearestWidget();",
                "line": 5461
            }},
            {"old": {
                "content": "      nsSize displaySize;",
                "line": 5462
            }},
            {"old": {
                "content": "      if (widget) {",
                "line": 5463
            }},
            {"old": {
                "content": "        LayoutDeviceIntSize widgetSize = widget->GetClientSize();",
                "line": 5464
            }},
            {"old": {
                "content": "        int32_t p2a = presContext->AppUnitsPerDevPixel();",
                "line": 5465
            }},
            {"old": {
                "content": "        displaySize.width = NSIntPixelsToAppUnits(widgetSize.width, p2a);",
                "line": 5466
            }},
            {"old": {
                "content": "        displaySize.height = NSIntPixelsToAppUnits(widgetSize.height, p2a);",
                "line": 5467
            }},
            {"old": {
                "content": "      } else {",
                "line": 5468
            }},
            {"old": {
                "content": "        displaySize = presContext->GetVisibleArea().Size();",
                "line": 5469
            }},
            {"old": {
                "content": "      }",
                "line": 5470
            }},
            {"new": {
                "content": "      nsSize displaySize = ComputeDesiredDisplaySizeForAnimation(aContainerFrame);",
                "line": 5474
            }},
            {"new": {
                "content": "",
                "line": 5511
            }},
            {"new": {
                "content": "          // Limit animated scale factors to not grow excessively beyond the display size.",
                "line": 5512
            }},
            {"new": {
                "content": "          nsSize maxScale(4, 4);",
                "line": 5513
            }},
            {"new": {
                "content": "          if (!aVisibleRect.IsEmpty()) {",
                "line": 5514
            }},
            {"new": {
                "content": "            nsSize displaySize = ComputeDesiredDisplaySizeForAnimation(aContainerFrame);",
                "line": 5515
            }},
            {"new": {
                "content": "            maxScale = Max(maxScale, displaySize / aVisibleRect.Size());",
                "line": 5516
            }},
            {"new": {
                "content": "          }",
                "line": 5517
            }},
            {"new": {
                "content": "          if (scale.width > maxScale.width) {",
                "line": 5518
            }},
            {"new": {
                "content": "            scale.width = gfxUtils::ClampToScaleFactor(maxScale.width, true);",
                "line": 5519
            }},
            {"new": {
                "content": "          }",
                "line": 5520
            }},
            {"new": {
                "content": "          if (scale.height > maxScale.height) {",
                "line": 5521
            }},
            {"new": {
                "content": "            scale.height = gfxUtils::ClampToScaleFactor(maxScale.height, true);",
                "line": 5522
            }},
            {"new": {
                "content": "          }",
                "line": 5523
            }}
        ],
        "new": {"name": "/layout/painting/FrameLayerBuilder.cpp"},
        "old": {"name": "/layout/painting/FrameLayerBuilder.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/printing/crashtests/509839-1.html"},
        "old": {"name": "/layout/printing/crashtests/509839-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html style=\"position: fixed; -moz-transform: scale(0.000001);\"  class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html style=\"position: fixed; -moz-transform: scale(0.000001);\"  class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/printing/crashtests/509839-2.html"},
        "old": {"name": "/layout/printing/crashtests/509839-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\"  xmlns:mathml=\"http://www.w3.org/1998/Math/MathML\"  class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\"  xmlns:mathml=\"http://www.w3.org/1998/Math/MathML\"  class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/printing/crashtests/576878.xhtml"},
        "old": {"name": "/layout/printing/crashtests/576878.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/printing/crashtests/793844.html"},
        "old": {"name": "/layout/printing/crashtests/793844.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      mDocument->Dispatch(nullptr, TaskCategory::Other, do_AddRef(this));",
                "line": 164
            }},
            {"new": {
                "content": "      mDocument->Dispatch(TaskCategory::Other, do_AddRef(this));",
                "line": 164
            }}
        ],
        "new": {"name": "/layout/printing/nsPagePrintTimer.cpp"},
        "old": {"name": "/layout/printing/nsPagePrintTimer.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  NS_ENSURE_SUCCESS_VOID(doc->Dispatch(\"nsPrintCompletionEvent\",",
                "line": 3760
            }},
            {"old": {
                "content": "                                       TaskCategory::Other, event.forget()));",
                "line": 3761
            }},
            {"new": {
                "content": "  NS_ENSURE_SUCCESS_VOID(doc->Dispatch(TaskCategory::Other, event.forget()));",
                "line": 3760
            }}
        ],
        "new": {"name": "/layout/printing/nsPrintEngine.cpp"},
        "old": {"name": "/layout/printing/nsPrintEngine.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/abs-pos/table-caption-5.html"},
        "old": {"name": "/layout/reftests/abs-pos/table-caption-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/abs-pos/table-cell-8.html"},
        "old": {"name": "/layout/reftests/abs-pos/table-cell-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/abs-pos/table-print-1-ref.html"},
        "old": {"name": "/layout/reftests/abs-pos/table-print-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/backgrounds/table-background-print-ref.html"},
        "old": {"name": "/layout/reftests/backgrounds/table-background-print-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/backgrounds/table-background-print.html"},
        "old": {"name": "/layout/reftests/backgrounds/table-background-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bidi/1161752-5-embed-ref.html"},
        "old": {"name": "/layout/reftests/bidi/1161752-5-embed-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bidi/1161752-5-embed.html"},
        "old": {"name": "/layout/reftests/bidi/1161752-5-embed.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/200774-1.html"},
        "old": {"name": "/layout/reftests/bugs/200774-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/231823-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/231823-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/231823-1.html"},
        "old": {"name": "/layout/reftests/bugs/231823-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/243519-3-ref.html"},
        "old": {"name": "/layout/reftests/bugs/243519-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/243519-3.html"},
        "old": {"name": "/layout/reftests/bugs/243519-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/243519-6-ref.html"},
        "old": {"name": "/layout/reftests/bugs/243519-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/243519-6.html"},
        "old": {"name": "/layout/reftests/bugs/243519-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/325292-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/325292-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/325292-1.html"},
        "old": {"name": "/layout/reftests/bugs/325292-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/379349-3-ref.xhtml"},
        "old": {"name": "/layout/reftests/bugs/379349-3-ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/379349-3a.xhtml"},
        "old": {"name": "/layout/reftests/bugs/379349-3a.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/379349-3b.xhtml"},
        "old": {"name": "/layout/reftests/bugs/379349-3b.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/397428-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/397428-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/397428-1.html"},
        "old": {"name": "/layout/reftests/bugs/397428-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409084-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/409084-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }},
            {"old": {
                "content": "      height: 4in; /* just longer than a reftest-print page. */",
                "line": 4
            }},
            {"new": {
                "content": "      height: 4in; /* just longer than a reftest-paged page. */",
                "line": 4
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409084-1a.html"},
        "old": {"name": "/layout/reftests/bugs/409084-1a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }},
            {"old": {
                "content": "      height: 4in; /* just longer than a reftest-print page. */",
                "line": 4
            }},
            {"new": {
                "content": "      height: 4in; /* just longer than a reftest-paged page. */",
                "line": 4
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409084-1b.html"},
        "old": {"name": "/layout/reftests/bugs/409084-1b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409659-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/409659-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409659-1a.html"},
        "old": {"name": "/layout/reftests/bugs/409659-1a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409659-1b.html"},
        "old": {"name": "/layout/reftests/bugs/409659-1b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409659-1c.html"},
        "old": {"name": "/layout/reftests/bugs/409659-1c.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/409659-1d.html"},
        "old": {"name": "/layout/reftests/bugs/409659-1d.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/411585-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-1.html"},
        "old": {"name": "/layout/reftests/bugs/411585-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-2-ref.html"},
        "old": {"name": "/layout/reftests/bugs/411585-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-2.html"},
        "old": {"name": "/layout/reftests/bugs/411585-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-3-ref.html"},
        "old": {"name": "/layout/reftests/bugs/411585-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/411585-3.html"},
        "old": {"name": "/layout/reftests/bugs/411585-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/417676-ref.html"},
        "old": {"name": "/layout/reftests/bugs/417676-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/417676.html"},
        "old": {"name": "/layout/reftests/bugs/417676.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/421710-1.html"},
        "old": {"name": "/layout/reftests/bugs/421710-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/422249-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/422249-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/422249-1.html"},
        "old": {"name": "/layout/reftests/bugs/422249-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/422678-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/422678-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/422678-1.html"},
        "old": {"name": "/layout/reftests/bugs/422678-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/427017-1.xhtml"},
        "old": {"name": "/layout/reftests/bugs/427017-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/467444-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/467444-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/467444-1.html"},
        "old": {"name": "/layout/reftests/bugs/467444-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html  class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html  class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/531200-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/531200-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html  class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html  class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/531200-1.html"},
        "old": {"name": "/layout/reftests/bugs/531200-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-1.html"},
        "old": {"name": "/layout/reftests/bugs/563584-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-10-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-10-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-10a.html"},
        "old": {"name": "/layout/reftests/bugs/563584-10a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-10b.html"},
        "old": {"name": "/layout/reftests/bugs/563584-10b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-11-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-11-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-11.html"},
        "old": {"name": "/layout/reftests/bugs/563584-11.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-2-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-2.html"},
        "old": {"name": "/layout/reftests/bugs/563584-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-3-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-3.html"},
        "old": {"name": "/layout/reftests/bugs/563584-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-4-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-4.html"},
        "old": {"name": "/layout/reftests/bugs/563584-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-5-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-5.html"},
        "old": {"name": "/layout/reftests/bugs/563584-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-6-printing-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-6-printing-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-6-printing.html"},
        "old": {"name": "/layout/reftests/bugs/563584-6-printing.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-7-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-7.html"},
        "old": {"name": "/layout/reftests/bugs/563584-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8a-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8a-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8a.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8b-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8b-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8b.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8c-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8c-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8c.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8c.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8d-ref.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8d-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/563584-8d.html"},
        "old": {"name": "/layout/reftests/bugs/563584-8d.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0; border: none\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0; border: none\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/582037-2-ref.html"},
        "old": {"name": "/layout/reftests/bugs/582037-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "      class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/582037-2a.html"},
        "old": {"name": "/layout/reftests/bugs/582037-2a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "      class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/582037-2b.html"},
        "old": {"name": "/layout/reftests/bugs/582037-2b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/585598-2-ref.xhtml"},
        "old": {"name": "/layout/reftests/bugs/585598-2-ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/585598-2.xhtml"},
        "old": {"name": "/layout/reftests/bugs/585598-2.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/609272-1-ref.html"},
        "old": {"name": "/layout/reftests/bugs/609272-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"height: 0; overflow: hidden\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"height: 0; overflow: hidden\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/609272-1.html"},
        "old": {"name": "/layout/reftests/bugs/609272-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "asserts(3) asserts-if(styloVsGecko,6) != 427017-1.xhtml about:blank # crash test (needs reftest-print). existing assertions are bug 457400.",
                "line": 1049
            }},
            {"new": {
                "content": "asserts(3) asserts-if(styloVsGecko,6) != 427017-1.xhtml about:blank # crash test (needs reftest-paged). existing assertions are bug 457400.",
                "line": 1049
            }}
        ],
        "new": {"name": "/layout/reftests/bugs/reftest.list"},
        "old": {"name": "/layout/reftests/bugs/reftest.list"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/css-animations/print-no-animations-notref.html"},
        "old": {"name": "/layout/reftests/css-animations/print-no-animations-notref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/css-animations/print-no-animations-ref.html"},
        "old": {"name": "/layout/reftests/css-animations/print-no-animations-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/css-animations/print-no-animations.html"},
        "old": {"name": "/layout/reftests/css-animations/print-no-animations.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "skip-if(stylo||styloVsGecko) fails-if(!stylo&&!styloVsGecko) == print-no-animations.html print-no-animations-ref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-print tests. Bug 1374154 for stylo",
                "line": 2
            }},
            {"old": {
                "content": "skip-if(stylo||styloVsGecko) fails-if(!stylo&&!styloVsGecko) != print-no-animations.html print-no-animations-notref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-print tests. Bug 1374154 for stylo",
                "line": 3
            }},
            {"new": {
                "content": "skip-if(stylo||styloVsGecko) fails-if(!stylo&&!styloVsGecko) == print-no-animations.html print-no-animations-ref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-paged tests. Bug 1374154 for stylo",
                "line": 2
            }},
            {"new": {
                "content": "skip-if(stylo||styloVsGecko) fails-if(!stylo&&!styloVsGecko) != print-no-animations.html print-no-animations-notref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-paged tests. Bug 1374154 for stylo",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/css-animations/reftest.list"},
        "old": {"name": "/layout/reftests/css-animations/reftest.list"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-010-ref.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-010-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-010.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-010.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-011-ref.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-011-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-011.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-011.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-012-ref.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-012-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-012.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-012.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-013-ref.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-013-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-013.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-013.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-014-ref.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-014-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\"><head>",
                "line": 5
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\"><head>",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/css-grid/grid-fragmentation-014.html"},
        "old": {"name": "/layout/reftests/css-grid/grid-fragmentation-014.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-import/445415-2-ref.xhtml"},
        "old": {"name": "/layout/reftests/css-import/445415-2-ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-import/445415-2a.xhtml"},
        "old": {"name": "/layout/reftests/css-import/445415-2a.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-import/445415-2b.xhtml"},
        "old": {"name": "/layout/reftests/css-import/445415-2b.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print-ref.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print-ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_aspectratio.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_aspectratio.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_deviceaspectratio.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_deviceaspectratio.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3inches/216pt/76mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3inches/216pt/76mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_deviceheight.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_deviceheight.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_devicewidth.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_devicewidth.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_height.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_height.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxheight.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxheight.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3 inches/216pt/76mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxheight_updown.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxheight_updown.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxwidth.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxwidth.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxwidth_updown.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_maxwidth_updown.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3 inches/216pt/76.2mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3 inches/216pt/76.2mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_minheight.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_minheight.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the height to 3 inches/216pt/76.2mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the height to 3 inches/216pt/76.2mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_minheight_updown.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_minheight_updown.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_minwidth.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_minwidth.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_minwidth_updown.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_minwidth_updown.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_orientation-ref.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_orientation-ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_orientation.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_orientation.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 2
            }},
            {"old": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-print class*/",
                "line": 9
            }},
            {"new": {
                "content": "    /* we set the width to 5 inches/360pt/127mm in the reftest-paged class*/",
                "line": 9
            }}
        ],
        "new": {"name": "/layout/reftests/css-mediaqueries/mq_print_width.xhtml"},
        "old": {"name": "/layout/reftests/css-mediaqueries/mq_print_width.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/details-summary/details-page-break-after-1.html"},
        "old": {"name": "/layout/reftests/details-summary/details-page-break-after-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/details-summary/details-page-break-after-2.html"},
        "old": {"name": "/layout/reftests/details-summary/details-page-break-after-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/details-summary/details-page-break-before-1.html"},
        "old": {"name": "/layout/reftests/details-summary/details-page-break-before-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/details-summary/details-page-break-before-2.html"},
        "old": {"name": "/layout/reftests/details-summary/details-page-break-before-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 3
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 3
            }}
        ],
        "new": {"name": "/layout/reftests/details-summary/details-two-pages.html"},
        "old": {"name": "/layout/reftests/details-summary/details-two-pages.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 5
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/image/image-object-fit-with-background-2-ref.html"},
        "old": {"name": "/layout/reftests/image/image-object-fit-with-background-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 14
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 14
            }},
            {"old": {
                "content": "         *  (1) the <img> will split over several 3in tall reftest-print cards",
                "line": 24
            }},
            {"new": {
                "content": "         *  (1) the <img> will split over several 3in tall reftest-paged cards",
                "line": 24
            }}
        ],
        "new": {"name": "/layout/reftests/image/image-object-fit-with-background-2.html"},
        "old": {"name": "/layout/reftests/image/image-object-fit-with-background-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 5
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/image/image-object-position-with-background-2-ref.html"},
        "old": {"name": "/layout/reftests/image/image-object-position-with-background-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 14
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 14
            }}
        ],
        "new": {"name": "/layout/reftests/image/image-object-position-with-background-2.html"},
        "old": {"name": "/layout/reftests/image/image-object-position-with-background-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-000.ref.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-000.ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-000.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-000.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-001.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-001.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-002.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-002.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-003-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-003-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-003.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-003.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-004-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-004-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-004.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-004.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-005-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-005-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-005.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-005.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-006-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-006-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-006.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-006.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-007-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-007-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-007.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-007.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-008-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-008-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-008.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-008.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-009-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-009-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-009.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-009.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-010-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-010-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-010.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-010.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-011-ref.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-011-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-breaking-011.html"},
        "old": {"name": "/layout/reftests/pagination/abspos-breaking-011.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-overflow-01.ref.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-overflow-01.ref.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/abspos-overflow-01.xhtml"},
        "old": {"name": "/layout/reftests/pagination/abspos-overflow-01.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\"><style>html{font-size:12pt}</style>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/blank.html"},
        "old": {"name": "/layout/reftests/pagination/blank.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/combobox-page-break-inside-ref.html"},
        "old": {"name": "/layout/reftests/pagination/combobox-page-break-inside-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/combobox-page-break-inside.html"},
        "old": {"name": "/layout/reftests/pagination/combobox-page-break-inside.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/float-clear-000-print.html"},
        "old": {"name": "/layout/reftests/pagination/float-clear-000-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/float-clear-000-print.ref.html"},
        "old": {"name": "/layout/reftests/pagination/float-clear-000-print.ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/float-clear-001-print.html"},
        "old": {"name": "/layout/reftests/pagination/float-clear-001-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/float-clear-002-print.html"},
        "old": {"name": "/layout/reftests/pagination/float-clear-002-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/float-clear-003-print.html"},
        "old": {"name": "/layout/reftests/pagination/float-clear-003-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/row-page-break-after-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/row-page-break-after-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/row-page-break-after-always-2.html"},
        "old": {"name": "/layout/reftests/pagination/row-page-break-after-always-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/rowgroup-page-break-after-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/rowgroup-page-break-after-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/rowgroup-tfoot-page-break-after-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/rowgroup-tfoot-page-break-after-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/rowgroup-thead-page-break-after-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/rowgroup-thead-page-break-after-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-10.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-10.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-11.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-11.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-2-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-2.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-3-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-3.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-4-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-4.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-5-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-5.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-6-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-6.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-7-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-7.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-8.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-9.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitaftercaption-9.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitrowgroup-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitrowgroup-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-caption-splitrowgroup-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-caption-splitrowgroup-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-nested-1308876-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-nested-1308876-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-nested-1308876-1.xhtml"},
        "old": {"name": "/layout/reftests/pagination/table-nested-1308876-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-after-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-after-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-after-left-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-after-left-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-after-right-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-after-right-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-always-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-always-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-always-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-always-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-auto-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-auto-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-auto-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-auto-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-auto-2-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-auto-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-auto-2.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-auto-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-auto-3-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-auto-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-avoid-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-left-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-left-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-page-break-before-right-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-page-break-before-right-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-tfoot-thead-1-ref.html"},
        "old": {"name": "/layout/reftests/pagination/table-tfoot-thead-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table-tfoot-thead-1.html"},
        "old": {"name": "/layout/reftests/pagination/table-tfoot-thead-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/pagination/table_internal_pagebreak-1.html"},
        "old": {"name": "/layout/reftests/pagination/table_internal_pagebreak-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1108104-ref.html"},
        "old": {"name": "/layout/reftests/printing/1108104-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1108104.html"},
        "old": {"name": "/layout/reftests/printing/1108104.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/115199-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/115199-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/115199-1.html"},
        "old": {"name": "/layout/reftests/printing/115199-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/115199-2-ref.html"},
        "old": {"name": "/layout/reftests/printing/115199-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/115199-2a.html"},
        "old": {"name": "/layout/reftests/printing/115199-2a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/115199-2b.html"},
        "old": {"name": "/layout/reftests/printing/115199-2b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 27
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 27
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1166147-ref.html"},
        "old": {"name": "/layout/reftests/printing/1166147-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"writing-mode: vertical-rl;\">",
                "line": 28
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"writing-mode: vertical-rl;\">",
                "line": 28
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1166147.html"},
        "old": {"name": "/layout/reftests/printing/1166147.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/129941-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1a.html"},
        "old": {"name": "/layout/reftests/printing/129941-1a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1b.html"},
        "old": {"name": "/layout/reftests/printing/129941-1b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0; overflow: hidden\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0; overflow: hidden\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1c.html"},
        "old": {"name": "/layout/reftests/printing/129941-1c.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0; overflow: hidden\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0; overflow: hidden\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1d.html"},
        "old": {"name": "/layout/reftests/printing/129941-1d.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/129941-1e.html"},
        "old": {"name": "/layout/reftests/printing/129941-1e.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1321803-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/1321803-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" style=\"margin: 0; padding: 0;\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/1321803-1a.html"},
        "old": {"name": "/layout/reftests/printing/1321803-1a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\"><style>html{font-size:12pt}</style>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/272830-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/272830-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\"><style>html{font-size:12pt}</style>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/272830-1.html"},
        "old": {"name": "/layout/reftests/printing/272830-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/318022-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/318022-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/318022-1.html"},
        "old": {"name": "/layout/reftests/printing/318022-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/381497-f.html"},
        "old": {"name": "/layout/reftests/printing/381497-f.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/381497-n.html"},
        "old": {"name": "/layout/reftests/printing/381497-n.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/403669-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/403669-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/403669-1.html"},
        "old": {"name": "/layout/reftests/printing/403669-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/577450-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/577450-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/577450-1.html"},
        "old": {"name": "/layout/reftests/printing/577450-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "      class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/printing/609227-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/609227-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": "      class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/printing/609227-1.html"},
        "old": {"name": "/layout/reftests/printing/609227-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/609227-2-ref.html"},
        "old": {"name": "/layout/reftests/printing/609227-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/609227-2a.html"},
        "old": {"name": "/layout/reftests/printing/609227-2a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/609227-2b.html"},
        "old": {"name": "/layout/reftests/printing/609227-2b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/626395-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-1a.html"},
        "old": {"name": "/layout/reftests/printing/626395-1a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-1b.html"},
        "old": {"name": "/layout/reftests/printing/626395-1b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-2-ref.html"},
        "old": {"name": "/layout/reftests/printing/626395-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-2a.html"},
        "old": {"name": "/layout/reftests/printing/626395-2a.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-2b.html"},
        "old": {"name": "/layout/reftests/printing/626395-2b.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-2c.html"},
        "old": {"name": "/layout/reftests/printing/626395-2c.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/626395-2d.html"},
        "old": {"name": "/layout/reftests/printing/626395-2d.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/652178-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/652178-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/652178-1-ref2.html"},
        "old": {"name": "/layout/reftests/printing/652178-1-ref2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/652178-1.html"},
        "old": {"name": "/layout/reftests/printing/652178-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/745025-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/745025-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-wait reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-wait reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/745025-1.html"},
        "old": {"name": "/layout/reftests/printing/745025-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/820496-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/820496-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/820496-1.html"},
        "old": {"name": "/layout/reftests/printing/820496-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/960822-ref.html"},
        "old": {"name": "/layout/reftests/printing/960822-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/960822.html"},
        "old": {"name": "/layout/reftests/printing/960822.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/966419-1-ref.html"},
        "old": {"name": "/layout/reftests/printing/966419-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/966419-1.html"},
        "old": {"name": "/layout/reftests/printing/966419-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/966419-2-ref.html"},
        "old": {"name": "/layout/reftests/printing/966419-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/printing/966419-2.html"},
        "old": {"name": "/layout/reftests/printing/966419-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\"><style>html{font-size:12pt}</style>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/printing/blank.html"},
        "old": {"name": "/layout/reftests/printing/blank.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-wait reftest-print\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-wait reftest-paged\"><style>html{font-size:12pt}</style>",
                "line": 0
            }},
            {"old": {
                "content": "                                   document.documentElement.className = \"reftest-print\";},",
                "line": 5
            }},
            {"new": {
                "content": "                                   document.documentElement.className = \"reftest-paged\";},",
                "line": 5
            }}
        ],
        "new": {"name": "/layout/reftests/printing/test-async-print.html"},
        "old": {"name": "/layout/reftests/printing/test-async-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-height-2.1in.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-height-2.1in.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-height-2in.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-height-2in.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-height-forcebreak.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-height-forcebreak.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content height is 2 inches (3 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-height-nobreak.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-height-nobreak.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-width-3.9in.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-width-3.9in.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-width-4.1in.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-width-4.1in.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-width-4in.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-width-4in.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"old": {
                "content": "<title>Test that reftest-print page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }},
            {"new": {
                "content": "<title>Test that reftest-paged page content width is 4 inches (5 inch page, half inch margins)</title>",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/reftest-sanity/page-width-auto.html"},
        "old": {"name": "/layout/reftests/reftest-sanity/page-width-auto.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/table-overflow/963441-ref.html"},
        "old": {"name": "/layout/reftests/table-overflow/963441-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/table-overflow/963441.html"},
        "old": {"name": "/layout/reftests/table-overflow/963441.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/table-overflow/table-row-pagination-ref.html"},
        "old": {"name": "/layout/reftests/table-overflow/table-row-pagination-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/table-overflow/table-row-pagination.html"},
        "old": {"name": "/layout/reftests/table-overflow/table-row-pagination.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/unicode/unicode-media-query-media-type.html"},
        "old": {"name": "/layout/reftests/unicode/unicode-media-query-media-type.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/unicode/unicode-media-query-query.html"},
        "old": {"name": "/layout/reftests/unicode/unicode-media-query-query.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/reftests/unicode/unicode-ref-print.html"},
        "old": {"name": "/layout/reftests/unicode/unicode-ref-print.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-ref.html"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": " <head class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": " <head class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/multicol3/multicol-height-002.xht"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/multicol3/multicol-height-002.xht"}
    },
    {
        "changes": [
            {"old": {
                "content": " <head class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": " <head class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/layout/reftests/w3c-css/submitted/multicol3/reference/multicol-height-002.xht"},
        "old": {"name": "/layout/reftests/w3c-css/submitted/multicol3/reference/multicol-height-002.xht"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"ShortTermURISpecCache\", TaskCategory::Other,",
                "line": 167
            }},
            {"old": {
                "content": "                            runnable.forget());",
                "line": 168
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 167
            }}
        ],
        "new": {"name": "/layout/style/ErrorReporter.cpp"},
        "old": {"name": "/layout/style/ErrorReporter.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  mDocument->Dispatch(\"FontFaceSet::CheckLoadingFinishedAfterDelay\",",
                "line": 1522
            }},
            {"old": {
                "content": "                      TaskCategory::Other, checkTask.forget());",
                "line": 1523
            }},
            {"new": {
                "content": "  mDocument->Dispatch(TaskCategory::Other, checkTask.forget());",
                "line": 1522
            }}
        ],
        "new": {"name": "/layout/style/FontFaceSet.cpp"},
        "old": {"name": "/layout/style/FontFaceSet.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    rv = mDocument->Dispatch(\"SheetLoadData\", TaskCategory::Other,",
                "line": 2476
            }},
            {"old": {
                "content": "                             runnable.forget());",
                "line": 2477
            }},
            {"new": {
                "content": "    rv = mDocument->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 2476
            }},
            {"old": {
                "content": "    rv = mDocGroup->Dispatch(\"SheetLoadData\", TaskCategory::Other,",
                "line": 2479
            }},
            {"old": {
                "content": "                             runnable.forget());",
                "line": 2480
            }},
            {"new": {
                "content": "    rv = mDocGroup->Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 2478
            }},
            {"old": {
                "content": "    rv = SystemGroup::Dispatch(\"SheetLoadData\", TaskCategory::Other,",
                "line": 2482
            }},
            {"old": {
                "content": "                               runnable.forget());",
                "line": 2483
            }},
            {"new": {
                "content": "    rv = SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 2480
            }}
        ],
        "new": {"name": "/layout/style/Loader.cpp"},
        "old": {"name": "/layout/style/Loader.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nscore.h\"",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }}
        ],
        "new": {"name": "/layout/style/PostTraversalTask.h"},
        "old": {"name": "/layout/style/PostTraversalTask.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsTArray<uint32_t> mPopTargets;",
                "line": 74
            }},
            {"new": {
                "content": "  // 16 is chosen because it's enough to avoid most allocations for the",
                "line": 74
            }},
            {"new": {
                "content": "  // Speedometer 2 benchmark, and also it covers many cases in some casual",
                "line": 75
            }},
            {"new": {
                "content": "  // local browsing tests performed.  Higher values in the range of tens",
                "line": 76
            }},
            {"new": {
                "content": "  // were observed while testing through local browsing but they were rare.",
                "line": 77
            }},
            {"new": {
                "content": "  AutoTArray<uint32_t, 16> mPopTargets;",
                "line": 78
            }},
            {"old": {
                "content": "  nsTArray<uint32_t> mHashes;",
                "line": 78
            }},
            {"new": {
                "content": "  // 50 is chosen to be the same as the preallocated buffer size used in",
                "line": 82
            }},
            {"new": {
                "content": "  // TreeMatchContext::InitAncestors().  This value seems to be large",
                "line": 83
            }},
            {"new": {
                "content": "  // enough for Speedometer 2, although some casual testing browsing real",
                "line": 84
            }},
            {"new": {
                "content": "  // sites suggested they can easily require values much larger (in the",
                "line": 85
            }},
            {"new": {
                "content": "  // range of hundreds.)",
                "line": 86
            }},
            {"new": {
                "content": "  AutoTArray<uint32_t, 50> mHashes;",
                "line": 87
            }}
        ],
        "new": {"name": "/layout/style/nsRuleProcessorData.h"},
        "old": {"name": "/layout/style/nsRuleProcessorData.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "        mDocGroup->Dispatch(\"StyleImageRequestCleanupTask\",",
                "line": 2044
            }},
            {"old": {
                "content": "                            TaskCategory::Other, task.forget());",
                "line": 2045
            }},
            {"new": {
                "content": "        mDocGroup->Dispatch(TaskCategory::Other, task.forget());",
                "line": 2044
            }}
        ],
        "new": {"name": "/layout/style/nsStyleStruct.cpp"},
        "old": {"name": "/layout/style/nsStyleStruct.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/1027611-1.html"},
        "old": {"name": "/layout/tables/crashtests/1027611-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-print\"><head>",
                "line": 1
            }},
            {"new": {
                "content": "<html xmlns=\"http://www.w3.org/1999/xhtml\" class=\"reftest-paged\"><head>",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/347367.html"},
        "old": {"name": "/layout/tables/crashtests/347367.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/362275.html"},
        "old": {"name": "/layout/tables/crashtests/362275.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/373400-1.html"},
        "old": {"name": "/layout/tables/crashtests/373400-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\"><head><title>tinderbox: Firefox</title></head>",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\"><head><title>tinderbox: Firefox</title></head>",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/373400-2.html"},
        "old": {"name": "/layout/tables/crashtests/373400-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/373400-3.html"},
        "old": {"name": "/layout/tables/crashtests/373400-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/563009-1.html"},
        "old": {"name": "/layout/tables/crashtests/563009-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/563009-2.html"},
        "old": {"name": "/layout/tables/crashtests/563009-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/563009-3.html"},
        "old": {"name": "/layout/tables/crashtests/563009-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/576890-1.html"},
        "old": {"name": "/layout/tables/crashtests/576890-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/576890-2.html"},
        "old": {"name": "/layout/tables/crashtests/576890-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/576890-3.html"},
        "old": {"name": "/layout/tables/crashtests/576890-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" xmlns=\"http://www.w3.org/1999/xhtml\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" xmlns=\"http://www.w3.org/1999/xhtml\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/595758-1.xhtml"},
        "old": {"name": "/layout/tables/crashtests/595758-1.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\" xmlns=\"http://www.w3.org/1999/xhtml\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\" xmlns=\"http://www.w3.org/1999/xhtml\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/595758-2.xhtml"},
        "old": {"name": "/layout/tables/crashtests/595758-2.xhtml"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 0
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 0
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/678447-1.html"},
        "old": {"name": "/layout/tables/crashtests/678447-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html  class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html  class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/695430-1.html"},
        "old": {"name": "/layout/tables/crashtests/695430-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/696640-1.html"},
        "old": {"name": "/layout/tables/crashtests/696640-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/layout/tables/crashtests/696640-2.html"},
        "old": {"name": "/layout/tables/crashtests/696640-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "      GetContent()->OwnerDoc()->Dispatch(\"nsDelayedCalcBCBorders\",",
                "line": 5114
            }},
            {"old": {
                "content": "                                         TaskCategory::Other, evt.forget());",
                "line": 5115
            }},
            {"new": {
                "content": "      GetContent()->OwnerDoc()->Dispatch(TaskCategory::Other, evt.forget());",
                "line": 5114
            }}
        ],
        "new": {"name": "/layout/tables/nsTableFrame.cpp"},
        "old": {"name": "/layout/tables/nsTableFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "Printing Tests: class=\"reftest-print\"",
                "line": 564
            }},
            {"new": {
                "content": "Pagination Tests: class=\"reftest-paged\"",
                "line": 564
            }},
            {"old": {
                "content": "There is a layout/reftests/printing directory for printing reftests; however,",
                "line": 572
            }},
            {"old": {
                "content": "there is nothing special about this directory.  You can put printing reftests",
                "line": 573
            }},
            {"new": {
                "content": "There is a layout/reftests/printing directory for pagination reftests; however,",
                "line": 572
            }},
            {"new": {
                "content": "there is nothing special about this directory.  You can put pagination reftests",
                "line": 573
            }},
            {"old": {
                "content": "The suggested first lines for any printing test is",
                "line": 575
            }},
            {"old": {
                "content": "<!DOCTYPE html><html class=\"reftest-print\">",
                "line": 576
            }},
            {"new": {
                "content": "The suggested first lines for any pagination test is",
                "line": 575
            }},
            {"new": {
                "content": "<!DOCTYPE html><html class=\"reftest-paged\">",
                "line": 576
            }},
            {"old": {
                "content": "The reftest-print class on the root element triggers the reftest to",
                "line": 578
            }},
            {"new": {
                "content": "The reftest-paged class on the root element triggers the reftest to",
                "line": 578
            }}
        ],
        "new": {"name": "/layout/tools/reftest/README.txt"},
        "old": {"name": "/layout/tools/reftest/README.txt"}
    },
    {
        "changes": [
            {"old": {
                "content": "    return contentRootElement &&",
                "line": 177
            }},
            {"old": {
                "content": "           contentRootElement.hasAttribute('class') &&",
                "line": 178
            }},
            {"old": {
                "content": "           contentRootElement.getAttribute('class').split(/\\s+/)",
                "line": 179
            }},
            {"old": {
                "content": "                             .indexOf(\"reftest-print\") != -1;",
                "line": 180
            }},
            {"new": {
                "content": "    if (contentRootElement &&",
                "line": 177
            }},
            {"new": {
                "content": "        contentRootElement.hasAttribute('class')) {",
                "line": 178
            }},
            {"new": {
                "content": "        var classList = contentRootElement.getAttribute('class').split(/\\s+/);",
                "line": 179
            }},
            {"new": {
                "content": "        if (classList.indexOf(\"reftest-print\") != -1) {",
                "line": 180
            }},
            {"new": {
                "content": "            SendException(\"reftest-print is obsolete, use reftest-paged instead\");",
                "line": 181
            }},
            {"new": {
                "content": "            return;",
                "line": 182
            }},
            {"new": {
                "content": "        }",
                "line": 183
            }},
            {"new": {
                "content": "        return classList.indexOf(\"reftest-paged\") != -1;",
                "line": 184
            }},
            {"new": {
                "content": "    }",
                "line": 185
            }}
        ],
        "new": {"name": "/layout/tools/reftest/reftest-content.js"},
        "old": {"name": "/layout/tools/reftest/reftest-content.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsresult rv = aContent->OwnerDoc()->Dispatch(\"nsImageBoxFrameEvent\",",
                "line": 114
            }},
            {"old": {
                "content": "                                               TaskCategory::Other,",
                "line": 115
            }},
            {"new": {
                "content": "  nsresult rv = aContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 114
            }}
        ],
        "new": {"name": "/layout/xul/nsImageBoxFrame.cpp"},
        "old": {"name": "/layout/xul/nsImageBoxFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsresult rv = mContent->OwnerDoc()->Dispatch(\"nsPositionChangedEvent\",",
                "line": 847
            }},
            {"old": {
                "content": "                                               TaskCategory::Other,",
                "line": 848
            }},
            {"new": {
                "content": "  nsresult rv = mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 847
            }}
        ],
        "new": {"name": "/layout/xul/nsListBoxBodyFrame.cpp"},
        "old": {"name": "/layout/xul/nsListBoxBodyFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  return mContent->OwnerDoc()->Dispatch(\"nsMenuBarSwitchMenu\",",
                "line": 349
            }},
            {"old": {
                "content": "                                        TaskCategory::Other,",
                "line": 350
            }},
            {"new": {
                "content": "  return mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 349
            }}
        ],
        "new": {"name": "/layout/xul/nsMenuBarFrame.cpp"},
        "old": {"name": "/layout/xul/nsMenuBarFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "        mContent->OwnerDoc()->Dispatch(\"nsMenuActivateEvent\",",
                "line": 607
            }},
            {"old": {
                "content": "                                       TaskCategory::Other,",
                "line": 608
            }},
            {"new": {
                "content": "        mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 607
            }},
            {"old": {
                "content": "    mContent->OwnerDoc()->Dispatch(\"nsMenuActivateEvent\",",
                "line": 659
            }},
            {"old": {
                "content": "                                   TaskCategory::Other,",
                "line": 660
            }},
            {"new": {
                "content": "    mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 658
            }},
            {"old": {
                "content": "",
                "line": 1534
            }},
            {"old": {
                "content": "/**",
                "line": 1535
            }},
            {"old": {
                "content": " * Set the name to this timer callback.",
                "line": 1536
            }},
            {"old": {
                "content": " * @param aName the name to set",
                "line": 1537
            }},
            {"old": {
                "content": " */",
                "line": 1538
            }},
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 1539
            }},
            {"old": {
                "content": "nsMenuTimerMediator::SetName(const char* aName)",
                "line": 1540
            }},
            {"old": {
                "content": "{",
                "line": 1541
            }},
            {"old": {
                "content": "  // We don't need to change the name for nsMenuTimerMediator.",
                "line": 1542
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 1543
            }},
            {"old": {
                "content": "}",
                "line": 1544
            }}
        ],
        "new": {"name": "/layout/xul/nsMenuFrame.cpp"},
        "old": {"name": "/layout/xul/nsMenuFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    mContent->OwnerDoc()->Dispatch(\"nsXULPopupShownEvent\",",
                "line": 596
            }},
            {"old": {
                "content": "                                   TaskCategory::Other,",
                "line": 597
            }},
            {"new": {
                "content": "    mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 596
            }}
        ],
        "new": {"name": "/layout/xul/nsMenuPopupFrame.cpp"},
        "old": {"name": "/layout/xul/nsMenuPopupFrame.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    aMenu->OwnerDoc()->Dispatch(\"nsXULPopupShowingEvent\",",
                "line": 766
            }},
            {"old": {
                "content": "                                TaskCategory::Other,",
                "line": 767
            }},
            {"old": {
                "content": "                                event.forget());",
                "line": 768
            }},
            {"new": {
                "content": "    aMenu->OwnerDoc()->Dispatch(TaskCategory::Other, event.forget());",
                "line": 766
            }},
            {"old": {
                "content": "        aPopup->OwnerDoc()->Dispatch(\"nsXULPopupHidingEvent\",",
                "line": 1090
            }},
            {"old": {
                "content": "                                     TaskCategory::Other,",
                "line": 1091
            }},
            {"new": {
                "content": "        aPopup->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 1088
            }},
            {"old": {
                "content": "  aMenu->OwnerDoc()->Dispatch(\"nsXULMenuCommandEvent\",",
                "line": 1421
            }},
            {"old": {
                "content": "                              TaskCategory::Other,",
                "line": 1422
            }},
            {"new": {
                "content": "  aMenu->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 1418
            }},
            {"old": {
                "content": "    aPopup->OwnerDoc()->Dispatch(\"nsXULPopupPositionedEvent\",",
                "line": 2784
            }},
            {"old": {
                "content": "                                 TaskCategory::Other,",
                "line": 2785
            }},
            {"old": {
                "content": "                                 event.forget());",
                "line": 2786
            }},
            {"new": {
                "content": "    aPopup->OwnerDoc()->Dispatch(TaskCategory::Other, event.forget());",
                "line": 2780
            }}
        ],
        "new": {"name": "/layout/xul/nsXULPopupManager.cpp"},
        "old": {"name": "/layout/xul/nsXULPopupManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  nsresult rv = mContent->OwnerDoc()->Dispatch(\"ScrollEvent\",",
                "line": 4780
            }},
            {"old": {
                "content": "                                               TaskCategory::Other,",
                "line": 4781
            }},
            {"new": {
                "content": "  nsresult rv = mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 4780
            }},
            {"old": {
                "content": "    mContent->OwnerDoc()->Dispatch(\"nsOverflowChecker\",",
                "line": 4979
            }},
            {"old": {
                "content": "                                   TaskCategory::Other,",
                "line": 4980
            }},
            {"new": {
                "content": "    mContent->OwnerDoc()->Dispatch(TaskCategory::Other,",
                "line": 4978
            }}
        ],
        "new": {"name": "/layout/xul/tree/nsTreeBodyFrame.cpp"},
        "old": {"name": "/layout/xul/tree/nsTreeBodyFrame.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 55
            }},
            {"old": {
                "content": "                              public nsITimerCallback {",
                "line": 88
            }},
            {"new": {
                "content": "                              public nsITimerCallback,",
                "line": 89
            }},
            {"new": {
                "content": "                              public nsINamed {",
                "line": 90
            }},
            {"new": {
                "content": "  NS_IMETHOD",
                "line": 113
            }},
            {"new": {
                "content": "  GetName(nsACString& aName) override {",
                "line": 114
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"nrappkitTimerCallback\");",
                "line": 115
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 116
            }},
            {"new": {
                "content": "  }",
                "line": 117
            }},
            {"new": {
                "content": "",
                "line": 118
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nrappkitTimerCallback, nsITimerCallback)",
                "line": 115
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nrappkitTimerCallback, nsITimerCallback, nsINamed)",
                "line": 123
            }}
        ],
        "new": {"name": "/media/mtransport/nr_timer.cpp"},
        "old": {"name": "/media/mtransport/nr_timer.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsString.h\"",
                "line": 21
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(TransportLayerLoopback::Deliverer, nsITimerCallback)",
                "line": 118
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(TransportLayerLoopback::Deliverer, nsITimerCallback, nsINamed)",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 126
            }},
            {"new": {
                "content": "NS_IMETHODIMP TransportLayerLoopback::Deliverer::GetName(nsACString& aName) {",
                "line": 127
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"TransportLayerLoopback::Deliverer\");",
                "line": 128
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 129
            }},
            {"new": {
                "content": "}",
                "line": 130
            }},
            {"new": {
                "content": "",
                "line": 131
            }}
        ],
        "new": {"name": "/media/mtransport/transportlayerloopback.cpp"},
        "old": {"name": "/media/mtransport/transportlayerloopback.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 18
            }},
            {"old": {
                "content": "  class Deliverer : public nsITimerCallback {",
                "line": 118
            }},
            {"new": {
                "content": "  class Deliverer : public nsITimerCallback",
                "line": 119
            }},
            {"new": {
                "content": "                  , public nsINamed {",
                "line": 120
            }},
            {"new": {
                "content": "    NS_DECL_NSINAMED",
                "line": 129
            }}
        ],
        "new": {"name": "/media/mtransport/transportlayerloopback.h"},
        "old": {"name": "/media/mtransport/transportlayerloopback.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 6
            }}
        ],
        "new": {"name": "/media/webrtc/signaling/src/media-conduit/AudioConduit.h"},
        "old": {"name": "/media/webrtc/signaling/src/media-conduit/AudioConduit.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 7
            }}
        ],
        "new": {"name": "/media/webrtc/signaling/src/media-conduit/VideoConduit.h"},
        "old": {"name": "/media/webrtc/signaling/src/media-conduit/VideoConduit.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"webrtc/base/criticalsection.h\"",
                "line": 30
            }},
            {"new": {
                "content": "  struct ScreenCallbackData {",
                "line": 334
            }},
            {"new": {
                "content": "    explicit ScreenCallbackData(ScreenCapturerMac* capturer)",
                "line": 335
            }},
            {"new": {
                "content": "              : capturer(capturer) {}",
                "line": 336
            }},
            {"new": {
                "content": "    rtc::CriticalSection crit_sect_;",
                "line": 337
            }},
            {"new": {
                "content": "    ScreenCapturerMac* capturer;",
                "line": 338
            }},
            {"new": {
                "content": "  };",
                "line": 339
            }},
            {"new": {
                "content": "",
                "line": 340
            }},
            {"new": {
                "content": "  ScreenCallbackData* screen_callback_data_;",
                "line": 341
            }},
            {"old": {
                "content": "    : desktop_config_monitor_(desktop_config_monitor) {",
                "line": 417
            }},
            {"new": {
                "content": "    : screen_callback_data_(new ScreenCallbackData(this))",
                "line": 426
            }},
            {"new": {
                "content": "    , desktop_config_monitor_(desktop_config_monitor) {",
                "line": 427
            }},
            {"old": {
                "content": "  UnregisterRefreshAndMoveHandlers();",
                "line": 425
            }},
            {"new": {
                "content": "  {",
                "line": 435
            }},
            {"new": {
                "content": "    rtc::CritScope lock(&screen_callback_data_->crit_sect_);",
                "line": 436
            }},
            {"new": {
                "content": "    screen_callback_data_->capturer = nullptr;",
                "line": 437
            }},
            {"new": {
                "content": "  }",
                "line": 438
            }},
            {"old": {
                "content": "      ScreenCapturerMac::ScreenRefreshCallback, this);",
                "line": 1036
            }},
            {"new": {
                "content": "      ScreenCapturerMac::ScreenRefreshCallback, screen_callback_data_);",
                "line": 1049
            }},
            {"old": {
                "content": "      ScreenCapturerMac::ScreenUpdateMoveCallback, this);",
                "line": 1042
            }},
            {"new": {
                "content": "      ScreenCapturerMac::ScreenUpdateMoveCallback, screen_callback_data_);",
                "line": 1055
            }},
            {"old": {
                "content": "  ScreenCapturerMac* capturer =",
                "line": 1098
            }},
            {"old": {
                "content": "      reinterpret_cast<ScreenCapturerMac*>(user_parameter);",
                "line": 1099
            }},
            {"old": {
                "content": "  if (capturer->screen_pixel_bounds_.is_empty())",
                "line": 1100
            }},
            {"old": {
                "content": "    capturer->ScreenConfigurationChanged();",
                "line": 1101
            }},
            {"old": {
                "content": "  capturer->ScreenRefresh(count, rect_array);",
                "line": 1102
            }},
            {"new": {
                "content": "  ScreenCallbackData* screen_callback_data =",
                "line": 1111
            }},
            {"new": {
                "content": "      reinterpret_cast<ScreenCallbackData*>(user_parameter);",
                "line": 1112
            }},
            {"new": {
                "content": "",
                "line": 1113
            }},
            {"new": {
                "content": "  screen_callback_data->crit_sect_.Enter();",
                "line": 1114
            }},
            {"new": {
                "content": "  if (!screen_callback_data->capturer) {",
                "line": 1115
            }},
            {"new": {
                "content": "    CGUnregisterScreenRefreshCallback(",
                "line": 1116
            }},
            {"new": {
                "content": "        ScreenCapturerMac::ScreenRefreshCallback, screen_callback_data);",
                "line": 1117
            }},
            {"new": {
                "content": "    CGScreenUnregisterMoveCallback(",
                "line": 1118
            }},
            {"new": {
                "content": "        ScreenCapturerMac::ScreenUpdateMoveCallback, screen_callback_data);",
                "line": 1119
            }},
            {"new": {
                "content": "    screen_callback_data->crit_sect_.Leave();",
                "line": 1120
            }},
            {"new": {
                "content": "    delete screen_callback_data;",
                "line": 1121
            }},
            {"new": {
                "content": "    return;",
                "line": 1122
            }},
            {"new": {
                "content": "  }",
                "line": 1123
            }},
            {"new": {
                "content": "",
                "line": 1124
            }},
            {"new": {
                "content": "  if (screen_callback_data->capturer->screen_pixel_bounds_.is_empty())",
                "line": 1125
            }},
            {"new": {
                "content": "    screen_callback_data->capturer->ScreenConfigurationChanged();",
                "line": 1126
            }},
            {"new": {
                "content": "  screen_callback_data->capturer->ScreenRefresh(count, rect_array);",
                "line": 1127
            }},
            {"new": {
                "content": "  screen_callback_data->crit_sect_.Leave();",
                "line": 1128
            }},
            {"old": {
                "content": "  ScreenCapturerMac* capturer =",
                "line": 1109
            }},
            {"old": {
                "content": "      reinterpret_cast<ScreenCapturerMac*>(user_parameter);",
                "line": 1110
            }},
            {"old": {
                "content": "  capturer->ScreenUpdateMove(delta, count, rect_array);",
                "line": 1111
            }},
            {"new": {
                "content": "  ScreenCallbackData* screen_callback_data =",
                "line": 1135
            }},
            {"new": {
                "content": "      reinterpret_cast<ScreenCallbackData*>(user_parameter);",
                "line": 1136
            }},
            {"new": {
                "content": "",
                "line": 1137
            }},
            {"new": {
                "content": "  screen_callback_data->crit_sect_.Enter();",
                "line": 1138
            }},
            {"new": {
                "content": "  if (!screen_callback_data->capturer) {",
                "line": 1139
            }},
            {"new": {
                "content": "    CGUnregisterScreenRefreshCallback(",
                "line": 1140
            }},
            {"new": {
                "content": "        ScreenCapturerMac::ScreenRefreshCallback, screen_callback_data);",
                "line": 1141
            }},
            {"new": {
                "content": "    CGScreenUnregisterMoveCallback(",
                "line": 1142
            }},
            {"new": {
                "content": "        ScreenCapturerMac::ScreenUpdateMoveCallback, screen_callback_data);",
                "line": 1143
            }},
            {"new": {
                "content": "    screen_callback_data->crit_sect_.Leave();",
                "line": 1144
            }},
            {"new": {
                "content": "    delete screen_callback_data;",
                "line": 1145
            }},
            {"new": {
                "content": "    return;",
                "line": 1146
            }},
            {"new": {
                "content": "  }",
                "line": 1147
            }},
            {"new": {
                "content": "",
                "line": 1148
            }},
            {"new": {
                "content": "  screen_callback_data->capturer->ScreenUpdateMove(delta, count, rect_array);",
                "line": 1149
            }},
            {"new": {
                "content": "  screen_callback_data->crit_sect_.Leave();",
                "line": 1150
            }}
        ],
        "new": {"name": "/media/webrtc/trunk/webrtc/modules/desktop_capture/screen_capturer_mac.mm"},
        "old": {"name": "/media/webrtc/trunk/webrtc/modules/desktop_capture/screen_capturer_mac.mm"}
    },
    {
        "changes": [
            {"old": {
                "content": "    void checkVersion() {",
                "line": 235
            }},
            {"new": {
                "content": "    void checkVersion() const {",
                "line": 235
            }},
            {"old": {
                "content": "    bool operator==(const ConstIterator& other) {",
                "line": 274
            }},
            {"new": {
                "content": "    bool operator==(const ConstIterator& other) const {",
                "line": 274
            }},
            {"old": {
                "content": "    bool operator!=(const ConstIterator& other) {",
                "line": 279
            }},
            {"new": {
                "content": "    bool operator!=(const ConstIterator& other) const {",
                "line": 279
            }},
            {"old": {
                "content": "    T operator*() {",
                "line": 282
            }},
            {"new": {
                "content": "    T operator*() const {",
                "line": 282
            }}
        ],
        "new": {"name": "/mfbt/EnumSet.h"},
        "old": {"name": "/mfbt/EnumSet.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "     mozilla::detail::GuardObjectNotificationReceiver _mCheckNotUsedAsTemporary;",
                "line": 133
            }},
            {"new": {
                "content": "     ::mozilla::detail::GuardObjectNotificationReceiver _mCheckNotUsedAsTemporary;",
                "line": 133
            }},
            {"old": {
                "content": "     , mozilla::detail::GuardObjectNotifier&& _notifier = \\",
                "line": 135
            }},
            {"old": {
                "content": "         mozilla::detail::GuardObjectNotifier()",
                "line": 136
            }},
            {"new": {
                "content": "     , ::mozilla::detail::GuardObjectNotifier&& _notifier = \\",
                "line": 135
            }},
            {"new": {
                "content": "         ::mozilla::detail::GuardObjectNotifier()",
                "line": 136
            }},
            {"old": {
                "content": "     mozilla::detail::GuardObjectNotifier&& _notifier = \\",
                "line": 138
            }},
            {"old": {
                "content": "         mozilla::detail::GuardObjectNotifier()",
                "line": 139
            }},
            {"new": {
                "content": "     ::mozilla::detail::GuardObjectNotifier&& _notifier = \\",
                "line": 138
            }},
            {"new": {
                "content": "         ::mozilla::detail::GuardObjectNotifier()",
                "line": 139
            }},
            {"old": {
                "content": "     , mozilla::detail::GuardObjectNotifier&& _notifier",
                "line": 141
            }},
            {"new": {
                "content": "     , ::mozilla::detail::GuardObjectNotifier&& _notifier",
                "line": 141
            }},
            {"old": {
                "content": "     mozilla::detail::GuardObjectNotifier&& _notifier",
                "line": 143
            }},
            {"new": {
                "content": "     ::mozilla::detail::GuardObjectNotifier&& _notifier",
                "line": 143
            }},
            {"old": {
                "content": "     , mozilla::Move(_notifier)",
                "line": 145
            }},
            {"new": {
                "content": "     , ::mozilla::Move(_notifier)",
                "line": 145
            }},
            {"old": {
                "content": "       mozilla::Move(_notifier)",
                "line": 147
            }},
            {"new": {
                "content": "       ::mozilla::Move(_notifier)",
                "line": 147
            }}
        ],
        "new": {"name": "/mfbt/GuardObjects.h"},
        "old": {"name": "/mfbt/GuardObjects.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsAndroidHistory, IHistory, nsIRunnable, nsITimerCallback)",
                "line": 24
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsAndroidHistory, IHistory, nsIRunnable, nsITimerCallback, nsINamed)",
                "line": 24
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 194
            }},
            {"new": {
                "content": "nsAndroidHistory::GetName(nsACString& aName)",
                "line": 195
            }},
            {"new": {
                "content": "{",
                "line": 196
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsAndroidHistory\");",
                "line": 197
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 198
            }},
            {"new": {
                "content": "}",
                "line": 199
            }},
            {"new": {
                "content": "",
                "line": 200
            }}
        ],
        "new": {"name": "/mobile/android/components/build/nsAndroidHistory.cpp"},
        "old": {"name": "/mobile/android/components/build/nsAndroidHistory.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 9
            }},
            {"old": {
                "content": "                               public nsITimerCallback",
                "line": 20
            }},
            {"new": {
                "content": "                               public nsITimerCallback,",
                "line": 21
            }},
            {"new": {
                "content": "                               public nsINamed",
                "line": 22
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 29
            }}
        ],
        "new": {"name": "/mobile/android/components/build/nsAndroidHistory.h"},
        "old": {"name": "/mobile/android/components/build/nsAndroidHistory.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"Preferences::WriterRunnable\",",
                "line": 379
            }},
            {"old": {
                "content": "                            TaskCategory::Other,",
                "line": 380
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 379
            }}
        ],
        "new": {"name": "/modules/libpref/Preferences.cpp"},
        "old": {"name": "/modules/libpref/Preferences.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#ifdef NIGHTLY_BUILD",
                "line": 1280
            }},
            {"new": {
                "content": "pref(\"dom.min_tracking_timeout_value\", 10000);",
                "line": 1281
            }},
            {"new": {
                "content": "#else",
                "line": 1282
            }},
            {"new": {
                "content": "#endif",
                "line": 1284
            }}
        ],
        "new": {"name": "/modules/libpref/init/all.js"},
        "old": {"name": "/modules/libpref/init/all.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsICaptivePortalCallback)",
                "line": 26
            }},
            {"new": {
                "content": "                  nsICaptivePortalCallback, nsINamed)",
                "line": 26
            }},
            {"new": {
                "content": "// CaptivePortalService::nsINamed",
                "line": 278
            }},
            {"new": {
                "content": "//-----------------------------------------------------------------------------",
                "line": 279
            }},
            {"new": {
                "content": "",
                "line": 280
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 281
            }},
            {"new": {
                "content": "CaptivePortalService::GetName(nsACString& aName)",
                "line": 282
            }},
            {"new": {
                "content": "{",
                "line": 283
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"CaptivePortalService\");",
                "line": 284
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 285
            }},
            {"new": {
                "content": "}",
                "line": 286
            }},
            {"new": {
                "content": "",
                "line": 287
            }},
            {"new": {
                "content": "//-----------------------------------------------------------------------------",
                "line": 288
            }}
        ],
        "new": {"name": "/netwerk/base/CaptivePortalService.cpp"},
        "old": {"name": "/netwerk/base/CaptivePortalService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 7
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 21
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 29
            }}
        ],
        "new": {"name": "/netwerk/base/CaptivePortalService.h"},
        "old": {"name": "/netwerk/base/CaptivePortalService.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 14
            }},
            {"new": {
                "content": "    , public nsINamed",
                "line": 130
            }},
            {"new": {
                "content": "    NS_IMETHOD GetName(nsACString& aName) override",
                "line": 142
            }},
            {"new": {
                "content": "    {",
                "line": 143
            }},
            {"new": {
                "content": "      aName.AssignLiteral(\"net::ConnectionData\");",
                "line": 144
            }},
            {"new": {
                "content": "      return NS_OK;",
                "line": 145
            }},
            {"new": {
                "content": "    }",
                "line": 146
            }},
            {"new": {
                "content": "",
                "line": 147
            }},
            {"new": {
                "content": "",
                "line": 148
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(ConnectionData, nsITransportEventSink, nsITimerCallback)",
                "line": 167
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(ConnectionData, nsITransportEventSink, nsITimerCallback, nsINamed)",
                "line": 176
            }}
        ],
        "new": {"name": "/netwerk/base/Dashboard.cpp"},
        "old": {"name": "/netwerk/base/Dashboard.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(EventTokenBucket, nsITimerCallback)",
                "line": 74
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(EventTokenBucket, nsITimerCallback, nsINamed)",
                "line": 74
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 356
            }},
            {"new": {
                "content": "EventTokenBucket::GetName(nsACString& aName)",
                "line": 357
            }},
            {"new": {
                "content": "{",
                "line": 358
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"EventTokenBucket\");",
                "line": 359
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 360
            }},
            {"new": {
                "content": "}",
                "line": 361
            }},
            {"new": {
                "content": "",
                "line": 362
            }}
        ],
        "new": {"name": "/netwerk/base/EventTokenBucket.cpp"},
        "old": {"name": "/netwerk/base/EventTokenBucket.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 10
            }},
            {"old": {
                "content": "class EventTokenBucket : public nsITimerCallback, public ARefBase",
                "line": 68
            }},
            {"new": {
                "content": "class EventTokenBucket : public nsITimerCallback",
                "line": 69
            }},
            {"new": {
                "content": "                       , public nsINamed",
                "line": 70
            }},
            {"new": {
                "content": "                       , public ARefBase",
                "line": 71
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 76
            }}
        ],
        "new": {"name": "/netwerk/base/EventTokenBucket.h"},
        "old": {"name": "/netwerk/base/EventTokenBucket.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    SystemGroup::Dispatch(\"PredictorLearnRunnable\",",
                "line": 1550
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 1551
            }},
            {"old": {
                "content": "                          runnable.forget());",
                "line": 1552
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 1550
            }}
        ],
        "new": {"name": "/netwerk/base/Predictor.cpp"},
        "old": {"name": "/netwerk/base/Predictor.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 10
            }},
            {"new": {
                "content": "                        , public nsINamed",
                "line": 278
            }},
            {"new": {
                "content": "  // nsINamed",
                "line": 314
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 315
            }},
            {"new": {
                "content": "  {",
                "line": 316
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"PACResolver\");",
                "line": 317
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 318
            }},
            {"new": {
                "content": "  }",
                "line": 319
            }},
            {"new": {
                "content": "",
                "line": 320
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(PACResolver, nsIDNSListener, nsITimerCallback)",
                "line": 320
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(PACResolver, nsIDNSListener, nsITimerCallback, nsINamed)",
                "line": 329
            }}
        ],
        "new": {"name": "/netwerk/base/ProxyAutoConfig.cpp"},
        "old": {"name": "/netwerk/base/ProxyAutoConfig.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(ThrottleQueue, nsIInputChannelThrottleQueue, nsITimerCallback)",
                "line": 235
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(ThrottleQueue, nsIInputChannelThrottleQueue, nsITimerCallback, nsINamed)",
                "line": 235
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 355
            }},
            {"new": {
                "content": "ThrottleQueue::GetName(nsACString& aName)",
                "line": 356
            }},
            {"new": {
                "content": "{",
                "line": 357
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"net::ThrottleQueue\");",
                "line": 358
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 359
            }},
            {"new": {
                "content": "}",
                "line": 360
            }},
            {"new": {
                "content": "",
                "line": 361
            }}
        ],
        "new": {"name": "/netwerk/base/ThrottleQueue.cpp"},
        "old": {"name": "/netwerk/base/ThrottleQueue.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 8
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 30
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 37
            }}
        ],
        "new": {"name": "/netwerk/base/ThrottleQueue.h"},
        "old": {"name": "/netwerk/base/ThrottleQueue.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 7
            }},
            {"old": {
                "content": "class TicklerTimer final : public nsITimerCallback",
                "line": 196
            }},
            {"new": {
                "content": "class TicklerTimer final : public nsITimerCallback, public nsINamed",
                "line": 197
            }},
            {"new": {
                "content": "  // nsINamed",
                "line": 205
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 206
            }},
            {"new": {
                "content": "  {",
                "line": 207
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"TicklerTimer\");",
                "line": 208
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 209
            }},
            {"new": {
                "content": "  }",
                "line": 210
            }},
            {"new": {
                "content": "",
                "line": 211
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(TicklerTimer, nsITimerCallback)",
                "line": 237
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(TicklerTimer, nsITimerCallback, nsINamed)",
                "line": 245
            }}
        ],
        "new": {"name": "/netwerk/base/Tickler.cpp"},
        "old": {"name": "/netwerk/base/Tickler.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "nsAsyncRedirectVerifyHelper::SetName(const char* aName)",
                "line": 242
            }},
            {"old": {
                "content": "{",
                "line": 243
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 244
            }},
            {"old": {
                "content": "}",
                "line": 245
            }},
            {"old": {
                "content": "",
                "line": 246
            }},
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 247
            }}
        ],
        "new": {"name": "/netwerk/base/nsAsyncRedirectVerifyHelper.cpp"},
        "old": {"name": "/netwerk/base/nsAsyncRedirectVerifyHelper.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    , mMonitor(\"nsInputStreamPump\")",
                "line": 46
            }},
            {"new": {
                "content": "    , mMutex(\"nsInputStreamPump\")",
                "line": 46
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 100
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mMutex);",
                "line": 100
            }},
            {"old": {
                "content": "    mMonitor.AssertCurrentThreadIn();",
                "line": 124
            }},
            {"new": {
                "content": "    mMutex.AssertCurrentThreadIn();",
                "line": 124
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 172
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 172
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 179
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 179
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 186
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 186
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 194
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 194
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 231
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 231
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 240
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 240
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 254
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 254
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 261
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 261
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 268
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 268
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 275
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 275
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 318
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 318
            }},
            {"old": {
                "content": "        // -- a monitor; and",
                "line": 417
            }},
            {"new": {
                "content": "        // -- a mutex; and",
                "line": 417
            }},
            {"old": {
                "content": "        //    when exiting the monitor for callbacks.",
                "line": 419
            }},
            {"old": {
                "content": "        ReentrantMonitorAutoEnter lock(mMonitor);",
                "line": 420
            }},
            {"new": {
                "content": "        //    when exiting the mutex for callbacks.",
                "line": 419
            }},
            {"new": {
                "content": "        RecursiveMutexAutoLock lock(mMutex);",
                "line": 420
            }},
            {"old": {
                "content": "        // Prevent parallel execution during callbacks, while out of monitor.",
                "line": 421
            }},
            {"new": {
                "content": "        // Prevent parallel execution during callbacks, while out of mutex.",
                "line": 421
            }},
            {"old": {
                "content": "    mMonitor.AssertCurrentThreadIn();",
                "line": 512
            }},
            {"new": {
                "content": "    mMutex.AssertCurrentThreadIn();",
                "line": 512
            }},
            {"old": {
                "content": "        // Note: Must exit monitor for call to OnStartRequest to avoid",
                "line": 531
            }},
            {"new": {
                "content": "        // Note: Must exit mutex for call to OnStartRequest to avoid",
                "line": 531
            }},
            {"old": {
                "content": "        mMonitor.Exit();",
                "line": 534
            }},
            {"new": {
                "content": "        RecursiveMutexAutoUnlock unlock(mMutex);",
                "line": 534
            }},
            {"old": {
                "content": "        mMonitor.Enter();",
                "line": 536
            }},
            {"old": {
                "content": "    mMonitor.AssertCurrentThreadIn();",
                "line": 547
            }},
            {"new": {
                "content": "    mMutex.AssertCurrentThreadIn();",
                "line": 546
            }},
            {"old": {
                "content": "                // Note: Must exit monitor for call to OnStartRequest to avoid",
                "line": 609
            }},
            {"new": {
                "content": "                // Note: Must exit mutex for call to OnStartRequest to avoid",
                "line": 608
            }},
            {"old": {
                "content": "                mMonitor.Exit();",
                "line": 612
            }},
            {"new": {
                "content": "                RecursiveMutexAutoUnlock unlock(mMutex);",
                "line": 611
            }},
            {"old": {
                "content": "                mMonitor.Enter();",
                "line": 616
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 673
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 671
            }},
            {"old": {
                "content": "    mMonitor.AssertCurrentThreadIn();",
                "line": 682
            }},
            {"new": {
                "content": "    mMutex.AssertCurrentThreadIn();",
                "line": 680
            }},
            {"old": {
                "content": "        // Note: Must exit monitor for call to OnStartRequest to avoid",
                "line": 726
            }},
            {"new": {
                "content": "        // Note: Must exit mutex for call to OnStartRequest to avoid",
                "line": 724
            }},
            {"old": {
                "content": "        mMonitor.Exit();",
                "line": 729
            }},
            {"new": {
                "content": "        RecursiveMutexAutoUnlock unlock(mMutex);",
                "line": 727
            }},
            {"old": {
                "content": "        mMonitor.Enter();",
                "line": 731
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mMonitor);",
                "line": 770
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock lock(mMutex);",
                "line": 767
            }}
        ],
        "new": {"name": "/netwerk/base/nsInputStreamPump.cpp"},
        "old": {"name": "/netwerk/base/nsInputStreamPump.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 12
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 12
            }},
            {"old": {
                "content": "    typedef mozilla::ReentrantMonitorAutoEnter ReentrantMonitorAutoEnter;",
                "line": 22
            }},
            {"new": {
                "content": "    typedef mozilla::RecursiveMutexAutoLock RecursiveMutexAutoLock;",
                "line": 22
            }},
            {"new": {
                "content": "    typedef mozilla::RecursiveMutexAutoUnlock RecursiveMutexAutoUnlock;",
                "line": 23
            }},
            {"old": {
                "content": "    mozilla::ReentrantMonitor     mMonitor;",
                "line": 105
            }},
            {"new": {
                "content": "    mozilla::RecursiveMutex       mMutex;",
                "line": 106
            }}
        ],
        "new": {"name": "/netwerk/base/nsInputStreamPump.h"},
        "old": {"name": "/netwerk/base/nsInputStreamPump.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 25
            }},
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 25
            }},
            {"new": {
                "content": "                                       , public nsINamed",
                "line": 202
            }},
            {"new": {
                "content": "",
                "line": 215
            }},
            {"new": {
                "content": "    NS_IMETHOD GetName(nsACString& aName) override {",
                "line": 216
            }},
            {"new": {
                "content": "      aName.AssignLiteral(\"nsSetDiskSmartSizeCallback\");",
                "line": 217
            }},
            {"new": {
                "content": "      return NS_OK;",
                "line": 218
            }},
            {"new": {
                "content": "    }",
                "line": 219
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsSetDiskSmartSizeCallback, nsITimerCallback)",
                "line": 215
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsSetDiskSmartSizeCallback, nsITimerCallback, nsINamed)",
                "line": 221
            }}
        ],
        "new": {"name": "/netwerk/cache/nsCacheService.cpp"},
        "old": {"name": "/netwerk/cache/nsCacheService.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(CacheFileIOManager, nsITimerCallback)",
                "line": 1192
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(CacheFileIOManager, nsITimerCallback, nsINamed)",
                "line": 1192
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1626
            }},
            {"new": {
                "content": "CacheFileIOManager::GetName(nsACString& aName)",
                "line": 1627
            }},
            {"new": {
                "content": "{",
                "line": 1628
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"CacheFileIOManager\");",
                "line": 1629
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1630
            }},
            {"new": {
                "content": "}",
                "line": 1631
            }},
            {"new": {
                "content": "",
                "line": 1632
            }}
        ],
        "new": {"name": "/netwerk/cache2/CacheFileIOManager.cpp"},
        "old": {"name": "/netwerk/cache2/CacheFileIOManager.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 9
            }},
            {"new": {
                "content": "                         , public nsINamed",
                "line": 258
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 263
            }}
        ],
        "new": {"name": "/netwerk/cache2/CacheFileIOManager.h"},
        "old": {"name": "/netwerk/cache2/CacheFileIOManager.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsICacheTesting)",
                "line": 108
            }},
            {"new": {
                "content": "                  nsICacheTesting,",
                "line": 108
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 109
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1337
            }},
            {"new": {
                "content": "CacheStorageService::GetName(nsACString& aName)",
                "line": 1338
            }},
            {"new": {
                "content": "{",
                "line": 1339
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"CacheStorageService\");",
                "line": 1340
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1341
            }},
            {"new": {
                "content": "}",
                "line": 1342
            }},
            {"new": {
                "content": "",
                "line": 1343
            }}
        ],
        "new": {"name": "/netwerk/cache2/CacheStorageService.cpp"},
        "old": {"name": "/netwerk/cache2/CacheStorageService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 7
            }},
            {"new": {
                "content": "                                , public nsINamed",
                "line": 70
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 78
            }}
        ],
        "new": {"name": "/netwerk/cache2/CacheStorageService.h"},
        "old": {"name": "/netwerk/cache2/CacheStorageService.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "      \"StartDNSRequestChild\",",
                "line": 215
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"CancelDNSRequest\",",
                "line": 328
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 329
            }},
            {"old": {
                "content": "                          runnable.forget());",
                "line": 330
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other, runnable.forget());",
                "line": 327
            }}
        ],
        "new": {"name": "/netwerk/dns/DNSRequestChild.cpp"},
        "old": {"name": "/netwerk/dns/DNSRequestChild.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 16
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 16
            }},
            {"old": {
                "content": "    , mRunningMonitor(\"ChannelEventQueue::mRunningMonitor\")",
                "line": 101
            }},
            {"new": {
                "content": "    , mRunningMutex(\"ChannelEventQueue::mRunningMutex\")",
                "line": 101
            }},
            {"old": {
                "content": "  ReentrantMonitor mRunningMonitor;",
                "line": 159
            }},
            {"new": {
                "content": "  RecursiveMutex mRunningMutex;",
                "line": 159
            }},
            {"old": {
                "content": "  ReentrantMonitorAutoEnter monitor(mRunningMonitor);",
                "line": 182
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock(mRunningMutex);",
                "line": 182
            }}
        ],
        "new": {"name": "/netwerk/ipc/ChannelEventQueue.h"},
        "old": {"name": "/netwerk/ipc/ChannelEventQueue.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsITimerCallback)",
                "line": 28
            }},
            {"new": {
                "content": "                  nsITimerCallback, nsINamed)",
                "line": 28
            }},
            {"new": {
                "content": "/** nsINamed **/",
                "line": 213
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 214
            }},
            {"new": {
                "content": "HSTSPrimingListener::GetName(nsACString& aName)",
                "line": 215
            }},
            {"new": {
                "content": "{",
                "line": 216
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"HSTSPrimingListener\");",
                "line": 217
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 218
            }},
            {"new": {
                "content": "}",
                "line": 219
            }},
            {"new": {
                "content": "",
                "line": 220
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/HSTSPrimerListener.cpp"},
        "old": {"name": "/netwerk/protocol/http/HSTSPrimerListener.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 10
            }},
            {"old": {
                "content": "                                  public nsITimerCallback",
                "line": 91
            }},
            {"new": {
                "content": "                                  public nsITimerCallback,",
                "line": 92
            }},
            {"new": {
                "content": "                                  public nsINamed",
                "line": 93
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 102
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/HSTSPrimerListener.h"},
        "old": {"name": "/netwerk/protocol/http/HSTSPrimerListener.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 448
            }},
            {"new": {
                "content": "TLSFilterTransaction::GetName(nsACString& aName)",
                "line": 449
            }},
            {"new": {
                "content": "{",
                "line": 450
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"TLSFilterTransaction\");",
                "line": 451
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 452
            }},
            {"new": {
                "content": "}",
                "line": 453
            }},
            {"new": {
                "content": "",
                "line": 454
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(TLSFilterTransaction, nsITimerCallback)",
                "line": 1623
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(TLSFilterTransaction, nsITimerCallback, nsINamed)",
                "line": 1630
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/TunnelUtils.cpp"},
        "old": {"name": "/netwerk/protocol/http/TunnelUtils.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 13
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 104
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 113
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/TunnelUtils.h"},
        "old": {"name": "/netwerk/protocol/http/TunnelUtils.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "    NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 3657
            }},
            {"new": {
                "content": "NS_IMETHODIMP // method for nsINamed",
                "line": 4036
            }},
            {"new": {
                "content": "nsHttpConnectionMgr::nsHalfOpenSocket::GetName(nsACString& aName)",
                "line": 4037
            }},
            {"new": {
                "content": "{",
                "line": 4038
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsHttpConnectionMgr::nsHalfOpenSocket\");",
                "line": 4039
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 4040
            }},
            {"new": {
                "content": "}",
                "line": 4041
            }},
            {"new": {
                "content": "",
                "line": 4042
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpConnectionMgr.cpp"},
        "old": {"name": "/netwerk/protocol/http/nsHttpConnectionMgr.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 22
            }},
            {"new": {
                "content": "                                   public nsINamed,",
                "line": 359
            }},
            {"new": {
                "content": "        NS_DECL_NSINAMED",
                "line": 371
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpConnectionMgr.h"},
        "old": {"name": "/netwerk/protocol/http/nsHttpConnectionMgr.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    , mReentrantMonitor(\"nsHttpRequestHead.mReentrantMonitor\")",
                "line": 22
            }},
            {"new": {
                "content": "    , mRecursiveMutex(\"nsHttpRequestHead.mRecursiveMutex\")",
                "line": 22
            }},
            {"old": {
                "content": "    curr.mReentrantMonitor.AssertCurrentThreadIn();",
                "line": 37
            }},
            {"new": {
                "content": "    curr.mRecursiveMutex.AssertCurrentThreadIn();",
                "line": 37
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 43
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 43
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 49
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 49
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 55
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 55
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 61
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 61
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 67
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 67
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 74
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 74
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 83
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 83
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 89
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 89
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 95
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 95
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 101
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 101
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 107
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 107
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 113
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 113
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 120
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 120
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 131
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 131
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 142
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 142
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 151
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 151
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 162
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 162
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 168
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 168
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 178
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 178
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 187
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 187
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 193
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 193
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 200
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 200
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 213
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 213
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 219
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 219
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 225
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 225
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 297
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 297
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 303
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 303
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 328
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 328
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 340
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 340
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter mon(mReentrantMonitor);",
                "line": 362
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock mon(mRecursiveMutex);",
                "line": 362
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpRequestHead.cpp"},
        "old": {"name": "/netwerk/protocol/http/nsHttpRequestHead.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 9
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 9
            }},
            {"old": {
                "content": "    void Enter() { mReentrantMonitor.Enter(); }",
                "line": 31
            }},
            {"old": {
                "content": "    void Exit() { mReentrantMonitor.Exit(); }",
                "line": 32
            }},
            {"new": {
                "content": "    void Enter() { mRecursiveMutex.Lock(); }",
                "line": 31
            }},
            {"new": {
                "content": "    void Exit() { mRecursiveMutex.Unlock(); }",
                "line": 32
            }},
            {"old": {
                "content": "    // We are using ReentrantMonitor instead of a Mutex because VisitHeader",
                "line": 119
            }},
            {"new": {
                "content": "    // We are using RecursiveMutex instead of a Mutex because VisitHeader",
                "line": 119
            }},
            {"old": {
                "content": "    ReentrantMonitor  mReentrantMonitor;",
                "line": 121
            }},
            {"new": {
                "content": "    RecursiveMutex  mRecursiveMutex;",
                "line": 121
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpRequestHead.h"},
        "old": {"name": "/netwerk/protocol/http/nsHttpRequestHead.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    : mReentrantMonitor(\"nsHttpResponseHead.mReentrantMonitor\")",
                "line": 24
            }},
            {"new": {
                "content": "    : mRecursiveMutex(\"nsHttpResponseHead.mRecursiveMutex\")",
                "line": 24
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(other.mReentrantMonitor);",
                "line": 28
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(other.mRecursiveMutex);",
                "line": 28
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitorOther(other.mReentrantMonitor);",
                "line": 49
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 50
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitorOther(other.mRecursiveMutex);",
                "line": 49
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 50
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 70
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 70
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 76
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 76
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 82
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 82
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 88
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 88
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 94
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 94
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 100
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 100
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 106
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 106
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 112
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 112
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 118
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 118
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 124
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 124
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 132
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 132
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 163
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 163
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 195
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 195
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 201
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 201
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 207
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 207
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 213
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 213
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 219
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 219
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 225
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 225
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 231
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 231
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 237
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 237
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 263
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 263
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 285
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 285
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 294
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 294
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 329
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 329
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 535
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 535
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 586
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 586
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 661
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 661
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 707
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 707
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 763
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 763
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 840
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 840
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 856
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 856
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 880
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitorOther(aOther->mReentrantMonitor);",
                "line": 881
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 880
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitorOther(aOther->mRecursiveMutex);",
                "line": 881
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 935
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 935
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 971
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 971
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 992
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 992
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1025
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1025
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1031
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1031
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1062
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1062
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitorOther(other.mReentrantMonitor);",
                "line": 1070
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(curr.mReentrantMonitor);",
                "line": 1071
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitorOther(other.mRecursiveMutex);",
                "line": 1070
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(curr.mRecursiveMutex);",
                "line": 1071
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1091
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1091
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1219
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1219
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1229
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1229
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1238
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1238
            }},
            {"old": {
                "content": "    ReentrantMonitorAutoEnter monitor(mReentrantMonitor);",
                "line": 1244
            }},
            {"new": {
                "content": "    RecursiveMutexAutoLock monitor(mRecursiveMutex);",
                "line": 1244
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpResponseHead.cpp"},
        "old": {"name": "/netwerk/protocol/http/nsHttpResponseHead.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "#include \"mozilla/ReentrantMonitor.h\"",
                "line": 9
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 9
            }},
            {"old": {
                "content": "                         , mReentrantMonitor(\"nsHttpResponseHead.mReentrantMonitor\")",
                "line": 39
            }},
            {"new": {
                "content": "                         , mRecursiveMutex(\"nsHttpResponseHead.mRecursiveMutex\")",
                "line": 39
            }},
            {"old": {
                "content": "    void Enter() { mReentrantMonitor.Enter(); }",
                "line": 43
            }},
            {"old": {
                "content": "    void Exit() { mReentrantMonitor.Exit(); }",
                "line": 44
            }},
            {"new": {
                "content": "    void Enter() { mRecursiveMutex.Lock(); }",
                "line": 43
            }},
            {"new": {
                "content": "    void Exit() { mRecursiveMutex.Unlock(); }",
                "line": 44
            }},
            {"old": {
                "content": "    // We are using ReentrantMonitor instead of a Mutex because VisitHeader",
                "line": 186
            }},
            {"new": {
                "content": "    // We are using RecursiveMutex instead of a Mutex because VisitHeader",
                "line": 186
            }},
            {"old": {
                "content": "    ReentrantMonitor  mReentrantMonitor;",
                "line": 188
            }},
            {"new": {
                "content": "    RecursiveMutex  mRecursiveMutex;",
                "line": 188
            }}
        ],
        "new": {"name": "/netwerk/protocol/http/nsHttpResponseHead.h"},
        "old": {"name": "/netwerk/protocol/http/nsHttpResponseHead.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsIObserver)",
                "line": 91
            }},
            {"new": {
                "content": "                  nsIObserver,",
                "line": 91
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 92
            }},
            {"new": {
                "content": "// nsINamed",
                "line": 3321
            }},
            {"new": {
                "content": "",
                "line": 3322
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 3323
            }},
            {"new": {
                "content": "WebSocketChannel::GetName(nsACString& aName)",
                "line": 3324
            }},
            {"new": {
                "content": "{",
                "line": 3325
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"WebSocketChannel\");",
                "line": 3326
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 3327
            }},
            {"new": {
                "content": "}",
                "line": 3328
            }},
            {"new": {
                "content": "",
                "line": 3329
            }}
        ],
        "new": {"name": "/netwerk/protocol/websocket/WebSocketChannel.cpp"},
        "old": {"name": "/netwerk/protocol/websocket/WebSocketChannel.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 15
            }},
            {"old": {
                "content": "                         public nsIChannelEventSink",
                "line": 73
            }},
            {"new": {
                "content": "                         public nsIChannelEventSink,",
                "line": 74
            }},
            {"new": {
                "content": "                         public nsINamed",
                "line": 75
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 91
            }}
        ],
        "new": {"name": "/netwerk/protocol/websocket/WebSocketChannel.h"},
        "old": {"name": "/netwerk/protocol/websocket/WebSocketChannel.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "MOZ_ARG_WITH_STRING(crashreporter-enable-percent,",
                "line": 3113
            }},
            {"old": {
                "content": "[  --with-crashreporter-enable-percent=NN",
                "line": 3114
            }},
            {"old": {
                "content": "                          Enable sending crash reports by default on NN% of users. (default=100)],",
                "line": 3115
            }},
            {"old": {
                "content": "[ val=`echo $withval | sed 's/[^0-9]//g'`",
                "line": 3116
            }},
            {"old": {
                "content": "    MOZ_CRASHREPORTER_ENABLE_PERCENT=\"$val\"])",
                "line": 3117
            }},
            {"old": {
                "content": "",
                "line": 3118
            }},
            {"old": {
                "content": "if test -z \"$MOZ_CRASHREPORTER_ENABLE_PERCENT\"; then",
                "line": 3119
            }},
            {"old": {
                "content": "   MOZ_CRASHREPORTER_ENABLE_PERCENT=100",
                "line": 3120
            }},
            {"old": {
                "content": "fi",
                "line": 3121
            }},
            {"old": {
                "content": "AC_DEFINE_UNQUOTED(MOZ_CRASHREPORTER_ENABLE_PERCENT, $MOZ_CRASHREPORTER_ENABLE_PERCENT)",
                "line": 3122
            }},
            {"old": {
                "content": "",
                "line": 3123
            }}
        ],
        "new": {"name": "/old-configure.in"},
        "old": {"name": "/old-configure.in"}
    },
    {
        "changes": [
            {"old": {
                "content": "  if (NS_FAILED(DispatchToMain(\"nsHtml5ExecutorFlusher\", runnable.forget()))) {",
                "line": 1379
            }},
            {"new": {
                "content": "  if (NS_FAILED(DispatchToMain(runnable.forget()))) {",
                "line": 1379
            }},
            {"old": {
                "content": "                    DispatchToMain(\"nsHtml5LoadFlusher\", runnable.forget()))) {",
                "line": 1416
            }},
            {"new": {
                "content": "                    DispatchToMain(runnable.forget()))) {",
                "line": 1416
            }},
            {"old": {
                "content": "            DispatchToMain(\"nsHtml5ExecutorFlusher\", runnable.forget()))) {",
                "line": 1758
            }},
            {"new": {
                "content": "            DispatchToMain(runnable.forget()))) {",
                "line": 1758
            }},
            {"old": {
                "content": "            DispatchToMain(\"nsHtml5ExecutorFlusher\", runnable.forget()))) {",
                "line": 1768
            }},
            {"new": {
                "content": "            DispatchToMain(runnable.forget()))) {",
                "line": 1768
            }},
            {"old": {
                "content": "  if (NS_FAILED(DispatchToMain(\"nsHtml5ExecutorFlusher\", runnable.forget()))) {",
                "line": 1786
            }},
            {"new": {
                "content": "  if (NS_FAILED(DispatchToMain(runnable.forget()))) {",
                "line": 1786
            }},
            {"old": {
                "content": "nsHtml5StreamParser::DispatchToMain(const char* aName,",
                "line": 1791
            }},
            {"old": {
                "content": "                                    already_AddRefed<nsIRunnable>&& aRunnable)",
                "line": 1792
            }},
            {"new": {
                "content": "nsHtml5StreamParser::DispatchToMain(already_AddRefed<nsIRunnable>&& aRunnable)",
                "line": 1791
            }},
            {"old": {
                "content": "  nsCOMPtr<nsIRunnable> runnable(aRunnable);",
                "line": 1794
            }},
            {"old": {
                "content": "    return mDocGroup->Dispatch(aName, TaskCategory::Network, runnable.forget());",
                "line": 1796
            }},
            {"new": {
                "content": "    return mDocGroup->Dispatch(TaskCategory::Network, Move(aRunnable));",
                "line": 1794
            }},
            {"old": {
                "content": "  return SchedulerGroup::UnlabeledDispatch(",
                "line": 1798
            }},
            {"old": {
                "content": "    aName, TaskCategory::Network, runnable.forget());",
                "line": 1799
            }},
            {"new": {
                "content": "  return SchedulerGroup::UnlabeledDispatch(TaskCategory::Network, Move(aRunnable));",
                "line": 1796
            }}
        ],
        "new": {"name": "/parser/html/nsHtml5StreamParser.cpp"},
        "old": {"name": "/parser/html/nsHtml5StreamParser.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    nsresult DispatchToMain(const char* aName,",
                "line": 391
            }},
            {"old": {
                "content": "                            already_AddRefed<nsIRunnable>&& aRunnable);",
                "line": 392
            }},
            {"new": {
                "content": "    nsresult DispatchToMain(already_AddRefed<nsIRunnable>&& aRunnable);",
                "line": 391
            }}
        ],
        "new": {"name": "/parser/html/nsHtml5StreamParser.h"},
        "old": {"name": "/parser/html/nsHtml5StreamParser.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (NS_FAILED(aPtr->DispatchToMain(\"nsHtml5StreamParserReleaser\",",
                "line": 54
            }},
            {"old": {
                "content": "                                       releaser.forget()))) {",
                "line": 55
            }},
            {"new": {
                "content": "    if (NS_FAILED(aPtr->DispatchToMain(releaser.forget()))) {",
                "line": 54
            }}
        ],
        "new": {"name": "/parser/html/nsHtml5StreamParserPtr.h"},
        "old": {"name": "/parser/html/nsHtml5StreamParserPtr.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    if (NS_FAILED(mDocument->Dispatch(\"nsHtml5Parser::Terminate\",",
                "line": 244
            }},
            {"old": {
                "content": "                                      TaskCategory::Network,",
                "line": 245
            }},
            {"new": {
                "content": "    if (NS_FAILED(mDocument->Dispatch(TaskCategory::Network,",
                "line": 244
            }},
            {"old": {
                "content": "    if (NS_FAILED(mDocument->Dispatch(\"nsHtml5ExecutorReflusher\",",
                "line": 272
            }},
            {"old": {
                "content": "                                      TaskCategory::Network,",
                "line": 273
            }},
            {"new": {
                "content": "    if (NS_FAILED(mDocument->Dispatch(TaskCategory::Network,",
                "line": 271
            }}
        ],
        "new": {"name": "/parser/html/nsHtml5TreeOpExecutor.cpp"},
        "old": {"name": "/parser/html/nsHtml5TreeOpExecutor.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "        \"nsHtml5SVGLoadDispatcher\", TaskCategory::Network, event.forget()))) {",
                "line": 598
            }},
            {"new": {
                "content": "        TaskCategory::Network, event.forget()))) {",
                "line": 598
            }}
        ],
        "new": {"name": "/parser/html/nsHtml5TreeOperation.cpp"},
        "old": {"name": "/parser/html/nsHtml5TreeOperation.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "function test(mode,i){",
                "line": 53
            }},
            {"new": {
                "content": "window.addEventListener(\"message\", verifyResult);",
                "line": 53
            }},
            {"new": {
                "content": "",
                "line": 54
            }},
            {"new": {
                "content": "function verifyResult(event) {",
                "line": 55
            }},
            {"new": {
                "content": "  let i = event.data.index;",
                "line": 56
            }},
            {"new": {
                "content": "  let curFrame = document.getElementById(\"test\" + i);",
                "line": 57
            }},
            {"new": {
                "content": "  let mode = SpecialPowers.wrap(curFrame).contentDocument.compatMode;",
                "line": 58
            }},
            {"new": {
                "content": "    window.removeEventListener(\"message\", verifyResult);",
                "line": 61
            }},
            {"old": {
                "content": "function insert_iframe(doctype,expected) {",
                "line": 64
            }},
            {"new": {
                "content": "function insert_iframe(index, doctype) {",
                "line": 70
            }},
            {"new": {
                "content": "  elm.setAttribute(\"id\", \"test\" + index);",
                "line": 72
            }},
            {"old": {
                "content": "    '<html><body onload=\"parent.test(document.compatMode,'+i+')\"></body>');",
                "line": 67
            }},
            {"new": {
                "content": "    '<html><body onload=\"parent.postMessage({index:'+index+'},\\'*\\');\"></body>');",
                "line": 74
            }},
            {"old": {
                "content": "    insert_iframe(doctypes[i+1],doctypes[i]);",
                "line": 76
            }},
            {"new": {
                "content": "    insert_iframe(i,doctypes[i+1]);",
                "line": 83
            }}
        ],
        "new": {"name": "/parser/htmlparser/tests/mochitest/test_compatmode.html"},
        "old": {"name": "/parser/htmlparser/tests/mochitest/test_compatmode.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 566
            }},
            {"old": {
                "content": "",
                "line": 578
            }},
            {"old": {
                "content": "#ifdef MOZ_CONTENT_SANDBOX",
                "line": 579
            }},
            {"old": {
                "content": "  case GeckoProcessType_Content:",
                "line": 580
            }},
            {"old": {
                "content": "    if (!info.Test(SandboxInfo::kEnabledForContent)) {",
                "line": 581
            }},
            {"old": {
                "content": "      break;",
                "line": 582
            }},
            {"old": {
                "content": "    }",
                "line": 583
            }},
            {"old": {
                "content": "#ifndef MOZ_ALSA",
                "line": 584
            }},
            {"old": {
                "content": "    canUnshareIPC = true;",
                "line": 585
            }},
            {"old": {
                "content": "#endif",
                "line": 586
            }},
            {"old": {
                "content": "    break;",
                "line": 587
            }},
            {"old": {
                "content": "#endif",
                "line": 588
            }},
            {"old": {
                "content": "",
                "line": 589
            }},
            {"new": {
                "content": "    // In the future, content processes will be able to use some of",
                "line": 577
            }},
            {"new": {
                "content": "    // these.",
                "line": 578
            }}
        ],
        "new": {"name": "/security/sandbox/linux/Sandbox.cpp"},
        "old": {"name": "/security/sandbox/linux/Sandbox.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      // SysV IPC is a problem: it follows the Unix \"same uid policy\"",
                "line": 569
            }},
            {"old": {
                "content": "      // and can't be restricted/brokered like file access.",
                "line": 570
            }},
            {"old": {
                "content": "#ifdef MOZ_ALSA",
                "line": 571
            }},
            {"new": {
                "content": "      // These are a problem: SysV shared memory follows the Unix",
                "line": 569
            }},
            {"new": {
                "content": "      // \"same uid policy\" and can't be restricted/brokered like file",
                "line": 570
            }},
            {"new": {
                "content": "      // access.  But the graphics layer might not be using them",
                "line": 571
            }},
            {"new": {
                "content": "      // anymore; this needs to be studied.",
                "line": 572
            }},
            {"new": {
                "content": "    case SHMGET:",
                "line": 573
            }},
            {"new": {
                "content": "    case SHMCTL:",
                "line": 574
            }},
            {"new": {
                "content": "    case SHMAT:",
                "line": 575
            }},
            {"new": {
                "content": "    case SHMDT:",
                "line": 576
            }},
            {"new": {
                "content": "    case MSGGET:",
                "line": 580
            }},
            {"old": {
                "content": "#endif",
                "line": 576
            }}
        ],
        "new": {"name": "/security/sandbox/linux/SandboxFilter.cpp"},
        "old": {"name": "/security/sandbox/linux/SandboxFilter.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 10
            }}
        ],
        "new": {"name": "/storage/test/gtest/test_deadlock_detector.cpp"},
        "old": {"name": "/storage/test/gtest/test_deadlock_detector.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    { 'name': \"Tabs closed extra processes\", 'path': \"memory-report-TabsClosedExtraProcesses-4.json.gz\" },",
                "line": 18
            }},
            {"new": {
                "content": "                      ['TabsClosedExtraProcesses-', -1],",
                "line": 44
            }}
        ],
        "new": {"name": "/testing/awsy/awsy/process_perf_data.py"},
        "old": {"name": "/testing/awsy/awsy/process_perf_data.py"}
    },
    {
        "changes": [
            {"new": {
                "content": "    def clear_preloaded_browser(self):",
                "line": 126
            }},
            {"new": {
                "content": "        \"\"\"",
                "line": 127
            }},
            {"new": {
                "content": "        Clears out the preloaded browser.",
                "line": 128
            }},
            {"new": {
                "content": "",
                "line": 129
            }},
            {"new": {
                "content": "        Note: Does nothing on older builds that don't have a",
                "line": 130
            }},
            {"new": {
                "content": "              `gBrowser.removePreloadedBrowser` method.",
                "line": 131
            }},
            {"new": {
                "content": "        \"\"\"",
                "line": 132
            }},
            {"new": {
                "content": "        self.logger.info(\"closing preloaded browser\")",
                "line": 133
            }},
            {"new": {
                "content": "        script = \"\"\"",
                "line": 134
            }},
            {"new": {
                "content": "            if (\"removePreloadedBrowser\" in gBrowser) {",
                "line": 135
            }},
            {"new": {
                "content": "                return gBrowser.removePreloadedBrowser();",
                "line": 136
            }},
            {"new": {
                "content": "            } else {",
                "line": 137
            }},
            {"new": {
                "content": "                return \"gBrowser.removePreloadedBrowser not available\";",
                "line": 138
            }},
            {"new": {
                "content": "            }",
                "line": 139
            }},
            {"new": {
                "content": "            \"\"\"",
                "line": 140
            }},
            {"new": {
                "content": "        try:",
                "line": 141
            }},
            {"new": {
                "content": "            result = self.marionette.execute_script(script,",
                "line": 142
            }},
            {"new": {
                "content": "                                                    script_timeout=180000)",
                "line": 143
            }},
            {"new": {
                "content": "        except JavascriptException, e:",
                "line": 144
            }},
            {"new": {
                "content": "            self.logger.error(\"gBrowser.removePreloadedBrowser() JavaScript error: %s\" % e)",
                "line": 145
            }},
            {"new": {
                "content": "        except ScriptTimeoutException:",
                "line": 146
            }},
            {"new": {
                "content": "            self.logger.error(\"gBrowser.removePreloadedBrowser() timed out\")",
                "line": 147
            }},
            {"new": {
                "content": "        except:",
                "line": 148
            }},
            {"new": {
                "content": "            self.logger.error(\"gBrowser.removePreloadedBrowser() Unexpected error: %s\" % sys.exc_info()[0])",
                "line": 149
            }},
            {"new": {
                "content": "        else:",
                "line": 150
            }},
            {"new": {
                "content": "            if result:",
                "line": 151
            }},
            {"new": {
                "content": "              self.logger.info(result)",
                "line": 152
            }},
            {"new": {
                "content": "",
                "line": 153
            }},
            {"new": {
                "content": "            # Create checkpoint that may contain retained processes that will",
                "line": 371
            }},
            {"new": {
                "content": "            # be reused.",
                "line": 372
            }},
            {"new": {
                "content": "            create_checkpoint(\"TabsClosedExtraProcesses\", itr)",
                "line": 373
            }},
            {"new": {
                "content": "",
                "line": 374
            }},
            {"new": {
                "content": "            # Clear out the retained processes and measure again.",
                "line": 375
            }},
            {"new": {
                "content": "            self.clear_preloaded_browser()",
                "line": 376
            }},
            {"new": {
                "content": "",
                "line": 377
            }}
        ],
        "new": {"name": "/testing/awsy/awsy/test_memory_usage.py"},
        "old": {"name": "/testing/awsy/awsy/test_memory_usage.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"ship_it_username\":  \"stage-ffxbld\",",
                "line": 18
            }},
            {"new": {
                "content": "    \"ship_it_username\":  \"ship_it-stage-ffxbld\",",
                "line": 18
            }}
        ],
        "new": {"name": "/testing/mozharness/configs/releases/dev_postrelease_firefox_beta.py"},
        "old": {"name": "/testing/mozharness/configs/releases/dev_postrelease_firefox_beta.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"ship_it_username\":  \"stage-ffxbld\",",
                "line": 20
            }},
            {"new": {
                "content": "    \"ship_it_username\":  \"ship_it-stage-ffxbld\",",
                "line": 20
            }}
        ],
        "new": {"name": "/testing/mozharness/configs/releases/dev_postrelease_firefox_release.py"},
        "old": {"name": "/testing/mozharness/configs/releases/dev_postrelease_firefox_release.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"ship_it_username\":  \"ffxbld\",",
                "line": 16
            }},
            {"new": {
                "content": "    \"ship_it_username\":  \"ship_it-ffxbld\",",
                "line": 16
            }}
        ],
        "new": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_beta.py"},
        "old": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_beta.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"ship_it_username\":  \"ffxbld\",",
                "line": 20
            }},
            {"new": {
                "content": "    \"ship_it_username\":  \"ship_it-ffxbld\",",
                "line": 20
            }}
        ],
        "new": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_esr52.py"},
        "old": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_esr52.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "    \"ship_it_username\":  \"ffxbld\",",
                "line": 20
            }},
            {"new": {
                "content": "    \"ship_it_username\":  \"ship_it-ffxbld\",",
                "line": 20
            }}
        ],
        "new": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_release.py"},
        "old": {"name": "/testing/mozharness/configs/releases/postrelease_firefox_release.py"}
    },
    {
        "changes": [
            {"old": {
                "content": "// Don't new-profile' ping on new profiles during tests, otherwise the testing framework",
                "line": 252
            }},
            {"new": {
                "content": "// Don't send 'new-profile' ping on new profiles during tests, otherwise the testing framework",
                "line": 252
            }},
            {"new": {
                "content": "// Don't send the 'shutdown' ping using the pingsender on the first session using",
                "line": 255
            }},
            {"new": {
                "content": "// the 'pingsender' process. Valgrind marks the process as leaky (e.g. see bug 1364068",
                "line": 256
            }},
            {"new": {
                "content": "// for the 'new-profile' ping) but does not provide enough information",
                "line": 257
            }},
            {"new": {
                "content": "// to suppress the leak. Running locally does not reproduce the issue,",
                "line": 258
            }},
            {"new": {
                "content": "// so disable this until we rewrite the pingsender in Rust (bug 1339035).",
                "line": 259
            }},
            {"new": {
                "content": "user_pref(\"toolkit.telemetry.shutdownPingSender.enabledFirstSession\", false);",
                "line": 260
            }}
        ],
        "new": {"name": "/testing/profiles/prefs_general.js"},
        "old": {"name": "/testing/profiles/prefs_general.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 6
            }},
            {"old": {
                "content": "  [Document interface: attribute onvisibilitychange]",
                "line": 7
            }},
            {"old": {
                "content": "    expected: FAIL",
                "line": 8
            }},
            {"old": {
                "content": "",
                "line": 9
            }},
            {"old": {
                "content": "  [Document interface: window.document must inherit property \"onvisibilitychange\" with the proper type (2)]",
                "line": 10
            }},
            {"old": {
                "content": "    expected: FAIL",
                "line": 11
            }},
            {"old": {
                "content": "",
                "line": 12
            }}
        ],
        "new": {"name": "/testing/web-platform/meta/page-visibility/idlharness.html.ini"},
        "old": {"name": "/testing/web-platform/meta/page-visibility/idlharness.html.ini"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-14-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-14-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-15-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-15-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-block-page-break-inside-avoid-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-2-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-6-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-9-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-9-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-inline-page-break-inside-avoid-1-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-inline-page-break-inside-avoid-1-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-2-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-2-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-3-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-3-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-4-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-4-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-5-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-5-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-6-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-6-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-7-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-7-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html"}
    },
    {
        "changes": [
            {"old": {
                "content": "<html lang=\"en-US\" class=\"reftest-print\">",
                "line": 1
            }},
            {"new": {
                "content": "<html lang=\"en-US\" class=\"reftest-paged\">",
                "line": 1
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-ref.html"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/css21/pagination/moz-css21-table-page-break-inside-avoid-ref.html"}
    },
    {
        "changes": [
            {"old": {
                "content": " <head class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": " <head class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/multicol3/multicol-height-002.xht"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/multicol3/multicol-height-002.xht"}
    },
    {
        "changes": [
            {"old": {
                "content": " <head class=\"reftest-print\">",
                "line": 2
            }},
            {"new": {
                "content": " <head class=\"reftest-paged\">",
                "line": 2
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/multicol3/reference/multicol-height-002.xht"},
        "old": {"name": "/testing/web-platform/tests/css/vendor-imports/mozilla/mozilla-central-reftests/multicol3/reference/multicol-height-002.xht"}
    },
    {
        "changes": [
            {"old": {
                "content": "<link rel=\"help\" href=\"http://www.w3.org/TR/page-visibility/#sec-document-interface\"/>",
                "line": 6
            }},
            {"new": {
                "content": "<link rel=\"help\" href=\"https://w3c.github.io/page-visibility/\"/>",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "[TreatNonObjectAsNull]",
                "line": 18
            }},
            {"new": {
                "content": "callback EventHandlerNonNull = any (Event event);",
                "line": 19
            }},
            {"new": {
                "content": "typedef EventHandlerNonNull? EventHandler;",
                "line": 20
            }}
        ],
        "new": {"name": "/testing/web-platform/tests/page-visibility/idlharness.html"},
        "old": {"name": "/testing/web-platform/tests/page-visibility/idlharness.html"}
    },
    {
        "changes": [
            {"new": {
                "content": "  NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 195
            }},
            {"new": {
                "content": "AlertImageRequest::GetName(nsACString& aName)",
                "line": 272
            }},
            {"new": {
                "content": "{",
                "line": 273
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"AlertImageRequest\");",
                "line": 274
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 275
            }},
            {"new": {
                "content": "}",
                "line": 276
            }},
            {"new": {
                "content": "",
                "line": 277
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 278
            }}
        ],
        "new": {"name": "/toolkit/components/alerts/AlertNotification.cpp"},
        "old": {"name": "/toolkit/components/alerts/AlertNotification.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 11
            }},
            {"old": {
                "content": "                                public nsITimerCallback",
                "line": 17
            }},
            {"new": {
                "content": "                                public nsITimerCallback,",
                "line": 18
            }},
            {"new": {
                "content": "                                public nsINamed",
                "line": 19
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 28
            }}
        ],
        "new": {"name": "/toolkit/components/alerts/AlertNotification.h"},
        "old": {"name": "/toolkit/components/alerts/AlertNotification.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                     nsIAutoCompleteObserver, nsITimerCallback, nsITreeView)",
                "line": 56
            }},
            {"new": {
                "content": "                     nsIAutoCompleteObserver, nsITimerCallback, nsITreeView,",
                "line": 56
            }},
            {"new": {
                "content": "                     nsINamed)",
                "line": 57
            }},
            {"new": {
                "content": "//// nsINamed",
                "line": 926
            }},
            {"new": {
                "content": "",
                "line": 927
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 928
            }},
            {"new": {
                "content": "nsAutoCompleteController::GetName(nsACString& aName)",
                "line": 929
            }},
            {"new": {
                "content": "{",
                "line": 930
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsAutoCompleteController\");",
                "line": 931
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 932
            }},
            {"new": {
                "content": "}",
                "line": 933
            }},
            {"new": {
                "content": "",
                "line": 934
            }},
            {"new": {
                "content": "////////////////////////////////////////////////////////////////////////",
                "line": 935
            }}
        ],
        "new": {"name": "/toolkit/components/autocomplete/nsAutoCompleteController.cpp"},
        "old": {"name": "/toolkit/components/autocomplete/nsAutoCompleteController.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 12
            }},
            {"old": {
                "content": "                                       public nsITreeView",
                "line": 22
            }},
            {"new": {
                "content": "                                       public nsITreeView,",
                "line": 23
            }},
            {"new": {
                "content": "                                       public nsINamed",
                "line": 24
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 34
            }}
        ],
        "new": {"name": "/toolkit/components/autocomplete/nsAutoCompleteController.h"},
        "old": {"name": "/toolkit/components/autocomplete/nsAutoCompleteController.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": " * This file includes the following constructors and global objects:",
                "line": 6
            }},
            {"old": {
                "content": " *",
                "line": 7
            }},
            {"old": {
                "content": " * Download",
                "line": 8
            }},
            {"old": {
                "content": " * Represents a single download, with associated state and actions.  This object",
                "line": 9
            }},
            {"old": {
                "content": " * is transient, though it can be included in a DownloadList so that it can be",
                "line": 10
            }},
            {"old": {
                "content": " * managed by the user interface and persisted across sessions.",
                "line": 11
            }},
            {"old": {
                "content": " *",
                "line": 12
            }},
            {"old": {
                "content": " * DownloadSource",
                "line": 13
            }},
            {"old": {
                "content": " * Represents the source of a download, for example a document or an URI.",
                "line": 14
            }},
            {"old": {
                "content": " *",
                "line": 15
            }},
            {"old": {
                "content": " * DownloadTarget",
                "line": 16
            }},
            {"old": {
                "content": " * Represents the target of a download, for example a file in the global",
                "line": 17
            }},
            {"old": {
                "content": " * downloads directory, or a file in the system temporary directory.",
                "line": 18
            }},
            {"old": {
                "content": " *",
                "line": 19
            }},
            {"old": {
                "content": " * DownloadError",
                "line": 20
            }},
            {"old": {
                "content": " * Provides detailed information about a download failure.",
                "line": 21
            }},
            {"old": {
                "content": " *",
                "line": 22
            }},
            {"old": {
                "content": " * DownloadSaver",
                "line": 23
            }},
            {"old": {
                "content": " * Template for an object that actually transfers the data for the download.",
                "line": 24
            }},
            {"old": {
                "content": " *",
                "line": 25
            }},
            {"old": {
                "content": " * DownloadCopySaver",
                "line": 26
            }},
            {"old": {
                "content": " * Saver object that simply copies the entire source file to the target.",
                "line": 27
            }},
            {"old": {
                "content": " *",
                "line": 28
            }},
            {"old": {
                "content": " * DownloadLegacySaver",
                "line": 29
            }},
            {"old": {
                "content": " * Saver object that integrates with the legacy nsITransfer interface.",
                "line": 30
            }},
            {"old": {
                "content": " *",
                "line": 31
            }},
            {"old": {
                "content": " * DownloadPDFSaver",
                "line": 32
            }},
            {"old": {
                "content": " * This DownloadSaver type creates a PDF file from the current document in a",
                "line": 33
            }},
            {"old": {
                "content": " * given window, specified using the windowRef property of the DownloadSource",
                "line": 34
            }},
            {"old": {
                "content": " * object associated with the download.",
                "line": 35
            }},
            {"new": {
                "content": " * Main implementation of the Downloads API objects. Consumers should get",
                "line": 4
            }},
            {"new": {
                "content": " * references to these objects through the \"Downloads.jsm\" module.",
                "line": 5
            }},
            {"old": {
                "content": "// Globals",
                "line": 48
            }},
            {"old": {
                "content": "",
                "line": 49
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 50
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 51
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 52
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 53
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 18
            }},
            {"old": {
                "content": "// Download",
                "line": 138
            }},
            {"old": {
                "content": "",
                "line": 139
            }},
            {"old": {
                "content": "// DownloadSource",
                "line": 1225
            }},
            {"old": {
                "content": "",
                "line": 1226
            }},
            {"old": {
                "content": "// DownloadTarget",
                "line": 1349
            }},
            {"old": {
                "content": "",
                "line": 1350
            }},
            {"old": {
                "content": "// DownloadError",
                "line": 1477
            }},
            {"old": {
                "content": "",
                "line": 1478
            }},
            {"old": {
                "content": "// DownloadSaver",
                "line": 1669
            }},
            {"old": {
                "content": "",
                "line": 1670
            }},
            {"old": {
                "content": "// DownloadCopySaver",
                "line": 1820
            }},
            {"old": {
                "content": "",
                "line": 1821
            }},
            {"old": {
                "content": "// DownloadLegacySaver",
                "line": 2295
            }},
            {"old": {
                "content": "",
                "line": 2296
            }},
            {"old": {
                "content": "// DownloadPDFSaver",
                "line": 2665
            }},
            {"old": {
                "content": "",
                "line": 2666
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadCore.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadCore.jsm"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "/**",
                "line": 4
            }},
            {"new": {
                "content": " * Provides access to downloads from previous sessions on platforms that store",
                "line": 5
            }},
            {"new": {
                "content": " * them in a different location than session downloads.",
                "line": 6
            }},
            {"new": {
                "content": " *",
                "line": 7
            }},
            {"new": {
                "content": " * This module works with objects that are compatible with Download, while using",
                "line": 8
            }},
            {"new": {
                "content": " * the Places interfaces internally. Some of the Places objects may also be",
                "line": 9
            }},
            {"new": {
                "content": " * exposed to allow the consumers to integrate with history view commands.",
                "line": 10
            }},
            {"new": {
                "content": " */",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "\"use strict\";",
                "line": 13
            }},
            {"new": {
                "content": "",
                "line": 14
            }},
            {"new": {
                "content": "this.EXPORTED_SYMBOLS = [",
                "line": 15
            }},
            {"new": {
                "content": "  \"DownloadHistory\",",
                "line": 16
            }},
            {"new": {
                "content": "];",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 19
            }},
            {"new": {
                "content": "",
                "line": 20
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/Services.jsm\");",
                "line": 21
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");",
                "line": 22
            }},
            {"new": {
                "content": "",
                "line": 23
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"PlacesUtils\",",
                "line": 24
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/PlacesUtils.jsm\");",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "const METADATA_ANNO = \"downloads/metaData\";",
                "line": 27
            }},
            {"new": {
                "content": "",
                "line": 28
            }},
            {"new": {
                "content": "const METADATA_STATE_FINISHED = 1;",
                "line": 29
            }},
            {"new": {
                "content": "const METADATA_STATE_FAILED = 2;",
                "line": 30
            }},
            {"new": {
                "content": "const METADATA_STATE_CANCELED = 3;",
                "line": 31
            }},
            {"new": {
                "content": "const METADATA_STATE_BLOCKED_PARENTAL = 6;",
                "line": 32
            }},
            {"new": {
                "content": "const METADATA_STATE_DIRTY = 8;",
                "line": 33
            }},
            {"new": {
                "content": "",
                "line": 34
            }},
            {"new": {
                "content": "/**",
                "line": 35
            }},
            {"new": {
                "content": " * Provides methods to retrieve downloads from previous sessions and store",
                "line": 36
            }},
            {"new": {
                "content": " * downloads for future sessions.",
                "line": 37
            }},
            {"new": {
                "content": " */",
                "line": 38
            }},
            {"new": {
                "content": "this.DownloadHistory = {",
                "line": 39
            }},
            {"new": {
                "content": "  /**",
                "line": 40
            }},
            {"new": {
                "content": "   * Stores new detailed metadata for the given download in history. This is",
                "line": 41
            }},
            {"new": {
                "content": "   * normally called after a download finishes, fails, or is canceled.",
                "line": 42
            }},
            {"new": {
                "content": "   *",
                "line": 43
            }},
            {"new": {
                "content": "   * Failed or canceled downloads with partial data are not stored as paused,",
                "line": 44
            }},
            {"new": {
                "content": "   * because the information from the session download is required for resuming.",
                "line": 45
            }},
            {"new": {
                "content": "   *",
                "line": 46
            }},
            {"new": {
                "content": "   * @param download",
                "line": 47
            }},
            {"new": {
                "content": "   *        Download object whose metadata should be updated. If the object",
                "line": 48
            }},
            {"new": {
                "content": "   *        represents a private download, the call has no effect.",
                "line": 49
            }},
            {"new": {
                "content": "   */",
                "line": 50
            }},
            {"new": {
                "content": "  updateMetaData(download) {",
                "line": 51
            }},
            {"new": {
                "content": "    if (download.source.isPrivate || !download.stopped) {",
                "line": 52
            }},
            {"new": {
                "content": "      return;",
                "line": 53
            }},
            {"new": {
                "content": "    }",
                "line": 54
            }},
            {"new": {
                "content": "",
                "line": 55
            }},
            {"new": {
                "content": "    let state = METADATA_STATE_CANCELED;",
                "line": 56
            }},
            {"new": {
                "content": "    if (download.succeeded) {",
                "line": 57
            }},
            {"new": {
                "content": "      state = METADATA_STATE_FINISHED;",
                "line": 58
            }},
            {"new": {
                "content": "    } else if (download.error) {",
                "line": 59
            }},
            {"new": {
                "content": "      if (download.error.becauseBlockedByParentalControls) {",
                "line": 60
            }},
            {"new": {
                "content": "        state = METADATA_STATE_BLOCKED_PARENTAL;",
                "line": 61
            }},
            {"new": {
                "content": "      } else if (download.error.becauseBlockedByReputationCheck) {",
                "line": 62
            }},
            {"new": {
                "content": "        state = METADATA_STATE_DIRTY;",
                "line": 63
            }},
            {"new": {
                "content": "      } else {",
                "line": 64
            }},
            {"new": {
                "content": "        state = METADATA_STATE_FAILED;",
                "line": 65
            }},
            {"new": {
                "content": "      }",
                "line": 66
            }},
            {"new": {
                "content": "    }",
                "line": 67
            }},
            {"new": {
                "content": "",
                "line": 68
            }},
            {"new": {
                "content": "    let metaData = { state, endTime: download.endTime };",
                "line": 69
            }},
            {"new": {
                "content": "    if (download.succeeded) {",
                "line": 70
            }},
            {"new": {
                "content": "      metaData.fileSize = download.target.size;",
                "line": 71
            }},
            {"new": {
                "content": "    }",
                "line": 72
            }},
            {"new": {
                "content": "",
                "line": 73
            }},
            {"new": {
                "content": "    // The verdict may still be present even if the download succeeded.",
                "line": 74
            }},
            {"new": {
                "content": "    if (download.error && download.error.reputationCheckVerdict) {",
                "line": 75
            }},
            {"new": {
                "content": "      metaData.reputationCheckVerdict =",
                "line": 76
            }},
            {"new": {
                "content": "        download.error.reputationCheckVerdict;",
                "line": 77
            }},
            {"new": {
                "content": "    }",
                "line": 78
            }},
            {"new": {
                "content": "",
                "line": 79
            }},
            {"new": {
                "content": "    try {",
                "line": 80
            }},
            {"new": {
                "content": "      PlacesUtils.annotations.setPageAnnotation(",
                "line": 81
            }},
            {"new": {
                "content": "                                 Services.io.newURI(download.source.url),",
                "line": 82
            }},
            {"new": {
                "content": "                                 METADATA_ANNO,",
                "line": 83
            }},
            {"new": {
                "content": "                                 JSON.stringify(metaData), 0,",
                "line": 84
            }},
            {"new": {
                "content": "                                 PlacesUtils.annotations.EXPIRE_WITH_HISTORY);",
                "line": 85
            }},
            {"new": {
                "content": "    } catch (ex) {",
                "line": 86
            }},
            {"new": {
                "content": "      Cu.reportError(ex);",
                "line": 87
            }},
            {"new": {
                "content": "    }",
                "line": 88
            }},
            {"new": {
                "content": "  },",
                "line": 89
            }},
            {"new": {
                "content": "};",
                "line": 90
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadHistory.jsm"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": "////////////////////////////////////////////////////////////////////////////////",
                "line": 13
            }},
            {"old": {
                "content": "//// Globals",
                "line": 14
            }},
            {"old": {
                "content": "",
                "line": 15
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 16
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 17
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 18
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 19
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 11
            }},
            {"old": {
                "content": "////////////////////////////////////////////////////////////////////////////////",
                "line": 135
            }},
            {"old": {
                "content": "//// DownloadIntegration",
                "line": 136
            }},
            {"old": {
                "content": "",
                "line": 137
            }},
            {"old": {
                "content": "////////////////////////////////////////////////////////////////////////////////",
                "line": 800
            }},
            {"old": {
                "content": "//// DownloadObserver",
                "line": 801
            }},
            {"old": {
                "content": "",
                "line": 802
            }},
            {"old": {
                "content": "  ////////////////////////////////////////////////////////////////////////////",
                "line": 914
            }},
            {"old": {
                "content": "  //// nsIObserver",
                "line": 915
            }},
            {"old": {
                "content": "",
                "line": 916
            }},
            {"new": {
                "content": "  // nsIObserver",
                "line": 900
            }},
            {"old": {
                "content": "  ////////////////////////////////////////////////////////////////////////////",
                "line": 998
            }},
            {"old": {
                "content": "  //// nsISupports",
                "line": 999
            }},
            {"old": {
                "content": "",
                "line": 1000
            }},
            {"old": {
                "content": "////////////////////////////////////////////////////////////////////////////////",
                "line": 1003
            }},
            {"old": {
                "content": "//// DownloadHistoryObserver",
                "line": 1004
            }},
            {"old": {
                "content": "",
                "line": 1005
            }},
            {"old": {
                "content": "  ////////////////////////////////////////////////////////////////////////////",
                "line": 1028
            }},
            {"old": {
                "content": "  //// nsISupports",
                "line": 1029
            }},
            {"old": {
                "content": "",
                "line": 1030
            }},
            {"old": {
                "content": "  ////////////////////////////////////////////////////////////////////////////",
                "line": 1032
            }},
            {"old": {
                "content": "  //// nsINavHistoryObserver",
                "line": 1033
            }},
            {"old": {
                "content": "",
                "line": 1034
            }},
            {"new": {
                "content": "  // nsINavHistoryObserver",
                "line": 1007
            }},
            {"new": {
                "content": "  // nsINavHistoryObserver",
                "line": 1012
            }},
            {"old": {
                "content": "////////////////////////////////////////////////////////////////////////////////",
                "line": 1049
            }},
            {"old": {
                "content": "//// DownloadAutoSaveView",
                "line": 1050
            }},
            {"old": {
                "content": "",
                "line": 1051
            }},
            {"old": {
                "content": "  //////////////////////////////////////////////////////////////////////////////",
                "line": 1132
            }},
            {"old": {
                "content": "  //// DownloadList view",
                "line": 1133
            }},
            {"old": {
                "content": "",
                "line": 1134
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 1103
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 1113
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 1131
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadIntegration.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadIntegration.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80: */",
                "line": 1
            }},
            {"old": {
                "content": "// Globals",
                "line": 15
            }},
            {"old": {
                "content": "",
                "line": 16
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 17
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 18
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 19
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 20
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 13
            }},
            {"old": {
                "content": "// DownloadLegacyTransfer",
                "line": 26
            }},
            {"old": {
                "content": "",
                "line": 27
            }},
            {"old": {
                "content": "  // nsISupports",
                "line": 67
            }},
            {"old": {
                "content": "",
                "line": 72
            }},
            {"new": {
                "content": "  // nsIWebProgressListener",
                "line": 142
            }},
            {"new": {
                "content": "  // nsIWebProgressListener",
                "line": 153
            }},
            {"old": {
                "content": "",
                "line": 183
            }},
            {"new": {
                "content": "  // nsIWebProgressListener2",
                "line": 184
            }},
            {"old": {
                "content": "",
                "line": 201
            }},
            {"old": {
                "content": "  // Private methods and properties",
                "line": 262
            }},
            {"old": {
                "content": "",
                "line": 263
            }},
            {"old": {
                "content": "// Module",
                "line": 294
            }},
            {"old": {
                "content": "",
                "line": 295
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadLegacy.js"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadLegacy.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": " * This file includes the following constructors and global objects:",
                "line": 6
            }},
            {"old": {
                "content": " *",
                "line": 7
            }},
            {"old": {
                "content": " * DownloadList",
                "line": 8
            }},
            {"old": {
                "content": " * Represents a collection of Download objects that can be viewed and managed by",
                "line": 9
            }},
            {"old": {
                "content": " * the user interface, and persisted across sessions.",
                "line": 10
            }},
            {"old": {
                "content": " *",
                "line": 11
            }},
            {"old": {
                "content": " * DownloadCombinedList",
                "line": 12
            }},
            {"old": {
                "content": " * Provides a unified, unordered list combining public and private downloads.",
                "line": 13
            }},
            {"old": {
                "content": " *",
                "line": 14
            }},
            {"old": {
                "content": " * DownloadSummary",
                "line": 15
            }},
            {"old": {
                "content": " * Provides an aggregated view on the contents of a DownloadList.",
                "line": 16
            }},
            {"new": {
                "content": " * Provides collections of Download objects and aggregate views on them.",
                "line": 4
            }},
            {"old": {
                "content": "// Globals",
                "line": 24
            }},
            {"old": {
                "content": "",
                "line": 25
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 26
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 27
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 28
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 29
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 12
            }},
            {"old": {
                "content": "",
                "line": 31
            }},
            {"old": {
                "content": "// DownloadList",
                "line": 32
            }},
            {"old": {
                "content": "",
                "line": 33
            }},
            {"old": {
                "content": "// DownloadCombinedList",
                "line": 255
            }},
            {"old": {
                "content": "",
                "line": 256
            }},
            {"old": {
                "content": "  // DownloadList view",
                "line": 336
            }},
            {"old": {
                "content": "",
                "line": 337
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 314
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 319
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 323
            }},
            {"old": {
                "content": "// DownloadSummary",
                "line": 353
            }},
            {"old": {
                "content": "",
                "line": 354
            }},
            {"old": {
                "content": "  // DownloadList view",
                "line": 525
            }},
            {"old": {
                "content": "",
                "line": 526
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 502
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 509
            }},
            {"new": {
                "content": "  // DownloadList callback",
                "line": 513
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadList.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadList.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": "// Globals",
                "line": 33
            }},
            {"old": {
                "content": "",
                "line": 34
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 35
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 36
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 37
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 38
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 31
            }},
            {"old": {
                "content": "// DownloadStore",
                "line": 50
            }},
            {"old": {
                "content": "",
                "line": 51
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadStore.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadStore.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": "// Globals",
                "line": 12
            }},
            {"old": {
                "content": "",
                "line": 13
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 14
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 15
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 16
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 17
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 10
            }},
            {"old": {
                "content": "// DownloadUIHelper",
                "line": 42
            }},
            {"old": {
                "content": "",
                "line": 43
            }},
            {"old": {
                "content": "// DownloadPrompter",
                "line": 93
            }},
            {"old": {
                "content": "",
                "line": 94
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/DownloadUIHelper.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/DownloadUIHelper.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* -*- indent-tabs-mode: nil; js-indent-level: 2 -*- */",
                "line": 0
            }},
            {"old": {
                "content": "/* vim: set ts=2 et sw=2 tw=80 filetype=javascript: */",
                "line": 1
            }},
            {"old": {
                "content": "// Globals",
                "line": 12
            }},
            {"old": {
                "content": "",
                "line": 13
            }},
            {"old": {
                "content": "const Cc = Components.classes;",
                "line": 14
            }},
            {"old": {
                "content": "const Ci = Components.interfaces;",
                "line": 15
            }},
            {"old": {
                "content": "const Cu = Components.utils;",
                "line": 16
            }},
            {"old": {
                "content": "const Cr = Components.results;",
                "line": 17
            }},
            {"new": {
                "content": "const { classes: Cc, interfaces: Ci, utils: Cu, results: Cr } = Components;",
                "line": 10
            }},
            {"old": {
                "content": "// Downloads",
                "line": 38
            }},
            {"old": {
                "content": "",
                "line": 39
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/Downloads.jsm"},
        "old": {"name": "/toolkit/components/jsdownloads/src/Downloads.jsm"}
    },
    {
        "changes": [
            {"new": {
                "content": "if CONFIG['MOZ_PLACES']:",
                "line": 23
            }},
            {"new": {
                "content": "    EXTRA_JS_MODULES += [",
                "line": 24
            }},
            {"new": {
                "content": "        'DownloadHistory.jsm',",
                "line": 25
            }},
            {"new": {
                "content": "    ]",
                "line": 26
            }},
            {"new": {
                "content": "",
                "line": 27
            }}
        ],
        "new": {"name": "/toolkit/components/jsdownloads/src/moz.build"},
        "old": {"name": "/toolkit/components/jsdownloads/src/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMETHODIMP",
                "line": 595
            }},
            {"old": {
                "content": "PendingAlertsCollector::SetName(const char* aName)",
                "line": 596
            }},
            {"old": {
                "content": "{",
                "line": 597
            }},
            {"old": {
                "content": "  return NS_ERROR_NOT_IMPLEMENTED;",
                "line": 598
            }},
            {"old": {
                "content": "}",
                "line": 599
            }},
            {"old": {
                "content": "",
                "line": 600
            }}
        ],
        "new": {"name": "/toolkit/components/perfmonitoring/nsPerformanceStats.cpp"},
        "old": {"name": "/toolkit/components/perfmonitoring/nsPerformanceStats.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": ", nsINamed",
                "line": 131
            }},
            {"new": {
                "content": "////////////////////////////////////////////////////////////////////////",
                "line": 241
            }},
            {"new": {
                "content": "//// nsINamed",
                "line": 242
            }},
            {"new": {
                "content": "",
                "line": 243
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 244
            }},
            {"new": {
                "content": "nsFaviconService::GetName(nsACString& aName)",
                "line": 245
            }},
            {"new": {
                "content": "{",
                "line": 246
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsFaviconService\");",
                "line": 247
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 248
            }},
            {"new": {
                "content": "}",
                "line": 249
            }},
            {"new": {
                "content": "",
                "line": 250
            }}
        ],
        "new": {"name": "/toolkit/components/places/nsFaviconService.cpp"},
        "old": {"name": "/toolkit/components/places/nsFaviconService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 17
            }},
            {"new": {
                "content": "                             , public nsINamed",
                "line": 53
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 127
            }}
        ],
        "new": {"name": "/toolkit/components/places/nsFaviconService.h"},
        "old": {"name": "/toolkit/components/places/nsFaviconService.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryHealthPing\",",
                "line": 78
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/TelemetryHealthPing.jsm\");",
                "line": 79
            }},
            {"new": {
                "content": "      // Send latest data.",
                "line": 789
            }},
            {"new": {
                "content": "      await TelemetryHealthPing.shutdown();",
                "line": 790
            }},
            {"new": {
                "content": "",
                "line": 791
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/TelemetryController.jsm"},
        "old": {"name": "/toolkit/components/telemetry/TelemetryController.jsm"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "/*",
                "line": 4
            }},
            {"new": {
                "content": " * This module collects data on send failures and other critical issues with Telemetry submissions.",
                "line": 5
            }},
            {"new": {
                "content": " */",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "\"use strict\";",
                "line": 8
            }},
            {"new": {
                "content": "",
                "line": 9
            }},
            {"new": {
                "content": "this.EXPORTED_SYMBOLS = [",
                "line": 10
            }},
            {"new": {
                "content": "  \"TelemetryHealthPing\",",
                "line": 11
            }},
            {"new": {
                "content": "];",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "const {classes: Cc, interfaces: Ci, utils: Cu, results: Cr} = Components;",
                "line": 14
            }},
            {"new": {
                "content": "",
                "line": 15
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\", this);",
                "line": 16
            }},
            {"new": {
                "content": "",
                "line": 17
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryController\", \"resource://gre/modules/TelemetryController.jsm\");",
                "line": 18
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"setTimeout\", \"resource://gre/modules/Timer.jsm\");",
                "line": 19
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"clearTimeout\", \"resource://gre/modules/Timer.jsm\");",
                "line": 20
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryUtils\", \"resource://gre/modules/TelemetryUtils.jsm\");",
                "line": 21
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetrySend\", \"resource://gre/modules/TelemetrySend.jsm\");",
                "line": 22
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"Services\", \"resource://gre/modules/Services.jsm\");",
                "line": 23
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"Log\", \"resource://gre/modules/Log.jsm\");",
                "line": 24
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"Preferences\", \"resource://gre/modules/Preferences.jsm\");",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "const Utils = TelemetryUtils;",
                "line": 27
            }},
            {"new": {
                "content": "",
                "line": 28
            }},
            {"new": {
                "content": "const MS_IN_A_MINUTE = 60 * 1000;",
                "line": 29
            }},
            {"new": {
                "content": "const IS_HEALTH_PING_ENABLED = Preferences.get(TelemetryUtils.Preferences.HealthPingEnabled, true);",
                "line": 30
            }},
            {"new": {
                "content": "",
                "line": 31
            }},
            {"new": {
                "content": "// Send health ping every hour",
                "line": 32
            }},
            {"new": {
                "content": "const SEND_TICK_DELAY = 60 * MS_IN_A_MINUTE;",
                "line": 33
            }},
            {"new": {
                "content": "",
                "line": 34
            }},
            {"new": {
                "content": "// Send top 10 discarded pings only to minimize health ping size",
                "line": 35
            }},
            {"new": {
                "content": "const MAX_SEND_DISCARDED_PINGS = 10;",
                "line": 36
            }},
            {"new": {
                "content": "",
                "line": 37
            }},
            {"new": {
                "content": "const LOGGER_NAME = \"Toolkit.Telemetry\";",
                "line": 38
            }},
            {"new": {
                "content": "const LOGGER_PREFIX = \"TelemetryHealthPing::\";",
                "line": 39
            }},
            {"new": {
                "content": "",
                "line": 40
            }},
            {"new": {
                "content": "var Policy = {",
                "line": 41
            }},
            {"new": {
                "content": "  setSchedulerTickTimeout: (callback, delayMs) => setTimeout(callback, delayMs),",
                "line": 42
            }},
            {"new": {
                "content": "  clearSchedulerTickTimeout: (id) => clearTimeout(id)",
                "line": 43
            }},
            {"new": {
                "content": "};",
                "line": 44
            }},
            {"new": {
                "content": "",
                "line": 45
            }},
            {"new": {
                "content": "this.TelemetryHealthPing = {",
                "line": 46
            }},
            {"new": {
                "content": "  Reason: Object.freeze({",
                "line": 47
            }},
            {"new": {
                "content": "    IMMEDIATE: \"immediate\", // Ping was sent immediately after recording with no delay.",
                "line": 48
            }},
            {"new": {
                "content": "    DELAYED: \"delayed\",     // Recorded data was sent after a delay.",
                "line": 49
            }},
            {"new": {
                "content": "    SHUT_DOWN: \"shutdown\",  // Recorded data was sent on shutdown.",
                "line": 50
            }},
            {"new": {
                "content": "  }),",
                "line": 51
            }},
            {"new": {
                "content": "",
                "line": 52
            }},
            {"new": {
                "content": "  FailureType: Object.freeze({",
                "line": 53
            }},
            {"new": {
                "content": "    DISCARDED_FOR_SIZE: \"pingDiscardedForSize\",",
                "line": 54
            }},
            {"new": {
                "content": "    SEND_FAILURE: \"sendFailure\",",
                "line": 55
            }},
            {"new": {
                "content": "  }),",
                "line": 56
            }},
            {"new": {
                "content": "",
                "line": 57
            }},
            {"new": {
                "content": "  OsInfo: Object.freeze({",
                "line": 58
            }},
            {"new": {
                "content": "    \"name\": Services.appinfo.OS,",
                "line": 59
            }},
            {"new": {
                "content": "    \"version\": Services.sysinfo.get(\"kernel_version\") || Services.sysinfo.get(\"version\")",
                "line": 60
            }},
            {"new": {
                "content": "  }),",
                "line": 61
            }},
            {"new": {
                "content": "",
                "line": 62
            }},
            {"new": {
                "content": "  HEALTH_PING_TYPE: \"health\",",
                "line": 63
            }},
            {"new": {
                "content": "",
                "line": 64
            }},
            {"new": {
                "content": "  _logger: null,",
                "line": 65
            }},
            {"new": {
                "content": "",
                "line": 66
            }},
            {"new": {
                "content": "  // The health ping is sent every every SEND_TICK_DELAY.",
                "line": 67
            }},
            {"new": {
                "content": "  // Initialize this so that first failures are sent immediately.",
                "line": 68
            }},
            {"new": {
                "content": "  _lastSendTime: -SEND_TICK_DELAY,",
                "line": 69
            }},
            {"new": {
                "content": "",
                "line": 70
            }},
            {"new": {
                "content": "  /**",
                "line": 71
            }},
            {"new": {
                "content": "   * This stores reported send failures with the following structure:",
                "line": 72
            }},
            {"new": {
                "content": "   * {",
                "line": 73
            }},
            {"new": {
                "content": "   *  type1: {",
                "line": 74
            }},
            {"new": {
                "content": "   *    subtype1: value,",
                "line": 75
            }},
            {"new": {
                "content": "   *    ...",
                "line": 76
            }},
            {"new": {
                "content": "   *    subtypeN: value",
                "line": 77
            }},
            {"new": {
                "content": "   *  },",
                "line": 78
            }},
            {"new": {
                "content": "   *  ...",
                "line": 79
            }},
            {"new": {
                "content": "   * }",
                "line": 80
            }},
            {"new": {
                "content": "   */",
                "line": 81
            }},
            {"new": {
                "content": "  _failures: {},",
                "line": 82
            }},
            {"new": {
                "content": "  _timeoutId: null,",
                "line": 83
            }},
            {"new": {
                "content": "",
                "line": 84
            }},
            {"new": {
                "content": "  /**",
                "line": 85
            }},
            {"new": {
                "content": "   * Record a failure to send a ping out.",
                "line": 86
            }},
            {"new": {
                "content": "   * @param {String} failureType The type of failure (e.g. \"timeout\", ...).",
                "line": 87
            }},
            {"new": {
                "content": "   * @returns {Promise} Test-only, resolved when the ping is stored or sent.",
                "line": 88
            }},
            {"new": {
                "content": "   */",
                "line": 89
            }},
            {"new": {
                "content": "  recordSendFailure(failureType) {",
                "line": 90
            }},
            {"new": {
                "content": "    return this._addToFailure(this.FailureType.SEND_FAILURE, failureType);",
                "line": 91
            }},
            {"new": {
                "content": "  },",
                "line": 92
            }},
            {"new": {
                "content": "",
                "line": 93
            }},
            {"new": {
                "content": "  /**",
                "line": 94
            }},
            {"new": {
                "content": "   * Record that a ping was discarded and its type.",
                "line": 95
            }},
            {"new": {
                "content": "   * @param {String} pingType The type of discarded ping (e.g. \"main\", ...).",
                "line": 96
            }},
            {"new": {
                "content": "   * @returns {Promise} Test-only, resolved when the ping is stored or sent.",
                "line": 97
            }},
            {"new": {
                "content": "   */",
                "line": 98
            }},
            {"new": {
                "content": "  recordDiscardedPing(pingType) {",
                "line": 99
            }},
            {"new": {
                "content": "    return this._addToFailure(this.FailureType.DISCARDED_FOR_SIZE, pingType);",
                "line": 100
            }},
            {"new": {
                "content": "  },",
                "line": 101
            }},
            {"new": {
                "content": "",
                "line": 102
            }},
            {"new": {
                "content": "  /**",
                "line": 103
            }},
            {"new": {
                "content": "   * Assemble payload.",
                "line": 104
            }},
            {"new": {
                "content": "   * @param {String} reason A string indicating the triggering reason (e.g. \"immediate\", \"delayed\", \"shutdown\").",
                "line": 105
            }},
            {"new": {
                "content": "   * @returns {Object} The assembled payload.",
                "line": 106
            }},
            {"new": {
                "content": "   */",
                "line": 107
            }},
            {"new": {
                "content": "  _assemblePayload(reason) {",
                "line": 108
            }},
            {"new": {
                "content": "    this._log.trace(\"_assemblePayload()\");",
                "line": 109
            }},
            {"new": {
                "content": "    let payload = {",
                "line": 110
            }},
            {"new": {
                "content": "      os: this.OsInfo,",
                "line": 111
            }},
            {"new": {
                "content": "      reason",
                "line": 112
            }},
            {"new": {
                "content": "    };",
                "line": 113
            }},
            {"new": {
                "content": "",
                "line": 114
            }},
            {"new": {
                "content": "    for (let key of Object.keys(this._failures)) {",
                "line": 115
            }},
            {"new": {
                "content": "      if (key === this.FailureType.DISCARDED_FOR_SIZE) {",
                "line": 116
            }},
            {"new": {
                "content": "        payload[key] = this._getTopDiscardFailures(this._failures[key]);",
                "line": 117
            }},
            {"new": {
                "content": "      } else {",
                "line": 118
            }},
            {"new": {
                "content": "        payload[key] = this._failures[key];",
                "line": 119
            }},
            {"new": {
                "content": "      }",
                "line": 120
            }},
            {"new": {
                "content": "    }",
                "line": 121
            }},
            {"new": {
                "content": "",
                "line": 122
            }},
            {"new": {
                "content": "    return payload;",
                "line": 123
            }},
            {"new": {
                "content": "  },",
                "line": 124
            }},
            {"new": {
                "content": "",
                "line": 125
            }},
            {"new": {
                "content": "  /**",
                "line": 126
            }},
            {"new": {
                "content": "   * Sort input dictionary descending by value.",
                "line": 127
            }},
            {"new": {
                "content": "   * @param {Object} failures A dictionary of failures subtype and count.",
                "line": 128
            }},
            {"new": {
                "content": "   * @returns {Object} Sorted failures by value.",
                "line": 129
            }},
            {"new": {
                "content": "   */",
                "line": 130
            }},
            {"new": {
                "content": "  _getTopDiscardFailures(failures) {",
                "line": 131
            }},
            {"new": {
                "content": "    this._log.trace(\"_getTopDiscardFailures()\");",
                "line": 132
            }},
            {"new": {
                "content": "    let sortedItems = Object.entries(failures).sort((first, second) => {",
                "line": 133
            }},
            {"new": {
                "content": "      return second[1] - first[1];",
                "line": 134
            }},
            {"new": {
                "content": "    });",
                "line": 135
            }},
            {"new": {
                "content": "",
                "line": 136
            }},
            {"new": {
                "content": "    let result = {};",
                "line": 137
            }},
            {"new": {
                "content": "    sortedItems.slice(0, MAX_SEND_DISCARDED_PINGS).forEach(([key, value]) => {",
                "line": 138
            }},
            {"new": {
                "content": "      result[key] = value;",
                "line": 139
            }},
            {"new": {
                "content": "    });",
                "line": 140
            }},
            {"new": {
                "content": "",
                "line": 141
            }},
            {"new": {
                "content": "    return result;",
                "line": 142
            }},
            {"new": {
                "content": "  },",
                "line": 143
            }},
            {"new": {
                "content": "",
                "line": 144
            }},
            {"new": {
                "content": "  /**",
                "line": 145
            }},
            {"new": {
                "content": "   * Assemble the failure information and submit it.",
                "line": 146
            }},
            {"new": {
                "content": "   * @param {String} reason A string indicating the triggering reason (e.g. \"immediate\", \"delayed\", \"shutdown\").",
                "line": 147
            }},
            {"new": {
                "content": "   * @returns {Promise} Test-only promise that resolves when the ping was stored or sent (if any).",
                "line": 148
            }},
            {"new": {
                "content": "   */",
                "line": 149
            }},
            {"new": {
                "content": "  _submitPing(reason) {",
                "line": 150
            }},
            {"new": {
                "content": "    if (!IS_HEALTH_PING_ENABLED || !this._hasDataToSend()) {",
                "line": 151
            }},
            {"new": {
                "content": "      return Promise.resolve();",
                "line": 152
            }},
            {"new": {
                "content": "    }",
                "line": 153
            }},
            {"new": {
                "content": "",
                "line": 154
            }},
            {"new": {
                "content": "    this._log.trace(\"_submitPing(\" + reason + \")\");",
                "line": 155
            }},
            {"new": {
                "content": "    let payload = this._assemblePayload(reason);",
                "line": 156
            }},
            {"new": {
                "content": "    this._clearData();",
                "line": 157
            }},
            {"new": {
                "content": "    this._lastSendTime = Utils.monotonicNow();",
                "line": 158
            }},
            {"new": {
                "content": "",
                "line": 159
            }},
            {"new": {
                "content": "    return new Promise(r =>",
                "line": 160
            }},
            {"new": {
                "content": "      // If we submit the health ping immediately, the send task would be triggered again",
                "line": 161
            }},
            {"new": {
                "content": "      // before discarding oversized pings from the queue.",
                "line": 162
            }},
            {"new": {
                "content": "      // To work around this, we send the ping on the next tick.",
                "line": 163
            }},
            {"new": {
                "content": "      Services.tm.dispatchToMainThread(() => r(",
                "line": 164
            }},
            {"new": {
                "content": "        TelemetryController",
                "line": 165
            }},
            {"new": {
                "content": "          .submitExternalPing(this.HEALTH_PING_TYPE, payload, {addClientId: true}))));",
                "line": 166
            }},
            {"new": {
                "content": "  },",
                "line": 167
            }},
            {"new": {
                "content": "",
                "line": 168
            }},
            {"new": {
                "content": "  /**",
                "line": 169
            }},
            {"new": {
                "content": "   * Accumulate failure information and trigger a ping immediately or on timeout.",
                "line": 170
            }},
            {"new": {
                "content": "   * @param {String} failureType The type of failure (e.g. \"timeout\", ...).",
                "line": 171
            }},
            {"new": {
                "content": "   * @param {String} failureSubType The subtype of failure (e.g. ping type, ...).",
                "line": 172
            }},
            {"new": {
                "content": "   * @returns {Promise} Test-only, resolved when the ping is stored or sent.",
                "line": 173
            }},
            {"new": {
                "content": "   */",
                "line": 174
            }},
            {"new": {
                "content": "  _addToFailure(failureType, failureSubType) {",
                "line": 175
            }},
            {"new": {
                "content": "    this._log.trace(\"_addToFailure() - with type and subtype: \" + failureType + \" : \" + failureSubType);",
                "line": 176
            }},
            {"new": {
                "content": "",
                "line": 177
            }},
            {"new": {
                "content": "    if (!(failureType in this._failures)) {",
                "line": 178
            }},
            {"new": {
                "content": "      this._failures[failureType] = {};",
                "line": 179
            }},
            {"new": {
                "content": "    }",
                "line": 180
            }},
            {"new": {
                "content": "",
                "line": 181
            }},
            {"new": {
                "content": "    let current = this._failures[failureType][failureSubType] || 0;",
                "line": 182
            }},
            {"new": {
                "content": "    this._failures[failureType][failureSubType] = current + 1;",
                "line": 183
            }},
            {"new": {
                "content": "",
                "line": 184
            }},
            {"new": {
                "content": "    const now = Utils.monotonicNow();",
                "line": 185
            }},
            {"new": {
                "content": "    if ((now - this._lastSendTime) >= SEND_TICK_DELAY) {",
                "line": 186
            }},
            {"new": {
                "content": "      return this._submitPing(this.Reason.IMMEDIATE);",
                "line": 187
            }},
            {"new": {
                "content": "    }",
                "line": 188
            }},
            {"new": {
                "content": "",
                "line": 189
            }},
            {"new": {
                "content": "    let submissionDelay = SEND_TICK_DELAY - now - this._lastSendTime;",
                "line": 190
            }},
            {"new": {
                "content": "    this._timeoutId =",
                "line": 191
            }},
            {"new": {
                "content": "      Policy.setSchedulerTickTimeout(() => TelemetryHealthPing._submitPing(this.Reason.DELAYED), submissionDelay);",
                "line": 192
            }},
            {"new": {
                "content": "    return Promise.resolve();",
                "line": 193
            }},
            {"new": {
                "content": "  },",
                "line": 194
            }},
            {"new": {
                "content": "",
                "line": 195
            }},
            {"new": {
                "content": "  /**",
                "line": 196
            }},
            {"new": {
                "content": "   * @returns {boolean} Check the availability of recorded failures data.",
                "line": 197
            }},
            {"new": {
                "content": "   */",
                "line": 198
            }},
            {"new": {
                "content": "  _hasDataToSend() {",
                "line": 199
            }},
            {"new": {
                "content": "    return Object.keys(this._failures).length !== 0;",
                "line": 200
            }},
            {"new": {
                "content": "  },",
                "line": 201
            }},
            {"new": {
                "content": "",
                "line": 202
            }},
            {"new": {
                "content": "  /**",
                "line": 203
            }},
            {"new": {
                "content": "   * Clear recorded failures data.",
                "line": 204
            }},
            {"new": {
                "content": "   */",
                "line": 205
            }},
            {"new": {
                "content": "  _clearData() {",
                "line": 206
            }},
            {"new": {
                "content": "    this._log.trace(\"_clearData()\");",
                "line": 207
            }},
            {"new": {
                "content": "    this._failures = {};",
                "line": 208
            }},
            {"new": {
                "content": "  },",
                "line": 209
            }},
            {"new": {
                "content": "",
                "line": 210
            }},
            {"new": {
                "content": "  /**",
                "line": 211
            }},
            {"new": {
                "content": "   * Clear and reset timeout.",
                "line": 212
            }},
            {"new": {
                "content": "   */",
                "line": 213
            }},
            {"new": {
                "content": "  _resetTimeout() {",
                "line": 214
            }},
            {"new": {
                "content": "    if (this._timeoutId) {",
                "line": 215
            }},
            {"new": {
                "content": "      Policy.clearSchedulerTickTimeout(this._timeoutId);",
                "line": 216
            }},
            {"new": {
                "content": "      this._timeoutId = null;",
                "line": 217
            }},
            {"new": {
                "content": "    }",
                "line": 218
            }},
            {"new": {
                "content": "  },",
                "line": 219
            }},
            {"new": {
                "content": "",
                "line": 220
            }},
            {"new": {
                "content": "  /**",
                "line": 221
            }},
            {"new": {
                "content": "   * Submit latest ping on shutdown.",
                "line": 222
            }},
            {"new": {
                "content": "   * @returns {Promise} Test-only, resolved when the ping is stored or sent.",
                "line": 223
            }},
            {"new": {
                "content": "   */",
                "line": 224
            }},
            {"new": {
                "content": "  shutdown() {",
                "line": 225
            }},
            {"new": {
                "content": "    this._log.trace(\"shutdown()\");",
                "line": 226
            }},
            {"new": {
                "content": "    this._resetTimeout();",
                "line": 227
            }},
            {"new": {
                "content": "    return this._submitPing(this.Reason.SHUT_DOWN);",
                "line": 228
            }},
            {"new": {
                "content": "  },",
                "line": 229
            }},
            {"new": {
                "content": "",
                "line": 230
            }},
            {"new": {
                "content": "  /**",
                "line": 231
            }},
            {"new": {
                "content": "   * Test-only, restore to initial state.",
                "line": 232
            }},
            {"new": {
                "content": "   */",
                "line": 233
            }},
            {"new": {
                "content": "  testReset() {",
                "line": 234
            }},
            {"new": {
                "content": "    this._lastSendTime = -SEND_TICK_DELAY;",
                "line": 235
            }},
            {"new": {
                "content": "    this._clearData();",
                "line": 236
            }},
            {"new": {
                "content": "    this._resetTimeout();",
                "line": 237
            }},
            {"new": {
                "content": "  },",
                "line": 238
            }},
            {"new": {
                "content": "",
                "line": 239
            }},
            {"new": {
                "content": "  get _log() {",
                "line": 240
            }},
            {"new": {
                "content": "    if (!this._logger) {",
                "line": 241
            }},
            {"new": {
                "content": "      this._logger = Log.repository.getLoggerWithMessagePrefix(LOGGER_NAME, LOGGER_PREFIX + \"::\");",
                "line": 242
            }},
            {"new": {
                "content": "    }",
                "line": 243
            }},
            {"new": {
                "content": "",
                "line": 244
            }},
            {"new": {
                "content": "    return this._logger;",
                "line": 245
            }},
            {"new": {
                "content": "  },",
                "line": 246
            }},
            {"new": {
                "content": "};",
                "line": 247
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/TelemetryHealthPing.jsm"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryHealthPing\",",
                "line": 41
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/TelemetryHealthPing.jsm\");",
                "line": 42
            }},
            {"new": {
                "content": "",
                "line": 43
            }},
            {"old": {
                "content": "function monotonicNow() {",
                "line": 96
            }},
            {"old": {
                "content": "  try {",
                "line": 97
            }},
            {"old": {
                "content": "    return Telemetry.msSinceProcessStart();",
                "line": 98
            }},
            {"old": {
                "content": "  } catch (ex) {",
                "line": 99
            }},
            {"old": {
                "content": "    // If this fails fall back to the (non-monotonic) Date value.",
                "line": 100
            }},
            {"old": {
                "content": "    return Date.now();",
                "line": 101
            }},
            {"old": {
                "content": "  }",
                "line": 102
            }},
            {"old": {
                "content": "}",
                "line": 103
            }},
            {"old": {
                "content": "",
                "line": 104
            }},
            {"new": {
                "content": "  testSetTimeoutForPingSubmit(timeoutInMS) {",
                "line": 180
            }},
            {"new": {
                "content": "    TelemetrySendImpl._pingSubmissionTimeout = timeoutInMS;",
                "line": 181
            }},
            {"new": {
                "content": "  },",
                "line": 182
            }},
            {"new": {
                "content": "",
                "line": 183
            }},
            {"new": {
                "content": "  testResetTimeOutToDefault() {",
                "line": 184
            }},
            {"new": {
                "content": "    TelemetrySendImpl._pingSubmissionTimeout = PING_SUBMIT_TIMEOUT_MS;",
                "line": 185
            }},
            {"new": {
                "content": "  },",
                "line": 186
            }},
            {"new": {
                "content": "",
                "line": 187
            }},
            {"new": {
                "content": "  _pingSubmissionTimeout: PING_SUBMIT_TIMEOUT_MS,",
                "line": 595
            }},
            {"new": {
                "content": "",
                "line": 596
            }},
            {"old": {
                "content": "    hsend.add(monotonicNow() - startTime);",
                "line": 1006
            }},
            {"new": {
                "content": "    hsend.add(Utils.monotonicNow() - startTime);",
                "line": 1010
            }},
            {"old": {
                "content": "    request.timeout = PING_SUBMIT_TIMEOUT_MS;",
                "line": 1075
            }},
            {"new": {
                "content": "    request.timeout = this._pingSubmissionTimeout;",
                "line": 1079
            }},
            {"old": {
                "content": "    const monotonicStartTime = monotonicNow();",
                "line": 1083
            }},
            {"new": {
                "content": "    const monotonicStartTime = Utils.monotonicNow();",
                "line": 1087
            }},
            {"new": {
                "content": "",
                "line": 1123
            }},
            {"new": {
                "content": "      TelemetryHealthPing.recordSendFailure(failure);",
                "line": 1124
            }},
            {"old": {
                "content": "    let startTime = monotonicNow();",
                "line": 1164
            }},
            {"new": {
                "content": "    let startTime = Utils.monotonicNow();",
                "line": 1170
            }},
            {"old": {
                "content": "    Telemetry.getHistogramById(\"TELEMETRY_STRINGIFY\").add(monotonicNow() - startTime);",
                "line": 1167
            }},
            {"new": {
                "content": "    Telemetry.getHistogramById(\"TELEMETRY_STRINGIFY\").add(Utils.monotonicNow() - startTime);",
                "line": 1173
            }},
            {"new": {
                "content": "",
                "line": 1183
            }},
            {"new": {
                "content": "      TelemetryHealthPing.recordDiscardedPing(ping.type);",
                "line": 1184
            }},
            {"old": {
                "content": "    startTime = monotonicNow();",
                "line": 1181
            }},
            {"new": {
                "content": "    startTime = Utils.monotonicNow();",
                "line": 1189
            }},
            {"old": {
                "content": "    Telemetry.getHistogramById(\"TELEMETRY_COMPRESS\").add(monotonicNow() - startTime);",
                "line": 1184
            }},
            {"new": {
                "content": "    Telemetry.getHistogramById(\"TELEMETRY_COMPRESS\").add(Utils.monotonicNow() - startTime);",
                "line": 1192
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/TelemetrySend.jsm"},
        "old": {"name": "/toolkit/components/telemetry/TelemetrySend.jsm"}
    },
    {
        "changes": [
            {"old": {
                "content": "      // Note: sending the \"shutdown\" ping using the pingsender is currently disabled",
                "line": 1800
            }},
            {"old": {
                "content": "      // due to a crash happening on OSX platforms. See bug 1357745 for context.",
                "line": 1801
            }},
            {"new": {
                "content": "      const sendOnThisSession =",
                "line": 1800
            }},
            {"new": {
                "content": "        Preferences.get(Utils.Preferences.ShutdownPingSenderFirstSession, false) ||",
                "line": 1801
            }},
            {"new": {
                "content": "        !TelemetryReportingPolicy.isFirstRun();",
                "line": 1802
            }},
            {"old": {
                "content": "                               !TelemetryReportingPolicy.isFirstRun();",
                "line": 1803
            }},
            {"new": {
                "content": "                               sendOnThisSession;",
                "line": 1804
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/TelemetrySession.jsm"},
        "old": {"name": "/toolkit/components/telemetry/TelemetrySession.jsm"}
    },
    {
        "changes": [
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/Services.jsm\", this);",
                "line": 10
            }},
            {"new": {
                "content": "    HealthPingEnabled: \"toolkit.telemetry.healthping.enabled\",",
                "line": 31
            }},
            {"new": {
                "content": "    ShutdownPingSenderFirstSession: \"toolkit.telemetry.shutdownPingSender.enabledFirstSession\",",
                "line": 35
            }},
            {"new": {
                "content": "",
                "line": 189
            }},
            {"new": {
                "content": "  /**",
                "line": 190
            }},
            {"new": {
                "content": "   * @returns {number} The monotonic time since the process start",
                "line": 191
            }},
            {"new": {
                "content": "   * or (non-monotonic) Date value if this fails back.",
                "line": 192
            }},
            {"new": {
                "content": "   */",
                "line": 193
            }},
            {"new": {
                "content": "  monotonicNow() {",
                "line": 194
            }},
            {"new": {
                "content": "    try {",
                "line": 195
            }},
            {"new": {
                "content": "      return Services.telemetry.msSinceProcessStart();",
                "line": 196
            }},
            {"new": {
                "content": "    } catch (ex) {",
                "line": 197
            }},
            {"new": {
                "content": "      return Date.now();",
                "line": 198
            }},
            {"new": {
                "content": "    }",
                "line": 199
            }},
            {"new": {
                "content": "  }",
                "line": 200
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/TelemetryUtils.jsm"},
        "old": {"name": "/toolkit/components/telemetry/TelemetryUtils.jsm"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 0
            }},
            {"new": {
                "content": "\"health\" ping",
                "line": 1
            }},
            {"new": {
                "content": "============",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "This ping is intended to provide data about problems arise when submitting other pings.",
                "line": 4
            }},
            {"new": {
                "content": "The ping is submitted at most once per hour. On shutdown an additional ping is submitted",
                "line": 5
            }},
            {"new": {
                "content": "to avoid losing collected data.",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "This ping is intended to be really small.",
                "line": 8
            }},
            {"new": {
                "content": "The client id is submitted with this ping.",
                "line": 9
            }},
            {"new": {
                "content": "",
                "line": 10
            }},
            {"new": {
                "content": ".. code-block:: js",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "    {",
                "line": 13
            }},
            {"new": {
                "content": "      \"type\": \"health\", // type",
                "line": 14
            }},
            {"new": {
                "content": "      ... common ping data",
                "line": 15
            }},
            {"new": {
                "content": "      \"clientId\": <UUID>, // client id, e.g.",
                "line": 16
            }},
            {"new": {
                "content": "                            // \"c641eacf-c30c-4171-b403-f077724e848a\"",
                "line": 17
            }},
            {"new": {
                "content": "      \"payload\": {",
                "line": 18
            }},
            {"new": {
                "content": "        \"os\": {",
                "line": 19
            }},
            {"new": {
                "content": "            \"name\": <string>, // OS name",
                "line": 20
            }},
            {"new": {
                "content": "            \"version\": <string> // OS version",
                "line": 21
            }},
            {"new": {
                "content": "        },",
                "line": 22
            }},
            {"new": {
                "content": "        \"reason\": <string>, // When ping was triggered, e.g. \"immediate\" or \"shutdown\".",
                "line": 23
            }},
            {"new": {
                "content": "        \"pingDiscardedForSize\": {",
                "line": 24
            }},
            {"new": {
                "content": "            \"main\": <number>, // Amount of occurrences for a specific ping type.",
                "line": 25
            }},
            {"new": {
                "content": "            \"core\": <number>",
                "line": 26
            }},
            {"new": {
                "content": "            ...",
                "line": 27
            }},
            {"new": {
                "content": "        },",
                "line": 28
            }},
            {"new": {
                "content": "        \"sendFailure\": {",
                "line": 29
            }},
            {"new": {
                "content": "            \"timeout\": <number>, // Amount of occurrences for a specific failure.",
                "line": 30
            }},
            {"new": {
                "content": "            \"abort\": <number>",
                "line": 31
            }},
            {"new": {
                "content": "            ...",
                "line": 32
            }},
            {"new": {
                "content": "        }",
                "line": 33
            }},
            {"new": {
                "content": "      }",
                "line": 34
            }},
            {"new": {
                "content": "    }",
                "line": 35
            }},
            {"new": {
                "content": "",
                "line": 36
            }},
            {"new": {
                "content": "Send behavior",
                "line": 37
            }},
            {"new": {
                "content": "-------------",
                "line": 38
            }},
            {"new": {
                "content": "",
                "line": 39
            }},
            {"new": {
                "content": "``TelemetryHealthPing.jsm`` tracks several problems:",
                "line": 40
            }},
            {"new": {
                "content": "",
                "line": 41
            }},
            {"new": {
                "content": "* The size of other assembled ping exceed the ping limit.",
                "line": 42
            }},
            {"new": {
                "content": "* There was a failure while sending other ping.",
                "line": 43
            }},
            {"new": {
                "content": "",
                "line": 44
            }},
            {"new": {
                "content": "After recording the data, ping will be sent:",
                "line": 45
            }},
            {"new": {
                "content": "",
                "line": 46
            }},
            {"new": {
                "content": "* immediately, with the reason ``immediate`` , if it is first ping in the session or it passed at least one hour from the previous submission.",
                "line": 47
            }},
            {"new": {
                "content": "* after 1 hour minus the time passed from previous submission, with the reason ``delayed`` , if less than an hour passed from the previous submission.",
                "line": 48
            }},
            {"new": {
                "content": "* on shutdown, with the reason ``shutdown`` , if recorded data is not empty.",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "Field details",
                "line": 51
            }},
            {"new": {
                "content": "-------------",
                "line": 52
            }},
            {"new": {
                "content": "",
                "line": 53
            }},
            {"new": {
                "content": "reason",
                "line": 54
            }},
            {"new": {
                "content": "~~~~~~",
                "line": 55
            }},
            {"new": {
                "content": "The ``reason`` field contains the information about when \"health\" ping was submitted. Now it supports three types:",
                "line": 56
            }},
            {"new": {
                "content": "",
                "line": 57
            }},
            {"new": {
                "content": "* immediate: The health ping was submitted immediately after recording a failure.",
                "line": 58
            }},
            {"new": {
                "content": "* delayed: The health ping was submitted after a delay.",
                "line": 59
            }},
            {"new": {
                "content": "* shutdown: The health ping was submitted on shutdown.",
                "line": 60
            }},
            {"new": {
                "content": "",
                "line": 61
            }},
            {"new": {
                "content": "pingDiscardedForSize",
                "line": 62
            }},
            {"new": {
                "content": "~~~~~~~~~~~~~~~~~~~~",
                "line": 63
            }},
            {"new": {
                "content": "The ``pingDiscardedForSize`` field contains the information about top ten pings, whose size exceeded the",
                "line": 64
            }},
            {"new": {
                "content": "ping size limit (1 mb). This field lists the number of discarded pings per ping type.",
                "line": 65
            }},
            {"new": {
                "content": "",
                "line": 66
            }},
            {"new": {
                "content": "This field is optional.",
                "line": 67
            }},
            {"new": {
                "content": "",
                "line": 68
            }},
            {"new": {
                "content": "sendFailure",
                "line": 69
            }},
            {"new": {
                "content": "~~~~~~~~~~~",
                "line": 70
            }},
            {"new": {
                "content": "The ``sendFailure`` field contains the information about pings, which had failures on sending.",
                "line": 71
            }},
            {"new": {
                "content": "This field lists the number of failed pings per ping send failure type.",
                "line": 72
            }},
            {"new": {
                "content": "",
                "line": 73
            }},
            {"new": {
                "content": "This field is optional.",
                "line": 74
            }},
            {"new": {
                "content": "",
                "line": 75
            }},
            {"new": {
                "content": ".. note::",
                "line": 76
            }},
            {"new": {
                "content": "",
                "line": 77
            }},
            {"new": {
                "content": "    Although both ``pingDiscardedForSize`` and ``sendFailure`` fields are optional, the health ping will only",
                "line": 78
            }},
            {"new": {
                "content": "    be submitted if one of this field not empty.",
                "line": 79
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/docs/data/health-ping.rst"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "``toolkit.telemetry.shutdownPingSender.enabledFirstSession``",
                "line": 52
            }},
            {"new": {
                "content": "",
                "line": 53
            }},
            {"new": {
                "content": "  Allow the ``shutdown`` ping to be sent using the :doc:`ping sender <pingsender>` from the first browsing session.",
                "line": 54
            }},
            {"new": {
                "content": "",
                "line": 55
            }},
            {"new": {
                "content": "",
                "line": 139
            }},
            {"new": {
                "content": "``toolkit.telemetry.healthping.enabled``",
                "line": 140
            }},
            {"new": {
                "content": "",
                "line": 141
            }},
            {"new": {
                "content": "  If false, sending health pings is disabled. Defaults to true.",
                "line": 142
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/docs/internals/preferences.rst"},
        "old": {"name": "/toolkit/components/telemetry/docs/internals/preferences.rst"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'TelemetryHealthPing.jsm',",
                "line": 85
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/moz.build"},
        "old": {"name": "/toolkit/components/telemetry/moz.build"}
    },
    {
        "changes": [
            {"new": {
                "content": "function histogramValueCount(histogramSnapshot) {",
                "line": 301
            }},
            {"new": {
                "content": "  return histogramSnapshot.counts.reduce((a, b) => a + b);",
                "line": 302
            }},
            {"new": {
                "content": "}",
                "line": 303
            }},
            {"new": {
                "content": "",
                "line": 304
            }},
            {"new": {
                "content": "  Services.prefs.setBoolPref(TelemetryUtils.Preferences.ShutdownPingSenderFirstSession, false);",
                "line": 318
            }},
            {"old": {
                "content": "",
                "line": 318
            }},
            {"new": {
                "content": "  // Turn off Health Ping submission.",
                "line": 323
            }},
            {"new": {
                "content": "  Services.prefs.setBoolPref(TelemetryUtils.Preferences.HealthPingEnabled, false);",
                "line": 324
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/tests/unit/head.js"},
        "old": {"name": "/toolkit/components/telemetry/tests/unit/head.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* Any copyright is dedicated to the Public Domain.",
                "line": 0
            }},
            {"new": {
                "content": " http://creativecommons.org/publicdomain/zero/1.0/",
                "line": 1
            }},
            {"new": {
                "content": " */",
                "line": 2
            }},
            {"new": {
                "content": "",
                "line": 3
            }},
            {"new": {
                "content": "// This tests the public Telemetry API for submitting Health pings.",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "\"use strict\";",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/TelemetryController.jsm\", this);",
                "line": 8
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/TelemetryStorage.jsm\", this);",
                "line": 9
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/TelemetryUtils.jsm\", this);",
                "line": 10
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/Preferences.jsm\", this);",
                "line": 11
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\", this);",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryHealthPing\",",
                "line": 14
            }},
            {"new": {
                "content": "                                  \"resource://gre/modules/TelemetryHealthPing.jsm\");",
                "line": 15
            }},
            {"new": {
                "content": "",
                "line": 16
            }},
            {"new": {
                "content": "function checkHealthPingStructure(ping, expectedFailuresDict) {",
                "line": 17
            }},
            {"new": {
                "content": "  let payload = ping.payload;",
                "line": 18
            }},
            {"new": {
                "content": "  Assert.equal(ping.type, TelemetryHealthPing.HEALTH_PING_TYPE, \"Should have recorded a health ping.\");",
                "line": 19
            }},
            {"new": {
                "content": "",
                "line": 20
            }},
            {"new": {
                "content": "  for (let [key, value] of Object.entries(expectedFailuresDict)) {",
                "line": 21
            }},
            {"new": {
                "content": "    Assert.deepEqual(payload[key], value, \"Should have recorded correct entry with key: \" + key);",
                "line": 22
            }},
            {"new": {
                "content": "  }",
                "line": 23
            }},
            {"new": {
                "content": "}",
                "line": 24
            }},
            {"new": {
                "content": "",
                "line": 25
            }},
            {"new": {
                "content": "function fakeHealthSchedulerTimer(set, clear) {",
                "line": 26
            }},
            {"new": {
                "content": "  let telemetryHealthPing = Cu.import(\"resource://gre/modules/TelemetryHealthPing.jsm\", {});",
                "line": 27
            }},
            {"new": {
                "content": "  telemetryHealthPing.Policy.setSchedulerTickTimeout = set;",
                "line": 28
            }},
            {"new": {
                "content": "  telemetryHealthPing.Policy.clearSchedulerTickTimeout = clear;",
                "line": 29
            }},
            {"new": {
                "content": "}",
                "line": 30
            }},
            {"new": {
                "content": "",
                "line": 31
            }},
            {"new": {
                "content": "add_task(async function setup() {",
                "line": 32
            }},
            {"new": {
                "content": "  // Trigger a proper telemetry init.",
                "line": 33
            }},
            {"new": {
                "content": "  do_get_profile(true);",
                "line": 34
            }},
            {"new": {
                "content": "  // Make sure we don't generate unexpected pings due to pref changes.",
                "line": 35
            }},
            {"new": {
                "content": "  await setEmptyPrefWatchlist();",
                "line": 36
            }},
            {"new": {
                "content": "  Services.prefs.setBoolPref(\"toolkit.telemetry.enabled\", true);",
                "line": 37
            }},
            {"new": {
                "content": "  Preferences.set(TelemetryUtils.Preferences.HealthPingEnabled, true);",
                "line": 38
            }},
            {"new": {
                "content": "",
                "line": 39
            }},
            {"new": {
                "content": "  await TelemetryController.testSetup();",
                "line": 40
            }},
            {"new": {
                "content": "  PingServer.start();",
                "line": 41
            }},
            {"new": {
                "content": "  TelemetrySend.setServer(\"http://localhost:\" + PingServer.port);",
                "line": 42
            }},
            {"new": {
                "content": "});",
                "line": 43
            }},
            {"new": {
                "content": "",
                "line": 44
            }},
            {"new": {
                "content": "add_task(async function test_sendImmediately() {",
                "line": 45
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 46
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 47
            }},
            {"new": {
                "content": "",
                "line": 48
            }},
            {"new": {
                "content": "  await TelemetryHealthPing.recordSendFailure(\"testProblem\");",
                "line": 49
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 50
            }},
            {"new": {
                "content": "  checkHealthPingStructure(ping, {",
                "line": 51
            }},
            {"new": {
                "content": "    [TelemetryHealthPing.FailureType.SEND_FAILURE]: {",
                "line": 52
            }},
            {"new": {
                "content": "      \"testProblem\": 1",
                "line": 53
            }},
            {"new": {
                "content": "    },",
                "line": 54
            }},
            {"new": {
                "content": "    \"os\": TelemetryHealthPing.OsInfo,",
                "line": 55
            }},
            {"new": {
                "content": "    \"reason\": TelemetryHealthPing.Reason.IMMEDIATE",
                "line": 56
            }},
            {"new": {
                "content": "  });",
                "line": 57
            }},
            {"new": {
                "content": "});",
                "line": 58
            }},
            {"new": {
                "content": "",
                "line": 59
            }},
            {"new": {
                "content": "add_task(async function test_sendOnDelay() {",
                "line": 60
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 61
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 62
            }},
            {"new": {
                "content": "",
                "line": 63
            }},
            {"new": {
                "content": "  // This first failure should immediately trigger a ping. After this, subsequent failures should be throttled.",
                "line": 64
            }},
            {"new": {
                "content": "  await TelemetryHealthPing.recordSendFailure(\"testFailure\");",
                "line": 65
            }},
            {"new": {
                "content": "  let testPing = await PingServer.promiseNextPing();",
                "line": 66
            }},
            {"new": {
                "content": "  Assert.equal(testPing.type, TelemetryHealthPing.HEALTH_PING_TYPE, \"Should have recorded a health ping.\");",
                "line": 67
            }},
            {"new": {
                "content": "",
                "line": 68
            }},
            {"new": {
                "content": "  // Retrieve delayed call back.",
                "line": 69
            }},
            {"new": {
                "content": "  let pingSubmissionCallBack = null;",
                "line": 70
            }},
            {"new": {
                "content": "  fakeHealthSchedulerTimer((callBack) => pingSubmissionCallBack = callBack, () => {",
                "line": 71
            }},
            {"new": {
                "content": "  });",
                "line": 72
            }},
            {"new": {
                "content": "",
                "line": 73
            }},
            {"new": {
                "content": "  // Record two failures, health ping must not be send now.",
                "line": 74
            }},
            {"new": {
                "content": "  await TelemetryHealthPing.recordSendFailure(\"testFailure\");",
                "line": 75
            }},
            {"new": {
                "content": "  await TelemetryHealthPing.recordSendFailure(\"testFailure\");",
                "line": 76
            }},
            {"new": {
                "content": "",
                "line": 77
            }},
            {"new": {
                "content": "  // Wait for sending delayed health ping.",
                "line": 78
            }},
            {"new": {
                "content": "  await pingSubmissionCallBack();",
                "line": 79
            }},
            {"new": {
                "content": "",
                "line": 80
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 81
            }},
            {"new": {
                "content": "  checkHealthPingStructure(ping, {",
                "line": 82
            }},
            {"new": {
                "content": "    [TelemetryHealthPing.FailureType.SEND_FAILURE]: {",
                "line": 83
            }},
            {"new": {
                "content": "      \"testFailure\": 2",
                "line": 84
            }},
            {"new": {
                "content": "    },",
                "line": 85
            }},
            {"new": {
                "content": "    \"os\": TelemetryHealthPing.OsInfo,",
                "line": 86
            }},
            {"new": {
                "content": "    \"reason\": TelemetryHealthPing.Reason.DELAYED",
                "line": 87
            }},
            {"new": {
                "content": "  });",
                "line": 88
            }},
            {"new": {
                "content": "});",
                "line": 89
            }},
            {"new": {
                "content": "",
                "line": 90
            }},
            {"new": {
                "content": "add_task(async function test_sendOverSizedPing() {",
                "line": 91
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 92
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 93
            }},
            {"new": {
                "content": "  let OVER_SIZED_PING_TYPE = \"over-sized-ping\";",
                "line": 94
            }},
            {"new": {
                "content": "  let overSizedData = generateRandomString(2 * 1024 * 1024);",
                "line": 95
            }},
            {"new": {
                "content": "",
                "line": 96
            }},
            {"new": {
                "content": "  await TelemetryController.submitExternalPing(OVER_SIZED_PING_TYPE, {\"data\": overSizedData});",
                "line": 97
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 98
            }},
            {"new": {
                "content": "",
                "line": 99
            }},
            {"new": {
                "content": "  checkHealthPingStructure(ping, {",
                "line": 100
            }},
            {"new": {
                "content": "    [TelemetryHealthPing.FailureType.DISCARDED_FOR_SIZE]: {",
                "line": 101
            }},
            {"new": {
                "content": "      [OVER_SIZED_PING_TYPE]: 1",
                "line": 102
            }},
            {"new": {
                "content": "    },",
                "line": 103
            }},
            {"new": {
                "content": "    \"os\": TelemetryHealthPing.OsInfo,",
                "line": 104
            }},
            {"new": {
                "content": "    \"reason\": TelemetryHealthPing.Reason.IMMEDIATE",
                "line": 105
            }},
            {"new": {
                "content": "  });",
                "line": 106
            }},
            {"new": {
                "content": "});",
                "line": 107
            }},
            {"new": {
                "content": "",
                "line": 108
            }},
            {"new": {
                "content": "add_task(async function test_sendOnTimeout() {",
                "line": 109
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 110
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 111
            }},
            {"new": {
                "content": "  let PING_TYPE = \"ping-on-timeout\";",
                "line": 112
            }},
            {"new": {
                "content": "",
                "line": 113
            }},
            {"new": {
                "content": "  // Set up small ping submission timeout to always have timeout error.",
                "line": 114
            }},
            {"new": {
                "content": "  TelemetrySend.testSetTimeoutForPingSubmit(2);",
                "line": 115
            }},
            {"new": {
                "content": "",
                "line": 116
            }},
            {"new": {
                "content": "  // Reset the timeout after receiving the first ping to be able to send health ping.",
                "line": 117
            }},
            {"new": {
                "content": "  PingServer.registerPingHandler((request, result) => {",
                "line": 118
            }},
            {"new": {
                "content": "    PingServer.resetPingHandler();",
                "line": 119
            }},
            {"new": {
                "content": "    TelemetrySend.testResetTimeOutToDefault();",
                "line": 120
            }},
            {"new": {
                "content": "  });",
                "line": 121
            }},
            {"new": {
                "content": "",
                "line": 122
            }},
            {"new": {
                "content": "  await TelemetryController.submitExternalPing(PING_TYPE, {});",
                "line": 123
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 124
            }},
            {"new": {
                "content": "  checkHealthPingStructure(ping, {",
                "line": 125
            }},
            {"new": {
                "content": "    [TelemetryHealthPing.FailureType.SEND_FAILURE]: {",
                "line": 126
            }},
            {"new": {
                "content": "      \"timeout\": 1",
                "line": 127
            }},
            {"new": {
                "content": "    },",
                "line": 128
            }},
            {"new": {
                "content": "    \"os\": TelemetryHealthPing.OsInfo,",
                "line": 129
            }},
            {"new": {
                "content": "    \"reason\": TelemetryHealthPing.Reason.IMMEDIATE",
                "line": 130
            }},
            {"new": {
                "content": "  });",
                "line": 131
            }},
            {"new": {
                "content": "",
                "line": 132
            }},
            {"new": {
                "content": "  // Clear pending pings to avoid resending pings which fail with time out error.",
                "line": 133
            }},
            {"new": {
                "content": "  await TelemetryStorage.testClearPendingPings();",
                "line": 134
            }},
            {"new": {
                "content": "});",
                "line": 135
            }},
            {"new": {
                "content": "",
                "line": 136
            }},
            {"new": {
                "content": "add_task(async function test_sendOnlyTopTenDiscardedPings() {",
                "line": 137
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 138
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 139
            }},
            {"new": {
                "content": "  let PING_TYPE = \"sort-discarded\";",
                "line": 140
            }},
            {"new": {
                "content": "",
                "line": 141
            }},
            {"new": {
                "content": "  // This first failure should immediately trigger a ping. After this, subsequent failures should be throttled.",
                "line": 142
            }},
            {"new": {
                "content": "  await TelemetryHealthPing.recordSendFailure(\"testFailure\");",
                "line": 143
            }},
            {"new": {
                "content": "  let testPing = await PingServer.promiseNextPing();",
                "line": 144
            }},
            {"new": {
                "content": "  Assert.equal(testPing.type, TelemetryHealthPing.HEALTH_PING_TYPE, \"Should have recorded a health ping.\");",
                "line": 145
            }},
            {"new": {
                "content": "",
                "line": 146
            }},
            {"new": {
                "content": "",
                "line": 147
            }},
            {"new": {
                "content": "  // Retrieve delayed call back.",
                "line": 148
            }},
            {"new": {
                "content": "  let pingSubmissionCallBack = null;",
                "line": 149
            }},
            {"new": {
                "content": "  fakeHealthSchedulerTimer((callBack) => pingSubmissionCallBack = callBack, () => {",
                "line": 150
            }},
            {"new": {
                "content": "  });",
                "line": 151
            }},
            {"new": {
                "content": "",
                "line": 152
            }},
            {"new": {
                "content": "  // Add failures",
                "line": 153
            }},
            {"new": {
                "content": "  for (let i = 1; i < 12; i++) {",
                "line": 154
            }},
            {"new": {
                "content": "    for (let j = 1; j < i; j++) {",
                "line": 155
            }},
            {"new": {
                "content": "      await TelemetryHealthPing.recordDiscardedPing(PING_TYPE + i);",
                "line": 156
            }},
            {"new": {
                "content": "    }",
                "line": 157
            }},
            {"new": {
                "content": "  }",
                "line": 158
            }},
            {"new": {
                "content": "",
                "line": 159
            }},
            {"new": {
                "content": "  await pingSubmissionCallBack();",
                "line": 160
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 161
            }},
            {"new": {
                "content": "",
                "line": 162
            }},
            {"new": {
                "content": "  checkHealthPingStructure(ping, {",
                "line": 163
            }},
            {"new": {
                "content": "    \"os\": TelemetryHealthPing.OsInfo,",
                "line": 164
            }},
            {"new": {
                "content": "    \"reason\": TelemetryHealthPing.Reason.DELAYED,",
                "line": 165
            }},
            {"new": {
                "content": "    [TelemetryHealthPing.FailureType.DISCARDED_FOR_SIZE]: {",
                "line": 166
            }},
            {"new": {
                "content": "      [PING_TYPE + 11]: 10,",
                "line": 167
            }},
            {"new": {
                "content": "      [PING_TYPE + 10]: 9,",
                "line": 168
            }},
            {"new": {
                "content": "      [PING_TYPE + 9]: 8,",
                "line": 169
            }},
            {"new": {
                "content": "      [PING_TYPE + 8]: 7,",
                "line": 170
            }},
            {"new": {
                "content": "      [PING_TYPE + 7]: 6,",
                "line": 171
            }},
            {"new": {
                "content": "      [PING_TYPE + 6]: 5,",
                "line": 172
            }},
            {"new": {
                "content": "      [PING_TYPE + 5]: 4,",
                "line": 173
            }},
            {"new": {
                "content": "      [PING_TYPE + 4]: 3,",
                "line": 174
            }},
            {"new": {
                "content": "      [PING_TYPE + 3]: 2,",
                "line": 175
            }},
            {"new": {
                "content": "      [PING_TYPE + 2]: 1",
                "line": 176
            }},
            {"new": {
                "content": "    }",
                "line": 177
            }},
            {"new": {
                "content": "  });",
                "line": 178
            }},
            {"new": {
                "content": "});",
                "line": 179
            }},
            {"new": {
                "content": "",
                "line": 180
            }},
            {"new": {
                "content": "add_task(async function cleanup() {",
                "line": 181
            }},
            {"new": {
                "content": "  await PingServer.stop();",
                "line": 182
            }},
            {"new": {
                "content": "});",
                "line": 183
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/tests/unit/test_TelemetryHealthPing.js"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\", this);",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "XPCOMUtils.defineLazyModuleGetter(this, \"TelemetryHealthPing\",",
                "line": 19
            }},
            {"new": {
                "content": "  \"resource://gre/modules/TelemetryHealthPing.jsm\");",
                "line": 20
            }},
            {"new": {
                "content": "  Preferences.set(TelemetryUtils.Preferences.HealthPingEnabled, true);",
                "line": 84
            }},
            {"new": {
                "content": "  await PingServer.promiseNextPing();",
                "line": 331
            }},
            {"new": {
                "content": "  TelemetryHealthPing.testReset();",
                "line": 339
            }},
            {"old": {
                "content": "  await TelemetrySend.testWaitOnOutgoingPings();",
                "line": 334
            }},
            {"new": {
                "content": "  let ping = await PingServer.promiseNextPing();",
                "line": 341
            }},
            {"old": {
                "content": "  Assert.deepEqual(histSuccess.snapshot().counts, [0, 1, 0], \"Should have recorded sending success.\");",
                "line": 337
            }},
            {"old": {
                "content": "  Assert.equal(histogramValueCount(histSendTimeSuccess.snapshot()), 1, \"Should have recorded send success time.\");",
                "line": 338
            }},
            {"new": {
                "content": "  Assert.deepEqual(histSuccess.snapshot().counts, [0, 2, 0], \"Should have recorded sending success.\");",
                "line": 344
            }},
            {"new": {
                "content": "  Assert.equal(histogramValueCount(histSendTimeSuccess.snapshot()), 2, \"Should have recorded send success time.\");",
                "line": 345
            }},
            {"new": {
                "content": "",
                "line": 348
            }},
            {"new": {
                "content": "  Assert.equal(ping.type, TelemetryHealthPing.HEALTH_PING_TYPE, \"Should have received a health ping.\");",
                "line": 349
            }},
            {"new": {
                "content": "  Assert.deepEqual(ping.payload[TelemetryHealthPing.FailureType.DISCARDED_FOR_SIZE],",
                "line": 350
            }},
            {"new": {
                "content": "    {[TEST_PING_TYPE]: 1}, \"Should have recorded correct type of oversized ping.\");",
                "line": 351
            }},
            {"new": {
                "content": "  Assert.deepEqual(ping.payload[\"os\"], TelemetryHealthPing.OsInfo, \"Should have correct os info.\")",
                "line": 352
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/tests/unit/test_TelemetrySend.js"},
        "old": {"name": "/toolkit/components/telemetry/tests/unit/test_TelemetrySend.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "  const ping = await nextPing;",
                "line": 1409
            }},
            {"new": {
                "content": "  let ping = await nextPing;",
                "line": 1409
            }},
            {"new": {
                "content": "  // Clear the state and prepare for the next test.",
                "line": 1470
            }},
            {"new": {
                "content": "  await TelemetryStorage.testClearPendingPings();",
                "line": 1471
            }},
            {"new": {
                "content": "  PingServer.clearRequests();",
                "line": 1472
            }},
            {"new": {
                "content": "  PingServer.resetPingHandler();",
                "line": 1473
            }},
            {"new": {
                "content": "",
                "line": 1474
            }},
            {"new": {
                "content": "  // Check that we're able to send the shutdown ping using the pingsender",
                "line": 1475
            }},
            {"new": {
                "content": "  // from the first session if the related pref is on.",
                "line": 1476
            }},
            {"new": {
                "content": "  Preferences.set(TelemetryUtils.Preferences.ShutdownPingSenderFirstSession, true);",
                "line": 1477
            }},
            {"new": {
                "content": "  Preferences.set(TelemetryUtils.Preferences.FirstRun, true);",
                "line": 1478
            }},
            {"new": {
                "content": "  TelemetryReportingPolicy.testUpdateFirstRun();",
                "line": 1479
            }},
            {"new": {
                "content": "",
                "line": 1480
            }},
            {"new": {
                "content": "  // Restart/shutdown telemetry and wait for an incoming ping.",
                "line": 1481
            }},
            {"new": {
                "content": "  await TelemetryController.testReset();",
                "line": 1482
            }},
            {"new": {
                "content": "  await TelemetryController.testShutdown();",
                "line": 1483
            }},
            {"new": {
                "content": "  ping = await PingServer.promiseNextPing();",
                "line": 1484
            }},
            {"new": {
                "content": "",
                "line": 1485
            }},
            {"new": {
                "content": "  // Check that we received a shutdown ping.",
                "line": 1486
            }},
            {"new": {
                "content": "  checkPingFormat(ping, ping.type, true, true);",
                "line": 1487
            }},
            {"new": {
                "content": "  Assert.equal(ping.payload.info.reason, REASON_SHUTDOWN);",
                "line": 1488
            }},
            {"new": {
                "content": "  Assert.equal(ping.clientId, gClientID);",
                "line": 1489
            }},
            {"new": {
                "content": "",
                "line": 1490
            }},
            {"new": {
                "content": "  Preferences.set(TelemetryUtils.Preferences.ShutdownPingSenderFirstSession, false);",
                "line": 1493
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/tests/unit/test_TelemetrySession.js"},
        "old": {"name": "/toolkit/components/telemetry/tests/unit/test_TelemetrySession.js"}
    },
    {
        "changes": [
            {"new": {
                "content": "[test_TelemetryHealthPing.js]",
                "line": 41
            }}
        ],
        "new": {"name": "/toolkit/components/telemetry/tests/unit/xpcshell.ini"},
        "old": {"name": "/toolkit/components/telemetry/tests/unit/xpcshell.ini"}
    },
    {
        "changes": [
            {"old": {
                "content": "# This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"old": {
                "content": "# License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"old": {
                "content": "# file, You can obtain one at http://mozilla.org/MPL/2.0/.",
                "line": 2
            }},
            {"old": {
                "content": "",
                "line": 3
            }},
            {"old": {
                "content": "var Cu = Components.utils;",
                "line": 4
            }},
            {"old": {
                "content": "Cu.import(\"resource://gre/modules/Services.jsm\");",
                "line": 5
            }},
            {"old": {
                "content": "",
                "line": 6
            }},
            {"old": {
                "content": "// This is the only implementation of nsIUrlListManager.",
                "line": 7
            }},
            {"old": {
                "content": "// A class that manages lists, namely white and black lists for",
                "line": 8
            }},
            {"old": {
                "content": "// phishing or malware protection. The ListManager knows how to fetch,",
                "line": 9
            }},
            {"old": {
                "content": "// update, and store lists.",
                "line": 10
            }},
            {"old": {
                "content": "//",
                "line": 11
            }},
            {"old": {
                "content": "// There is a single listmanager for the whole application.",
                "line": 12
            }},
            {"old": {
                "content": "//",
                "line": 13
            }},
            {"old": {
                "content": "// TODO more comprehensive update tests, for example add unittest check",
                "line": 14
            }},
            {"old": {
                "content": "//      that the listmanagers tables are properly written on updates",
                "line": 15
            }},
            {"old": {
                "content": "",
                "line": 16
            }},
            {"old": {
                "content": "// Lower and upper limits on the server-provided polling frequency",
                "line": 17
            }},
            {"old": {
                "content": "const minDelayMs = 5 * 60 * 1000;",
                "line": 18
            }},
            {"old": {
                "content": "const maxDelayMs = 24 * 60 * 60 * 1000;",
                "line": 19
            }},
            {"old": {
                "content": "const defaultUpdateIntervalMs = 30 * 60 * 1000;",
                "line": 20
            }},
            {"old": {
                "content": "const PREF_DEBUG_ENABLED = \"browser.safebrowsing.debug\";",
                "line": 21
            }},
            {"old": {
                "content": "",
                "line": 22
            }},
            {"old": {
                "content": "let loggingEnabled = false;",
                "line": 23
            }},
            {"old": {
                "content": "",
                "line": 24
            }},
            {"old": {
                "content": "// Log only if browser.safebrowsing.debug is true",
                "line": 25
            }},
            {"old": {
                "content": "this.log = function log(...stuff) {",
                "line": 26
            }},
            {"old": {
                "content": "  if (!loggingEnabled) {",
                "line": 27
            }},
            {"old": {
                "content": "    return;",
                "line": 28
            }},
            {"old": {
                "content": "  }",
                "line": 29
            }},
            {"old": {
                "content": "",
                "line": 30
            }},
            {"old": {
                "content": "  var d = new Date();",
                "line": 31
            }},
            {"old": {
                "content": "  let msg = \"listmanager: \" + d.toTimeString() + \": \" + stuff.join(\" \");",
                "line": 32
            }},
            {"old": {
                "content": "  msg = Services.urlFormatter.trimSensitiveURLs(msg);",
                "line": 33
            }},
            {"old": {
                "content": "  Services.console.logStringMessage(msg);",
                "line": 34
            }},
            {"old": {
                "content": "  dump(msg + \"\\n\");",
                "line": 35
            }},
            {"old": {
                "content": "}",
                "line": 36
            }},
            {"old": {
                "content": "",
                "line": 37
            }},
            {"old": {
                "content": "/**",
                "line": 38
            }},
            {"old": {
                "content": " * A ListManager keeps track of black and white lists and knows",
                "line": 39
            }},
            {"old": {
                "content": " * how to update them.",
                "line": 40
            }},
            {"old": {
                "content": " *",
                "line": 41
            }},
            {"old": {
                "content": " * @constructor",
                "line": 42
            }},
            {"old": {
                "content": " */",
                "line": 43
            }},
            {"old": {
                "content": "this.PROT_ListManager = function PROT_ListManager() {",
                "line": 44
            }},
            {"old": {
                "content": "  loggingEnabled = Services.prefs.getBoolPref(PREF_DEBUG_ENABLED);",
                "line": 45
            }},
            {"old": {
                "content": "",
                "line": 46
            }},
            {"old": {
                "content": "  log(\"Initializing list manager\");",
                "line": 47
            }},
            {"old": {
                "content": "  this.updateInterval = defaultUpdateIntervalMs;",
                "line": 48
            }},
            {"old": {
                "content": "",
                "line": 49
            }},
            {"old": {
                "content": "  // A map of tableNames to objects of type",
                "line": 50
            }},
            {"old": {
                "content": "  // { updateUrl: <updateUrl>, gethashUrl: <gethashUrl> }",
                "line": 51
            }},
            {"old": {
                "content": "  this.tablesData = {};",
                "line": 52
            }},
            {"old": {
                "content": "  // A map of updateUrls to maps of tables requiring updates, e.g.",
                "line": 53
            }},
            {"old": {
                "content": "  // { safebrowsing-update-url: { goog-phish-shavar: true,",
                "line": 54
            }},
            {"old": {
                "content": "  //                              goog-malware-shavar: true }",
                "line": 55
            }},
            {"old": {
                "content": "  this.needsUpdate_ = {};",
                "line": 56
            }},
            {"old": {
                "content": "",
                "line": 57
            }},
            {"old": {
                "content": "  // A map of updateUrls to single-use nsITimer. An entry exists if and only if",
                "line": 58
            }},
            {"old": {
                "content": "  // there is at least one table with updates enabled for that url. nsITimers",
                "line": 59
            }},
            {"old": {
                "content": "  // are reset when enabling/disabling updates or on update callbacks (update",
                "line": 60
            }},
            {"old": {
                "content": "  // success, update failure, download error).",
                "line": 61
            }},
            {"old": {
                "content": "  this.updateCheckers_ = {};",
                "line": 62
            }},
            {"old": {
                "content": "  this.requestBackoffs_ = {};",
                "line": 63
            }},
            {"old": {
                "content": "  this.dbService_ = Cc[\"@mozilla.org/url-classifier/dbservice;1\"]",
                "line": 64
            }},
            {"old": {
                "content": "                   .getService(Ci.nsIUrlClassifierDBService);",
                "line": 65
            }},
            {"old": {
                "content": "",
                "line": 66
            }},
            {"old": {
                "content": "  Services.obs.addObserver(this, \"quit-application\");",
                "line": 67
            }},
            {"old": {
                "content": "  Services.prefs.addObserver(PREF_DEBUG_ENABLED, this);",
                "line": 68
            }},
            {"old": {
                "content": "}",
                "line": 69
            }},
            {"old": {
                "content": "",
                "line": 70
            }},
            {"old": {
                "content": "/**",
                "line": 71
            }},
            {"old": {
                "content": " * Register a new table table",
                "line": 72
            }},
            {"old": {
                "content": " * @param tableName - the name of the table",
                "line": 73
            }},
            {"old": {
                "content": " * @param updateUrl - the url for updating the table",
                "line": 74
            }},
            {"old": {
                "content": " * @param gethashUrl - the url for fetching hash completions",
                "line": 75
            }},
            {"old": {
                "content": " * @returns true if the table could be created; false otherwise",
                "line": 76
            }},
            {"old": {
                "content": " */",
                "line": 77
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.registerTable = function(tableName,",
                "line": 78
            }},
            {"old": {
                "content": "                                                    providerName,",
                "line": 79
            }},
            {"old": {
                "content": "                                                    updateUrl,",
                "line": 80
            }},
            {"old": {
                "content": "                                                    gethashUrl) {",
                "line": 81
            }},
            {"old": {
                "content": "  this.tablesData[tableName] = {};",
                "line": 82
            }},
            {"old": {
                "content": "  if (!updateUrl) {",
                "line": 83
            }},
            {"old": {
                "content": "    log(\"Can't register table \" + tableName + \" without updateUrl\");",
                "line": 84
            }},
            {"old": {
                "content": "    return false;",
                "line": 85
            }},
            {"old": {
                "content": "  }",
                "line": 86
            }},
            {"old": {
                "content": "  log(\"registering \" + tableName + \" with \" + updateUrl);",
                "line": 87
            }},
            {"old": {
                "content": "  this.tablesData[tableName].updateUrl = updateUrl;",
                "line": 88
            }},
            {"old": {
                "content": "  this.tablesData[tableName].gethashUrl = gethashUrl;",
                "line": 89
            }},
            {"old": {
                "content": "  this.tablesData[tableName].provider = providerName;",
                "line": 90
            }},
            {"old": {
                "content": "",
                "line": 91
            }},
            {"old": {
                "content": "  // Keep track of all of our update URLs.",
                "line": 92
            }},
            {"old": {
                "content": "  if (!this.needsUpdate_[updateUrl]) {",
                "line": 93
            }},
            {"old": {
                "content": "    this.needsUpdate_[updateUrl] = {};",
                "line": 94
            }},
            {"old": {
                "content": "",
                "line": 95
            }},
            {"old": {
                "content": "    // Using the V4 backoff algorithm for both V2 and V4. See bug 1273398.",
                "line": 96
            }},
            {"old": {
                "content": "    this.requestBackoffs_[updateUrl] = new RequestBackoffV4(",
                "line": 97
            }},
            {"old": {
                "content": "                                            4 /* num requests */,",
                "line": 98
            }},
            {"old": {
                "content": "                                   60*60*1000 /* request time, 60 min */);",
                "line": 99
            }},
            {"old": {
                "content": "  }",
                "line": 100
            }},
            {"old": {
                "content": "  this.needsUpdate_[updateUrl][tableName] = false;",
                "line": 101
            }},
            {"old": {
                "content": "",
                "line": 102
            }},
            {"old": {
                "content": "  return true;",
                "line": 103
            }},
            {"old": {
                "content": "}",
                "line": 104
            }},
            {"old": {
                "content": "",
                "line": 105
            }},
            {"old": {
                "content": "/**",
                "line": 106
            }},
            {"old": {
                "content": " * Delete all of our data tables which seem to leak otherwise.",
                "line": 107
            }},
            {"old": {
                "content": " * Remove observers",
                "line": 108
            }},
            {"old": {
                "content": " */",
                "line": 109
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.shutdown_ = function() {",
                "line": 110
            }},
            {"old": {
                "content": "  this.stopUpdateCheckers();",
                "line": 111
            }},
            {"old": {
                "content": "  for (var name in this.tablesData) {",
                "line": 112
            }},
            {"old": {
                "content": "    delete this.tablesData[name];",
                "line": 113
            }},
            {"old": {
                "content": "  }",
                "line": 114
            }},
            {"old": {
                "content": "  Services.obs.removeObserver(this, \"quit-application\");",
                "line": 115
            }},
            {"old": {
                "content": "  Services.prefs.removeObserver(PREF_DEBUG_ENABLED, this);",
                "line": 116
            }},
            {"old": {
                "content": "}",
                "line": 117
            }},
            {"old": {
                "content": "",
                "line": 118
            }},
            {"old": {
                "content": "/**",
                "line": 119
            }},
            {"old": {
                "content": " * xpcom-shutdown callback",
                "line": 120
            }},
            {"old": {
                "content": " */",
                "line": 121
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.observe = function(aSubject, aTopic, aData) {",
                "line": 122
            }},
            {"old": {
                "content": "  switch (aTopic) {",
                "line": 123
            }},
            {"old": {
                "content": "  case \"quit-application\":",
                "line": 124
            }},
            {"old": {
                "content": "    this.shutdown_();",
                "line": 125
            }},
            {"old": {
                "content": "    break;",
                "line": 126
            }},
            {"old": {
                "content": "  case \"nsPref:changed\":",
                "line": 127
            }},
            {"old": {
                "content": "    if (aData == PREF_DEBUG_ENABLED) {",
                "line": 128
            }},
            {"old": {
                "content": "      loggingEnabled = Services.prefs.getBoolPref(PREF_DEBUG_ENABLED);",
                "line": 129
            }},
            {"old": {
                "content": "    }",
                "line": 130
            }},
            {"old": {
                "content": "    break;",
                "line": 131
            }},
            {"old": {
                "content": "  }",
                "line": 132
            }},
            {"old": {
                "content": "}",
                "line": 133
            }},
            {"old": {
                "content": "",
                "line": 134
            }},
            {"old": {
                "content": "",
                "line": 135
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.getGethashUrl = function(tableName) {",
                "line": 136
            }},
            {"old": {
                "content": "  if (this.tablesData[tableName] && this.tablesData[tableName].gethashUrl) {",
                "line": 137
            }},
            {"old": {
                "content": "    return this.tablesData[tableName].gethashUrl;",
                "line": 138
            }},
            {"old": {
                "content": "  }",
                "line": 139
            }},
            {"old": {
                "content": "  return \"\";",
                "line": 140
            }},
            {"old": {
                "content": "}",
                "line": 141
            }},
            {"old": {
                "content": "",
                "line": 142
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.getUpdateUrl = function(tableName) {",
                "line": 143
            }},
            {"old": {
                "content": "  if (this.tablesData[tableName] && this.tablesData[tableName].updateUrl) {",
                "line": 144
            }},
            {"old": {
                "content": "    return this.tablesData[tableName].updateUrl;",
                "line": 145
            }},
            {"old": {
                "content": "  }",
                "line": 146
            }},
            {"old": {
                "content": "  return \"\";",
                "line": 147
            }},
            {"old": {
                "content": "}",
                "line": 148
            }},
            {"old": {
                "content": "",
                "line": 149
            }},
            {"old": {
                "content": "/**",
                "line": 150
            }},
            {"old": {
                "content": " * Enable updates for some tables",
                "line": 151
            }},
            {"old": {
                "content": " * @param tables - an array of table names that need updating",
                "line": 152
            }},
            {"old": {
                "content": " */",
                "line": 153
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.enableUpdate = function(tableName) {",
                "line": 154
            }},
            {"old": {
                "content": "  var table = this.tablesData[tableName];",
                "line": 155
            }},
            {"old": {
                "content": "  if (table) {",
                "line": 156
            }},
            {"old": {
                "content": "    log(\"Enabling table updates for \" + tableName);",
                "line": 157
            }},
            {"old": {
                "content": "    this.needsUpdate_[table.updateUrl][tableName] = true;",
                "line": 158
            }},
            {"old": {
                "content": "  }",
                "line": 159
            }},
            {"old": {
                "content": "}",
                "line": 160
            }},
            {"old": {
                "content": "",
                "line": 161
            }},
            {"old": {
                "content": "/**",
                "line": 162
            }},
            {"old": {
                "content": " * Returns true if any table associated with the updateUrl requires updates.",
                "line": 163
            }},
            {"old": {
                "content": " * @param updateUrl - the updateUrl",
                "line": 164
            }},
            {"old": {
                "content": " */",
                "line": 165
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.updatesNeeded_ = function(updateUrl) {",
                "line": 166
            }},
            {"old": {
                "content": "  let updatesNeeded = false;",
                "line": 167
            }},
            {"old": {
                "content": "  for (var tableName in this.needsUpdate_[updateUrl]) {",
                "line": 168
            }},
            {"old": {
                "content": "    if (this.needsUpdate_[updateUrl][tableName]) {",
                "line": 169
            }},
            {"old": {
                "content": "      updatesNeeded = true;",
                "line": 170
            }},
            {"old": {
                "content": "    }",
                "line": 171
            }},
            {"old": {
                "content": "  }",
                "line": 172
            }},
            {"old": {
                "content": "  return updatesNeeded;",
                "line": 173
            }},
            {"old": {
                "content": "}",
                "line": 174
            }},
            {"old": {
                "content": "",
                "line": 175
            }},
            {"old": {
                "content": "/**",
                "line": 176
            }},
            {"old": {
                "content": " * Disables updates for some tables",
                "line": 177
            }},
            {"old": {
                "content": " * @param tables - an array of table names that no longer need updating",
                "line": 178
            }},
            {"old": {
                "content": " */",
                "line": 179
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.disableUpdate = function(tableName) {",
                "line": 180
            }},
            {"old": {
                "content": "  var table = this.tablesData[tableName];",
                "line": 181
            }},
            {"old": {
                "content": "  if (table) {",
                "line": 182
            }},
            {"old": {
                "content": "    log(\"Disabling table updates for \" + tableName);",
                "line": 183
            }},
            {"old": {
                "content": "    this.needsUpdate_[table.updateUrl][tableName] = false;",
                "line": 184
            }},
            {"old": {
                "content": "    if (!this.updatesNeeded_(table.updateUrl) &&",
                "line": 185
            }},
            {"old": {
                "content": "        this.updateCheckers_[table.updateUrl]) {",
                "line": 186
            }},
            {"old": {
                "content": "      this.updateCheckers_[table.updateUrl].cancel();",
                "line": 187
            }},
            {"old": {
                "content": "      this.updateCheckers_[table.updateUrl] = null;",
                "line": 188
            }},
            {"old": {
                "content": "    }",
                "line": 189
            }},
            {"old": {
                "content": "  }",
                "line": 190
            }},
            {"old": {
                "content": "}",
                "line": 191
            }},
            {"old": {
                "content": "",
                "line": 192
            }},
            {"old": {
                "content": "/**",
                "line": 193
            }},
            {"old": {
                "content": " * Determine if we have some tables that need updating.",
                "line": 194
            }},
            {"old": {
                "content": " */",
                "line": 195
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.requireTableUpdates = function() {",
                "line": 196
            }},
            {"old": {
                "content": "  for (var name in this.tablesData) {",
                "line": 197
            }},
            {"old": {
                "content": "    // Tables that need updating even if other tables don't require it",
                "line": 198
            }},
            {"old": {
                "content": "    if (this.needsUpdate_[this.tablesData[name].updateUrl][name]) {",
                "line": 199
            }},
            {"old": {
                "content": "      return true;",
                "line": 200
            }},
            {"old": {
                "content": "    }",
                "line": 201
            }},
            {"old": {
                "content": "  }",
                "line": 202
            }},
            {"old": {
                "content": "",
                "line": 203
            }},
            {"old": {
                "content": "  return false;",
                "line": 204
            }},
            {"old": {
                "content": "}",
                "line": 205
            }},
            {"old": {
                "content": "",
                "line": 206
            }},
            {"old": {
                "content": "/**",
                "line": 207
            }},
            {"old": {
                "content": " *  Set timer to check update after delay",
                "line": 208
            }},
            {"old": {
                "content": " */",
                "line": 209
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.setUpdateCheckTimer = function (updateUrl,",
                "line": 210
            }},
            {"old": {
                "content": "                                                           delay)",
                "line": 211
            }},
            {"old": {
                "content": "{",
                "line": 212
            }},
            {"old": {
                "content": "  this.updateCheckers_[updateUrl] = Cc[\"@mozilla.org/timer;1\"]",
                "line": 213
            }},
            {"old": {
                "content": "                                    .createInstance(Ci.nsITimer);",
                "line": 214
            }},
            {"old": {
                "content": "  this.updateCheckers_[updateUrl].initWithCallback(() => {",
                "line": 215
            }},
            {"old": {
                "content": "    this.updateCheckers_[updateUrl] = null;",
                "line": 216
            }},
            {"old": {
                "content": "    this.checkForUpdates(updateUrl);",
                "line": 217
            }},
            {"old": {
                "content": "  }, delay, Ci.nsITimer.TYPE_ONE_SHOT);",
                "line": 218
            }},
            {"old": {
                "content": "}",
                "line": 219
            }},
            {"old": {
                "content": "/**",
                "line": 220
            }},
            {"old": {
                "content": " * Acts as a nsIUrlClassifierCallback for getTables.",
                "line": 221
            }},
            {"old": {
                "content": " */",
                "line": 222
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.kickoffUpdate_ = function (onDiskTableData)",
                "line": 223
            }},
            {"old": {
                "content": "{",
                "line": 224
            }},
            {"old": {
                "content": "  this.startingUpdate_ = false;",
                "line": 225
            }},
            {"old": {
                "content": "  var initialUpdateDelay = 3000;",
                "line": 226
            }},
            {"old": {
                "content": "  // Add a fuzz of 0-1 minutes for both v2 and v4 according to Bug 1305478.",
                "line": 227
            }},
            {"old": {
                "content": "  initialUpdateDelay += Math.floor(Math.random() * (1 * 60 * 1000));",
                "line": 228
            }},
            {"old": {
                "content": "",
                "line": 229
            }},
            {"old": {
                "content": "  // If the user has never downloaded tables, do the check now.",
                "line": 230
            }},
            {"old": {
                "content": "  log(\"needsUpdate: \" + JSON.stringify(this.needsUpdate_, undefined, 2));",
                "line": 231
            }},
            {"old": {
                "content": "  for (var updateUrl in this.needsUpdate_) {",
                "line": 232
            }},
            {"old": {
                "content": "    // If we haven't already kicked off updates for this updateUrl, set a",
                "line": 233
            }},
            {"old": {
                "content": "    // non-repeating timer for it. The timer delay will be reset either on",
                "line": 234
            }},
            {"old": {
                "content": "    // updateSuccess to this.updateInterval, or backed off on downloadError.",
                "line": 235
            }},
            {"old": {
                "content": "    // Don't set the updateChecker unless at least one table has updates",
                "line": 236
            }},
            {"old": {
                "content": "    // enabled.",
                "line": 237
            }},
            {"old": {
                "content": "    if (this.updatesNeeded_(updateUrl) && !this.updateCheckers_[updateUrl]) {",
                "line": 238
            }},
            {"old": {
                "content": "      let provider = null;",
                "line": 239
            }},
            {"old": {
                "content": "      Object.keys(this.tablesData).forEach(function(table) {",
                "line": 240
            }},
            {"old": {
                "content": "        if (this.tablesData[table].updateUrl === updateUrl) {",
                "line": 241
            }},
            {"old": {
                "content": "          let newProvider = this.tablesData[table].provider;",
                "line": 242
            }},
            {"old": {
                "content": "          if (provider) {",
                "line": 243
            }},
            {"old": {
                "content": "            if (newProvider !== provider) {",
                "line": 244
            }},
            {"old": {
                "content": "              log(\"Multiple tables for the same updateURL have a different provider?!\");",
                "line": 245
            }},
            {"old": {
                "content": "            }",
                "line": 246
            }},
            {"old": {
                "content": "          } else {",
                "line": 247
            }},
            {"old": {
                "content": "            provider = newProvider;",
                "line": 248
            }},
            {"old": {
                "content": "          }",
                "line": 249
            }},
            {"old": {
                "content": "        }",
                "line": 250
            }},
            {"old": {
                "content": "      }, this);",
                "line": 251
            }},
            {"old": {
                "content": "      log(\"Initializing update checker for \" + updateUrl",
                "line": 252
            }},
            {"old": {
                "content": "          + \" provided by \" + provider);",
                "line": 253
            }},
            {"old": {
                "content": "",
                "line": 254
            }},
            {"old": {
                "content": "      // Use the initialUpdateDelay + fuzz unless we had previous updates",
                "line": 255
            }},
            {"old": {
                "content": "      // and the server told us when to try again.",
                "line": 256
            }},
            {"old": {
                "content": "      let updateDelay = initialUpdateDelay;",
                "line": 257
            }},
            {"old": {
                "content": "      let nextUpdatePref = \"browser.safebrowsing.provider.\" + provider +",
                "line": 258
            }},
            {"old": {
                "content": "                           \".nextupdatetime\";",
                "line": 259
            }},
            {"old": {
                "content": "      let nextUpdate;",
                "line": 260
            }},
            {"old": {
                "content": "      try {",
                "line": 261
            }},
            {"old": {
                "content": "        nextUpdate = Services.prefs.getCharPref(nextUpdatePref);",
                "line": 262
            }},
            {"old": {
                "content": "      } catch (ex) {",
                "line": 263
            }},
            {"old": {
                "content": "      }",
                "line": 264
            }},
            {"old": {
                "content": "",
                "line": 265
            }},
            {"old": {
                "content": "      if (nextUpdate) {",
                "line": 266
            }},
            {"old": {
                "content": "        updateDelay = Math.min(maxDelayMs, Math.max(0, nextUpdate - Date.now()));",
                "line": 267
            }},
            {"old": {
                "content": "        log(\"Next update at \" + nextUpdate);",
                "line": 268
            }},
            {"old": {
                "content": "      }",
                "line": 269
            }},
            {"old": {
                "content": "      log(\"Next update \" + updateDelay / 60000 + \"min from now\");",
                "line": 270
            }},
            {"old": {
                "content": "",
                "line": 271
            }},
            {"old": {
                "content": "      this.setUpdateCheckTimer(updateUrl, updateDelay);",
                "line": 272
            }},
            {"old": {
                "content": "    } else {",
                "line": 273
            }},
            {"old": {
                "content": "      log(\"No updates needed or already initialized for \" + updateUrl);",
                "line": 274
            }},
            {"old": {
                "content": "    }",
                "line": 275
            }},
            {"old": {
                "content": "  }",
                "line": 276
            }},
            {"old": {
                "content": "}",
                "line": 277
            }},
            {"old": {
                "content": "",
                "line": 278
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.stopUpdateCheckers = function() {",
                "line": 279
            }},
            {"old": {
                "content": "  log(\"Stopping updates\");",
                "line": 280
            }},
            {"old": {
                "content": "  for (var updateUrl in this.updateCheckers_) {",
                "line": 281
            }},
            {"old": {
                "content": "    if (this.updateCheckers_[updateUrl]) {",
                "line": 282
            }},
            {"old": {
                "content": "      this.updateCheckers_[updateUrl].cancel();",
                "line": 283
            }},
            {"old": {
                "content": "      this.updateCheckers_[updateUrl] = null;",
                "line": 284
            }},
            {"old": {
                "content": "    }",
                "line": 285
            }},
            {"old": {
                "content": "  }",
                "line": 286
            }},
            {"old": {
                "content": "}",
                "line": 287
            }},
            {"old": {
                "content": "",
                "line": 288
            }},
            {"old": {
                "content": "/**",
                "line": 289
            }},
            {"old": {
                "content": " * Determine if we have any tables that require updating.  Different",
                "line": 290
            }},
            {"old": {
                "content": " * Wardens may call us with new tables that need to be updated.",
                "line": 291
            }},
            {"old": {
                "content": " */",
                "line": 292
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.maybeToggleUpdateChecking = function() {",
                "line": 293
            }},
            {"old": {
                "content": "  // We update tables if we have some tables that want updates.  If there",
                "line": 294
            }},
            {"old": {
                "content": "  // are no tables that want to be updated - we dont need to check anything.",
                "line": 295
            }},
            {"old": {
                "content": "  if (this.requireTableUpdates()) {",
                "line": 296
            }},
            {"old": {
                "content": "    log(\"Starting managing lists\");",
                "line": 297
            }},
            {"old": {
                "content": "",
                "line": 298
            }},
            {"old": {
                "content": "    // Get the list of existing tables from the DBService before making any",
                "line": 299
            }},
            {"old": {
                "content": "    // update requests.",
                "line": 300
            }},
            {"old": {
                "content": "    if (!this.startingUpdate_) {",
                "line": 301
            }},
            {"old": {
                "content": "      this.startingUpdate_ = true;",
                "line": 302
            }},
            {"old": {
                "content": "      // check the current state of tables in the database",
                "line": 303
            }},
            {"old": {
                "content": "      this.dbService_.getTables(this.kickoffUpdate_.bind(this));",
                "line": 304
            }},
            {"old": {
                "content": "    }",
                "line": 305
            }},
            {"old": {
                "content": "  } else {",
                "line": 306
            }},
            {"old": {
                "content": "    log(\"Stopping managing lists (if currently active)\");",
                "line": 307
            }},
            {"old": {
                "content": "    this.stopUpdateCheckers();                    // Cancel pending updates",
                "line": 308
            }},
            {"old": {
                "content": "  }",
                "line": 309
            }},
            {"old": {
                "content": "}",
                "line": 310
            }},
            {"old": {
                "content": "",
                "line": 311
            }},
            {"old": {
                "content": "/**",
                "line": 312
            }},
            {"old": {
                "content": " * Updates our internal tables from the update server",
                "line": 313
            }},
            {"old": {
                "content": " *",
                "line": 314
            }},
            {"old": {
                "content": " * @param updateUrl: request updates for tables associated with that url, or",
                "line": 315
            }},
            {"old": {
                "content": " * for all tables if the url is empty.",
                "line": 316
            }},
            {"old": {
                "content": " */",
                "line": 317
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.checkForUpdates = function(updateUrl) {",
                "line": 318
            }},
            {"old": {
                "content": "  log(\"checkForUpdates with \" + updateUrl);",
                "line": 319
            }},
            {"old": {
                "content": "  // See if we've triggered the request backoff logic.",
                "line": 320
            }},
            {"old": {
                "content": "  if (!updateUrl) {",
                "line": 321
            }},
            {"old": {
                "content": "    return false;",
                "line": 322
            }},
            {"old": {
                "content": "  }",
                "line": 323
            }},
            {"old": {
                "content": "  if (!this.requestBackoffs_[updateUrl] ||",
                "line": 324
            }},
            {"old": {
                "content": "      !this.requestBackoffs_[updateUrl].canMakeRequest()) {",
                "line": 325
            }},
            {"old": {
                "content": "    log(\"Can't make update request\");",
                "line": 326
            }},
            {"old": {
                "content": "    return false;",
                "line": 327
            }},
            {"old": {
                "content": "  }",
                "line": 328
            }},
            {"old": {
                "content": "  // Grab the current state of the tables from the database",
                "line": 329
            }},
            {"old": {
                "content": "  this.dbService_.getTables(BindToObject(this.makeUpdateRequest_, this,",
                "line": 330
            }},
            {"old": {
                "content": "                            updateUrl));",
                "line": 331
            }},
            {"old": {
                "content": "  return true;",
                "line": 332
            }},
            {"old": {
                "content": "}",
                "line": 333
            }},
            {"old": {
                "content": "",
                "line": 334
            }},
            {"old": {
                "content": "/**",
                "line": 335
            }},
            {"old": {
                "content": " * Method that fires the actual HTTP update request.",
                "line": 336
            }},
            {"old": {
                "content": " * First we reset any tables that have disappeared.",
                "line": 337
            }},
            {"old": {
                "content": " * @param tableData List of table data already in the database, in the form",
                "line": 338
            }},
            {"old": {
                "content": " *        tablename;<chunk ranges>\\n",
                "line": 339
            }},
            {"old": {
                "content": " */",
                "line": 340
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.makeUpdateRequest_ = function(updateUrl, tableData) {",
                "line": 341
            }},
            {"old": {
                "content": "  log(\"this.tablesData: \" + JSON.stringify(this.tablesData, undefined, 2));",
                "line": 342
            }},
            {"old": {
                "content": "  log(\"existing chunks: \" + tableData + \"\\n\");",
                "line": 343
            }},
            {"old": {
                "content": "  // Disallow blank updateUrls",
                "line": 344
            }},
            {"old": {
                "content": "  if (!updateUrl) {",
                "line": 345
            }},
            {"old": {
                "content": "    return;",
                "line": 346
            }},
            {"old": {
                "content": "  }",
                "line": 347
            }},
            {"old": {
                "content": "  // An object of the form",
                "line": 348
            }},
            {"old": {
                "content": "  // { tableList: comma-separated list of tables to request,",
                "line": 349
            }},
            {"old": {
                "content": "  //   tableNames: map of tables that need updating,",
                "line": 350
            }},
            {"old": {
                "content": "  //   request: list of tables and existing chunk ranges from tableData",
                "line": 351
            }},
            {"old": {
                "content": "  // }",
                "line": 352
            }},
            {"old": {
                "content": "  var streamerMap = { tableList: null,",
                "line": 353
            }},
            {"old": {
                "content": "                      tableNames: {},",
                "line": 354
            }},
            {"old": {
                "content": "                      requestPayload: \"\",",
                "line": 355
            }},
            {"old": {
                "content": "                      isPostRequest: true };",
                "line": 356
            }},
            {"old": {
                "content": "",
                "line": 357
            }},
            {"old": {
                "content": "  let useProtobuf = false;",
                "line": 358
            }},
            {"old": {
                "content": "  let onceThru = false;",
                "line": 359
            }},
            {"old": {
                "content": "  for (var tableName in this.tablesData) {",
                "line": 360
            }},
            {"old": {
                "content": "    // Skip tables not matching this update url",
                "line": 361
            }},
            {"old": {
                "content": "    if (this.tablesData[tableName].updateUrl != updateUrl) {",
                "line": 362
            }},
            {"old": {
                "content": "      continue;",
                "line": 363
            }},
            {"old": {
                "content": "    }",
                "line": 364
            }},
            {"old": {
                "content": "",
                "line": 365
            }},
            {"old": {
                "content": "    // Check if |updateURL| is for 'proto'. (only v4 uses protobuf for now.)",
                "line": 366
            }},
            {"old": {
                "content": "    // We use the table name 'goog-*-proto' and an additional provider \"google4\"",
                "line": 367
            }},
            {"old": {
                "content": "    // to describe the v4 settings.",
                "line": 368
            }},
            {"old": {
                "content": "    let isCurTableProto = tableName.endsWith('-proto');",
                "line": 369
            }},
            {"old": {
                "content": "    if (!onceThru) {",
                "line": 370
            }},
            {"old": {
                "content": "      useProtobuf = isCurTableProto;",
                "line": 371
            }},
            {"old": {
                "content": "      onceThru = true;",
                "line": 372
            }},
            {"old": {
                "content": "    } else if (useProtobuf !== isCurTableProto) {",
                "line": 373
            }},
            {"old": {
                "content": "      log('ERROR: Cannot mix \"proto\" tables with other types ' +",
                "line": 374
            }},
            {"old": {
                "content": "          'within the same provider.');",
                "line": 375
            }},
            {"old": {
                "content": "    }",
                "line": 376
            }},
            {"old": {
                "content": "",
                "line": 377
            }},
            {"old": {
                "content": "    if (this.needsUpdate_[this.tablesData[tableName].updateUrl][tableName]) {",
                "line": 378
            }},
            {"old": {
                "content": "      streamerMap.tableNames[tableName] = true;",
                "line": 379
            }},
            {"old": {
                "content": "    }",
                "line": 380
            }},
            {"old": {
                "content": "    if (!streamerMap.tableList) {",
                "line": 381
            }},
            {"old": {
                "content": "      streamerMap.tableList = tableName;",
                "line": 382
            }},
            {"old": {
                "content": "    } else {",
                "line": 383
            }},
            {"old": {
                "content": "      streamerMap.tableList += \",\" + tableName;",
                "line": 384
            }},
            {"old": {
                "content": "    }",
                "line": 385
            }},
            {"old": {
                "content": "  }",
                "line": 386
            }},
            {"old": {
                "content": "",
                "line": 387
            }},
            {"old": {
                "content": "  if (useProtobuf) {",
                "line": 388
            }},
            {"old": {
                "content": "    let tableArray = [];",
                "line": 389
            }},
            {"old": {
                "content": "    Object.keys(streamerMap.tableNames).forEach(aTableName => {",
                "line": 390
            }},
            {"old": {
                "content": "      if (streamerMap.tableNames[aTableName]) {",
                "line": 391
            }},
            {"old": {
                "content": "        tableArray.push(aTableName);",
                "line": 392
            }},
            {"old": {
                "content": "      }",
                "line": 393
            }},
            {"old": {
                "content": "    });",
                "line": 394
            }},
            {"old": {
                "content": "",
                "line": 395
            }},
            {"old": {
                "content": "    // Build the <tablename, stateBase64> mapping.",
                "line": 396
            }},
            {"old": {
                "content": "    let tableState = {};",
                "line": 397
            }},
            {"old": {
                "content": "    tableData.split(\"\\n\").forEach(line => {",
                "line": 398
            }},
            {"old": {
                "content": "      let p = line.indexOf(\";\");",
                "line": 399
            }},
            {"old": {
                "content": "      if (-1 === p) {",
                "line": 400
            }},
            {"old": {
                "content": "        return;",
                "line": 401
            }},
            {"old": {
                "content": "      }",
                "line": 402
            }},
            {"old": {
                "content": "      let tableName = line.substring(0, p);",
                "line": 403
            }},
            {"old": {
                "content": "      if (tableName in streamerMap.tableNames) {",
                "line": 404
            }},
            {"old": {
                "content": "        let metadata = line.substring(p + 1).split(\":\");",
                "line": 405
            }},
            {"old": {
                "content": "        let stateBase64 = metadata[0];",
                "line": 406
            }},
            {"old": {
                "content": "        log(tableName + \" ==> \" + stateBase64);",
                "line": 407
            }},
            {"old": {
                "content": "        tableState[tableName] = stateBase64;",
                "line": 408
            }},
            {"old": {
                "content": "      }",
                "line": 409
            }},
            {"old": {
                "content": "    });",
                "line": 410
            }},
            {"old": {
                "content": "",
                "line": 411
            }},
            {"old": {
                "content": "    // The state is a byte stream which server told us from the",
                "line": 412
            }},
            {"old": {
                "content": "    // last table update. The state would be used to do the partial",
                "line": 413
            }},
            {"old": {
                "content": "    // update and the empty string means the table has",
                "line": 414
            }},
            {"old": {
                "content": "    // never been downloaded. See Bug 1287058 for supporting",
                "line": 415
            }},
            {"old": {
                "content": "    // partial update.",
                "line": 416
            }},
            {"old": {
                "content": "    let stateArray = [];",
                "line": 417
            }},
            {"old": {
                "content": "    tableArray.forEach(listName => {",
                "line": 418
            }},
            {"old": {
                "content": "      stateArray.push(tableState[listName] || \"\");",
                "line": 419
            }},
            {"old": {
                "content": "    });",
                "line": 420
            }},
            {"old": {
                "content": "",
                "line": 421
            }},
            {"old": {
                "content": "    log(\"stateArray: \" + stateArray);",
                "line": 422
            }},
            {"old": {
                "content": "",
                "line": 423
            }},
            {"old": {
                "content": "    let urlUtils = Cc[\"@mozilla.org/url-classifier/utils;1\"]",
                "line": 424
            }},
            {"old": {
                "content": "                     .getService(Ci.nsIUrlClassifierUtils);",
                "line": 425
            }},
            {"old": {
                "content": "",
                "line": 426
            }},
            {"old": {
                "content": "    streamerMap.requestPayload = urlUtils.makeUpdateRequestV4(tableArray,",
                "line": 427
            }},
            {"old": {
                "content": "                                                              stateArray,",
                "line": 428
            }},
            {"old": {
                "content": "                                                              tableArray.length);",
                "line": 429
            }},
            {"old": {
                "content": "    streamerMap.isPostRequest = false;",
                "line": 430
            }},
            {"old": {
                "content": "  } else {",
                "line": 431
            }},
            {"old": {
                "content": "    // Build the request. For each table already in the database, include the",
                "line": 432
            }},
            {"old": {
                "content": "    // chunk data from the database",
                "line": 433
            }},
            {"old": {
                "content": "    var lines = tableData.split(\"\\n\");",
                "line": 434
            }},
            {"old": {
                "content": "    for (var i = 0; i < lines.length; i++) {",
                "line": 435
            }},
            {"old": {
                "content": "      var fields = lines[i].split(\";\");",
                "line": 436
            }},
            {"old": {
                "content": "      var name = fields[0];",
                "line": 437
            }},
            {"old": {
                "content": "      if (streamerMap.tableNames[name]) {",
                "line": 438
            }},
            {"old": {
                "content": "        streamerMap.requestPayload += lines[i] + \"\\n\";",
                "line": 439
            }},
            {"old": {
                "content": "        delete streamerMap.tableNames[name];",
                "line": 440
            }},
            {"old": {
                "content": "      }",
                "line": 441
            }},
            {"old": {
                "content": "    }",
                "line": 442
            }},
            {"old": {
                "content": "    // For each requested table that didn't have chunk data in the database,",
                "line": 443
            }},
            {"old": {
                "content": "    // request it fresh",
                "line": 444
            }},
            {"old": {
                "content": "    for (let tableName in streamerMap.tableNames) {",
                "line": 445
            }},
            {"old": {
                "content": "      streamerMap.requestPayload += tableName + \";\\n\";",
                "line": 446
            }},
            {"old": {
                "content": "    }",
                "line": 447
            }},
            {"old": {
                "content": "",
                "line": 448
            }},
            {"old": {
                "content": "    streamerMap.isPostRequest = true;",
                "line": 449
            }},
            {"old": {
                "content": "  }",
                "line": 450
            }},
            {"old": {
                "content": "",
                "line": 451
            }},
            {"old": {
                "content": "  log(\"update request: \" + JSON.stringify(streamerMap, undefined, 2) + \"\\n\");",
                "line": 452
            }},
            {"old": {
                "content": "",
                "line": 453
            }},
            {"old": {
                "content": "  // Don't send an empty request.",
                "line": 454
            }},
            {"old": {
                "content": "  if (streamerMap.requestPayload.length > 0) {",
                "line": 455
            }},
            {"old": {
                "content": "    this.makeUpdateRequestForEntry_(updateUrl, streamerMap.tableList,",
                "line": 456
            }},
            {"old": {
                "content": "                                    streamerMap.requestPayload,",
                "line": 457
            }},
            {"old": {
                "content": "                                    streamerMap.isPostRequest);",
                "line": 458
            }},
            {"old": {
                "content": "  } else {",
                "line": 459
            }},
            {"old": {
                "content": "    // We were disabled between kicking off getTables and now.",
                "line": 460
            }},
            {"old": {
                "content": "    log(\"Not sending empty request\");",
                "line": 461
            }},
            {"old": {
                "content": "  }",
                "line": 462
            }},
            {"old": {
                "content": "}",
                "line": 463
            }},
            {"old": {
                "content": "",
                "line": 464
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.makeUpdateRequestForEntry_ = function(updateUrl,",
                "line": 465
            }},
            {"old": {
                "content": "                                                                 tableList,",
                "line": 466
            }},
            {"old": {
                "content": "                                                                 requestPayload,",
                "line": 467
            }},
            {"old": {
                "content": "                                                                 isPostRequest) {",
                "line": 468
            }},
            {"old": {
                "content": "  log(\"makeUpdateRequestForEntry_: requestPayload \" + requestPayload +",
                "line": 469
            }},
            {"old": {
                "content": "      \" update: \" + updateUrl + \" tablelist: \" + tableList + \"\\n\");",
                "line": 470
            }},
            {"old": {
                "content": "  var streamer = Cc[\"@mozilla.org/url-classifier/streamupdater;1\"]",
                "line": 471
            }},
            {"old": {
                "content": "                 .getService(Ci.nsIUrlClassifierStreamUpdater);",
                "line": 472
            }},
            {"old": {
                "content": "",
                "line": 473
            }},
            {"old": {
                "content": "  this.requestBackoffs_[updateUrl].noteRequest();",
                "line": 474
            }},
            {"old": {
                "content": "",
                "line": 475
            }},
            {"old": {
                "content": "  if (!streamer.downloadUpdates(",
                "line": 476
            }},
            {"old": {
                "content": "        tableList,",
                "line": 477
            }},
            {"old": {
                "content": "        requestPayload,",
                "line": 478
            }},
            {"old": {
                "content": "        isPostRequest,",
                "line": 479
            }},
            {"old": {
                "content": "        updateUrl,",
                "line": 480
            }},
            {"old": {
                "content": "        BindToObject(this.updateSuccess_, this, tableList, updateUrl),",
                "line": 481
            }},
            {"old": {
                "content": "        BindToObject(this.updateError_, this, tableList, updateUrl),",
                "line": 482
            }},
            {"old": {
                "content": "        BindToObject(this.downloadError_, this, tableList, updateUrl))) {",
                "line": 483
            }},
            {"old": {
                "content": "    // Our alarm gets reset in one of the 3 callbacks.",
                "line": 484
            }},
            {"old": {
                "content": "    log(\"pending update, queued request until later\");",
                "line": 485
            }},
            {"old": {
                "content": "  } else {",
                "line": 486
            }},
            {"old": {
                "content": "    let table = Object.keys(this.tablesData).find(key => {",
                "line": 487
            }},
            {"old": {
                "content": "      return this.tablesData[key].updateUrl === updateUrl;",
                "line": 488
            }},
            {"old": {
                "content": "    });",
                "line": 489
            }},
            {"old": {
                "content": "    let provider = this.tablesData[table].provider;",
                "line": 490
            }},
            {"old": {
                "content": "    Services.obs.notifyObservers(null, \"safebrowsing-update-begin\", provider);",
                "line": 491
            }},
            {"old": {
                "content": "  }",
                "line": 492
            }},
            {"old": {
                "content": "}",
                "line": 493
            }},
            {"old": {
                "content": "",
                "line": 494
            }},
            {"old": {
                "content": "/**",
                "line": 495
            }},
            {"old": {
                "content": " * Callback function if the update request succeeded.",
                "line": 496
            }},
            {"old": {
                "content": " * @param waitForUpdate String The number of seconds that the client should",
                "line": 497
            }},
            {"old": {
                "content": " *        wait before requesting again.",
                "line": 498
            }},
            {"old": {
                "content": " */",
                "line": 499
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.updateSuccess_ = function(tableList, updateUrl,",
                "line": 500
            }},
            {"old": {
                "content": "                                                     waitForUpdateSec) {",
                "line": 501
            }},
            {"old": {
                "content": "  log(\"update success for \" + tableList + \" from \" + updateUrl + \": \" +",
                "line": 502
            }},
            {"old": {
                "content": "      waitForUpdateSec + \"\\n\");",
                "line": 503
            }},
            {"old": {
                "content": "",
                "line": 504
            }},
            {"old": {
                "content": "  // The time unit below are all milliseconds if not specified.",
                "line": 505
            }},
            {"old": {
                "content": "",
                "line": 506
            }},
            {"old": {
                "content": "  var delay = 0;",
                "line": 507
            }},
            {"old": {
                "content": "  if (waitForUpdateSec) {",
                "line": 508
            }},
            {"old": {
                "content": "    delay = parseInt(waitForUpdateSec, 10) * 1000;",
                "line": 509
            }},
            {"old": {
                "content": "  }",
                "line": 510
            }},
            {"old": {
                "content": "  // As long as the delay is something sane (5 min to 1 day), update",
                "line": 511
            }},
            {"old": {
                "content": "  // our delay time for requesting updates. We always use a non-repeating",
                "line": 512
            }},
            {"old": {
                "content": "  // timer since the delay is set differently at every callback.",
                "line": 513
            }},
            {"old": {
                "content": "  if (delay > maxDelayMs) {",
                "line": 514
            }},
            {"old": {
                "content": "    log(\"Ignoring delay from server (too long), waiting \" +",
                "line": 515
            }},
            {"old": {
                "content": "        maxDelayMs / 60000 + \"min\");",
                "line": 516
            }},
            {"old": {
                "content": "    delay = maxDelayMs;",
                "line": 517
            }},
            {"old": {
                "content": "  } else if (delay < minDelayMs) {",
                "line": 518
            }},
            {"old": {
                "content": "    log(\"Ignoring delay from server (too short), waiting \" +",
                "line": 519
            }},
            {"old": {
                "content": "        this.updateInterval / 60000 + \"min\");",
                "line": 520
            }},
            {"old": {
                "content": "    delay = this.updateInterval;",
                "line": 521
            }},
            {"old": {
                "content": "  } else {",
                "line": 522
            }},
            {"old": {
                "content": "    log(\"Waiting \" + delay / 60000 + \"min\");",
                "line": 523
            }},
            {"old": {
                "content": "  }",
                "line": 524
            }},
            {"old": {
                "content": "",
                "line": 525
            }},
            {"old": {
                "content": "  this.setUpdateCheckTimer(updateUrl, delay);",
                "line": 526
            }},
            {"old": {
                "content": "",
                "line": 527
            }},
            {"old": {
                "content": "  // Let the backoff object know that we completed successfully.",
                "line": 528
            }},
            {"old": {
                "content": "  this.requestBackoffs_[updateUrl].noteServerResponse(200);",
                "line": 529
            }},
            {"old": {
                "content": "",
                "line": 530
            }},
            {"old": {
                "content": "  // Set last update time for provider",
                "line": 531
            }},
            {"old": {
                "content": "  // Get the provider for these tables, check for consistency",
                "line": 532
            }},
            {"old": {
                "content": "  let tables = tableList.split(\",\");",
                "line": 533
            }},
            {"old": {
                "content": "  let provider = null;",
                "line": 534
            }},
            {"old": {
                "content": "  for (let table of tables) {",
                "line": 535
            }},
            {"old": {
                "content": "    let newProvider = this.tablesData[table].provider;",
                "line": 536
            }},
            {"old": {
                "content": "    if (provider) {",
                "line": 537
            }},
            {"old": {
                "content": "      if (newProvider !== provider) {",
                "line": 538
            }},
            {"old": {
                "content": "        log(\"Multiple tables for the same updateURL have a different provider?!\");",
                "line": 539
            }},
            {"old": {
                "content": "      }",
                "line": 540
            }},
            {"old": {
                "content": "    } else {",
                "line": 541
            }},
            {"old": {
                "content": "      provider = newProvider;",
                "line": 542
            }},
            {"old": {
                "content": "    }",
                "line": 543
            }},
            {"old": {
                "content": "  }",
                "line": 544
            }},
            {"old": {
                "content": "",
                "line": 545
            }},
            {"old": {
                "content": "  // Store the last update time (needed to know if the table is \"fresh\")",
                "line": 546
            }},
            {"old": {
                "content": "  // and the next update time (to know when to update next).",
                "line": 547
            }},
            {"old": {
                "content": "  let lastUpdatePref = \"browser.safebrowsing.provider.\" + provider + \".lastupdatetime\";",
                "line": 548
            }},
            {"old": {
                "content": "  let now = Date.now();",
                "line": 549
            }},
            {"old": {
                "content": "  log(\"Setting last update of \" + provider + \" to \" + now);",
                "line": 550
            }},
            {"old": {
                "content": "  Services.prefs.setCharPref(lastUpdatePref, now.toString());",
                "line": 551
            }},
            {"old": {
                "content": "",
                "line": 552
            }},
            {"old": {
                "content": "  let nextUpdatePref = \"browser.safebrowsing.provider.\" + provider + \".nextupdatetime\";",
                "line": 553
            }},
            {"old": {
                "content": "  let targetTime = now + delay;",
                "line": 554
            }},
            {"old": {
                "content": "  log(\"Setting next update of \" + provider + \" to \" + targetTime",
                "line": 555
            }},
            {"old": {
                "content": "      + \" (\" + delay / 60000 + \"min from now)\");",
                "line": 556
            }},
            {"old": {
                "content": "  Services.prefs.setCharPref(nextUpdatePref, targetTime.toString());",
                "line": 557
            }},
            {"old": {
                "content": "",
                "line": 558
            }},
            {"old": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\", \"success\");",
                "line": 559
            }},
            {"old": {
                "content": "}",
                "line": 560
            }},
            {"old": {
                "content": "",
                "line": 561
            }},
            {"old": {
                "content": "/**",
                "line": 562
            }},
            {"old": {
                "content": " * Callback function if the update request succeeded.",
                "line": 563
            }},
            {"old": {
                "content": " * @param result String The error code of the failure",
                "line": 564
            }},
            {"old": {
                "content": " */",
                "line": 565
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.updateError_ = function(table, updateUrl, result) {",
                "line": 566
            }},
            {"old": {
                "content": "  log(\"update error for \" + table + \" from \" + updateUrl + \": \" + result + \"\\n\");",
                "line": 567
            }},
            {"old": {
                "content": "  // There was some trouble applying the updates. Don't try again for at least",
                "line": 568
            }},
            {"old": {
                "content": "  // updateInterval milliseconds.",
                "line": 569
            }},
            {"old": {
                "content": "  this.setUpdateCheckTimer(updateUrl, this.updateInterval);",
                "line": 570
            }},
            {"old": {
                "content": "",
                "line": 571
            }},
            {"old": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\",",
                "line": 572
            }},
            {"old": {
                "content": "                               \"update error: \" + result);",
                "line": 573
            }},
            {"old": {
                "content": "}",
                "line": 574
            }},
            {"old": {
                "content": "",
                "line": 575
            }},
            {"old": {
                "content": "/**",
                "line": 576
            }},
            {"old": {
                "content": " * Callback function when the download failed",
                "line": 577
            }},
            {"old": {
                "content": " * @param status String http status or an empty string if connection refused.",
                "line": 578
            }},
            {"old": {
                "content": " */",
                "line": 579
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.downloadError_ = function(table, updateUrl, status) {",
                "line": 580
            }},
            {"old": {
                "content": "  log(\"download error for \" + table + \": \" + status + \"\\n\");",
                "line": 581
            }},
            {"old": {
                "content": "  // If status is empty, then we assume that we got an NS_CONNECTION_REFUSED",
                "line": 582
            }},
            {"old": {
                "content": "  // error.  In this case, we treat this is a http 500 error.",
                "line": 583
            }},
            {"old": {
                "content": "  if (!status) {",
                "line": 584
            }},
            {"old": {
                "content": "    status = 500;",
                "line": 585
            }},
            {"old": {
                "content": "  }",
                "line": 586
            }},
            {"old": {
                "content": "  status = parseInt(status, 10);",
                "line": 587
            }},
            {"old": {
                "content": "  this.requestBackoffs_[updateUrl].noteServerResponse(status);",
                "line": 588
            }},
            {"old": {
                "content": "  var delay = this.updateInterval;",
                "line": 589
            }},
            {"old": {
                "content": "  if (this.requestBackoffs_[updateUrl].isErrorStatus(status)) {",
                "line": 590
            }},
            {"old": {
                "content": "    // Schedule an update for when our backoff is complete",
                "line": 591
            }},
            {"old": {
                "content": "    delay = this.requestBackoffs_[updateUrl].nextRequestDelay();",
                "line": 592
            }},
            {"old": {
                "content": "  } else {",
                "line": 593
            }},
            {"old": {
                "content": "    log(\"Got non error status for error callback?!\");",
                "line": 594
            }},
            {"old": {
                "content": "  }",
                "line": 595
            }},
            {"old": {
                "content": "",
                "line": 596
            }},
            {"old": {
                "content": "  this.setUpdateCheckTimer(updateUrl, delay);",
                "line": 597
            }},
            {"old": {
                "content": "",
                "line": 598
            }},
            {"old": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\",",
                "line": 599
            }},
            {"old": {
                "content": "                               \"download error: \" + status);",
                "line": 600
            }},
            {"old": {
                "content": "}",
                "line": 601
            }},
            {"old": {
                "content": "",
                "line": 602
            }},
            {"old": {
                "content": "/**",
                "line": 603
            }},
            {"old": {
                "content": " * Get back-off time for the given provider.",
                "line": 604
            }},
            {"old": {
                "content": " * Return 0 if we are not in back-off mode.",
                "line": 605
            }},
            {"old": {
                "content": " */",
                "line": 606
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.getBackOffTime = function(provider) {",
                "line": 607
            }},
            {"old": {
                "content": "  let updateUrl = \"\";",
                "line": 608
            }},
            {"old": {
                "content": "  for (var table in this.tablesData) {",
                "line": 609
            }},
            {"old": {
                "content": "    if (this.tablesData[table].provider == provider) {",
                "line": 610
            }},
            {"old": {
                "content": "      updateUrl = this.tablesData[table].updateUrl;",
                "line": 611
            }},
            {"old": {
                "content": "      break;",
                "line": 612
            }},
            {"old": {
                "content": "    }",
                "line": 613
            }},
            {"old": {
                "content": "  }",
                "line": 614
            }},
            {"old": {
                "content": "",
                "line": 615
            }},
            {"old": {
                "content": "  if (!updateUrl || !this.requestBackoffs_[updateUrl]) {",
                "line": 616
            }},
            {"old": {
                "content": "    return 0;",
                "line": 617
            }},
            {"old": {
                "content": "  }",
                "line": 618
            }},
            {"old": {
                "content": "",
                "line": 619
            }},
            {"old": {
                "content": "  let delay = this.requestBackoffs_[updateUrl].nextRequestDelay();",
                "line": 620
            }},
            {"old": {
                "content": "  return delay == 0 ? 0 : Date.now() + delay;",
                "line": 621
            }},
            {"old": {
                "content": "}",
                "line": 622
            }},
            {"old": {
                "content": "",
                "line": 623
            }},
            {"old": {
                "content": "PROT_ListManager.prototype.QueryInterface = function(iid) {",
                "line": 624
            }},
            {"old": {
                "content": "  if (iid.equals(Ci.nsISupports) ||",
                "line": 625
            }},
            {"old": {
                "content": "      iid.equals(Ci.nsIUrlListManager) ||",
                "line": 626
            }},
            {"old": {
                "content": "      iid.equals(Ci.nsIObserver) ||",
                "line": 627
            }},
            {"old": {
                "content": "      iid.equals(Ci.nsITimerCallback))",
                "line": 628
            }},
            {"old": {
                "content": "    return this;",
                "line": 629
            }},
            {"old": {
                "content": "",
                "line": 630
            }},
            {"old": {
                "content": "  throw Components.results.NS_ERROR_NO_INTERFACE;",
                "line": 631
            }},
            {"old": {
                "content": "}",
                "line": 632
            }}
        ],
        "new": {"name": "dev/null"},
        "old": {"name": "/toolkit/components/url-classifier/content/listmanager.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "# This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"old": {
                "content": "# License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"old": {
                "content": "# file, You can obtain one at http://mozilla.org/MPL/2.0/.",
                "line": 2
            }},
            {"old": {
                "content": "",
                "line": 3
            }},
            {"old": {
                "content": "",
                "line": 4
            }},
            {"old": {
                "content": "/**",
                "line": 5
            }},
            {"old": {
                "content": " * lang.js - Some missing JavaScript language features",
                "line": 6
            }},
            {"old": {
                "content": " */",
                "line": 7
            }},
            {"old": {
                "content": "",
                "line": 8
            }},
            {"old": {
                "content": "/**",
                "line": 9
            }},
            {"old": {
                "content": " * Partially applies a function to a particular \"this object\" and zero or",
                "line": 10
            }},
            {"old": {
                "content": " * more arguments. The result is a new function with some arguments of the first",
                "line": 11
            }},
            {"old": {
                "content": " * function pre-filled and the value of |this| \"pre-specified\".",
                "line": 12
            }},
            {"old": {
                "content": " *",
                "line": 13
            }},
            {"old": {
                "content": " * Remaining arguments specified at call-time are appended to the pre-",
                "line": 14
            }},
            {"old": {
                "content": " * specified ones.",
                "line": 15
            }},
            {"old": {
                "content": " *",
                "line": 16
            }},
            {"old": {
                "content": " * Usage:",
                "line": 17
            }},
            {"old": {
                "content": " * var barMethBound = BindToObject(myFunction, myObj, \"arg1\", \"arg2\");",
                "line": 18
            }},
            {"old": {
                "content": " * barMethBound(\"arg3\", \"arg4\");",
                "line": 19
            }},
            {"old": {
                "content": " *",
                "line": 20
            }},
            {"old": {
                "content": " * @param fn {string} Reference to the function to be bound",
                "line": 21
            }},
            {"old": {
                "content": " *",
                "line": 22
            }},
            {"old": {
                "content": " * @param self {object} Specifies the object which |this| should point to",
                "line": 23
            }},
            {"old": {
                "content": " * when the function is run. If the value is null or undefined, it will default",
                "line": 24
            }},
            {"old": {
                "content": " * to the global object.",
                "line": 25
            }},
            {"old": {
                "content": " *",
                "line": 26
            }},
            {"old": {
                "content": " * @returns {function} A partially-applied form of the speficied function.",
                "line": 27
            }},
            {"old": {
                "content": " */",
                "line": 28
            }},
            {"old": {
                "content": "this.BindToObject = function BindToObject(fn, self, opt_args) {",
                "line": 29
            }},
            {"old": {
                "content": "  var boundargs = fn.boundArgs_ || [];",
                "line": 30
            }},
            {"old": {
                "content": "  boundargs = boundargs.concat(Array.slice(arguments, 2, arguments.length));",
                "line": 31
            }},
            {"old": {
                "content": "",
                "line": 32
            }},
            {"old": {
                "content": "  if (fn.boundSelf_)",
                "line": 33
            }},
            {"old": {
                "content": "    self = fn.boundSelf_;",
                "line": 34
            }},
            {"old": {
                "content": "  if (fn.boundFn_)",
                "line": 35
            }},
            {"old": {
                "content": "    fn = fn.boundFn_;",
                "line": 36
            }},
            {"old": {
                "content": "",
                "line": 37
            }},
            {"old": {
                "content": "  var newfn = function() {",
                "line": 38
            }},
            {"old": {
                "content": "    // Combine the static args and the new args into one big array",
                "line": 39
            }},
            {"old": {
                "content": "    var args = boundargs.concat(Array.slice(arguments));",
                "line": 40
            }},
            {"old": {
                "content": "    return fn.apply(self, args);",
                "line": 41
            }},
            {"old": {
                "content": "  }",
                "line": 42
            }},
            {"old": {
                "content": "",
                "line": 43
            }},
            {"old": {
                "content": "  newfn.boundArgs_ = boundargs;",
                "line": 44
            }},
            {"old": {
                "content": "  newfn.boundSelf_ = self;",
                "line": 45
            }},
            {"old": {
                "content": "  newfn.boundFn_ = fn;",
                "line": 46
            }},
            {"old": {
                "content": "",
                "line": 47
            }},
            {"old": {
                "content": "  return newfn;",
                "line": 48
            }},
            {"old": {
                "content": "}",
                "line": 49
            }}
        ],
        "new": {"name": "dev/null"},
        "old": {"name": "/toolkit/components/url-classifier/content/moz/lang.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"old": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"old": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 2
            }},
            {"old": {
                "content": "",
                "line": 3
            }},
            {"old": {
                "content": "// This implements logic for stopping requests if the server starts to return",
                "line": 4
            }},
            {"old": {
                "content": "// too many errors.  If we get MAX_ERRORS errors in ERROR_PERIOD minutes, we",
                "line": 5
            }},
            {"old": {
                "content": "// back off for TIMEOUT_INCREMENT minutes.  If we get another error",
                "line": 6
            }},
            {"old": {
                "content": "// immediately after we restart, we double the timeout and add",
                "line": 7
            }},
            {"old": {
                "content": "// TIMEOUT_INCREMENT minutes, etc.",
                "line": 8
            }},
            {"old": {
                "content": "//",
                "line": 9
            }},
            {"old": {
                "content": "// This is similar to the logic used by the search suggestion service.",
                "line": 10
            }},
            {"old": {
                "content": "",
                "line": 11
            }},
            {"old": {
                "content": "// HTTP responses that count as an error.  We also include any 5xx response",
                "line": 12
            }},
            {"old": {
                "content": "// as an error.",
                "line": 13
            }},
            {"old": {
                "content": "this.HTTP_FOUND                 = 302;",
                "line": 14
            }},
            {"old": {
                "content": "this.HTTP_SEE_OTHER             = 303;",
                "line": 15
            }},
            {"old": {
                "content": "this.HTTP_TEMPORARY_REDIRECT    = 307;",
                "line": 16
            }},
            {"old": {
                "content": "",
                "line": 17
            }},
            {"old": {
                "content": "/**",
                "line": 18
            }},
            {"old": {
                "content": " * @param maxErrors Number of times to request before backing off.",
                "line": 19
            }},
            {"old": {
                "content": " * @param retryIncrement Time (ms) for each retry before backing off.",
                "line": 20
            }},
            {"old": {
                "content": " * @param maxRequests Number the number of requests needed to trigger backoff",
                "line": 21
            }},
            {"old": {
                "content": " * @param requestPeriod Number time (ms) in which maxRequests have to occur to",
                "line": 22
            }},
            {"old": {
                "content": " *     trigger the backoff behavior (0 to disable maxRequests)",
                "line": 23
            }},
            {"old": {
                "content": " * @param timeoutIncrement Number time (ms) the starting timeout period",
                "line": 24
            }},
            {"old": {
                "content": " *     we double this time for consecutive errors",
                "line": 25
            }},
            {"old": {
                "content": " * @param maxTimeout Number time (ms) maximum timeout period",
                "line": 26
            }},
            {"old": {
                "content": " */",
                "line": 27
            }},
            {"old": {
                "content": "this.RequestBackoff =",
                "line": 28
            }},
            {"old": {
                "content": "function RequestBackoff(maxErrors, retryIncrement,",
                "line": 29
            }},
            {"old": {
                "content": "                        maxRequests, requestPeriod,",
                "line": 30
            }},
            {"old": {
                "content": "                        timeoutIncrement, maxTimeout) {",
                "line": 31
            }},
            {"old": {
                "content": "  this.MAX_ERRORS_ = maxErrors;",
                "line": 32
            }},
            {"old": {
                "content": "  this.RETRY_INCREMENT_ = retryIncrement;",
                "line": 33
            }},
            {"old": {
                "content": "  this.MAX_REQUESTS_ = maxRequests;",
                "line": 34
            }},
            {"old": {
                "content": "  this.REQUEST_PERIOD_ = requestPeriod;",
                "line": 35
            }},
            {"old": {
                "content": "  this.TIMEOUT_INCREMENT_ = timeoutIncrement;",
                "line": 36
            }},
            {"old": {
                "content": "  this.MAX_TIMEOUT_ = maxTimeout;",
                "line": 37
            }},
            {"old": {
                "content": "",
                "line": 38
            }},
            {"old": {
                "content": "  // Queue of ints keeping the time of all requests",
                "line": 39
            }},
            {"old": {
                "content": "  this.requestTimes_ = [];",
                "line": 40
            }},
            {"old": {
                "content": "",
                "line": 41
            }},
            {"old": {
                "content": "  this.numErrors_ = 0;",
                "line": 42
            }},
            {"old": {
                "content": "  this.errorTimeout_ = 0;",
                "line": 43
            }},
            {"old": {
                "content": "  this.nextRequestTime_ = 0;",
                "line": 44
            }},
            {"old": {
                "content": "}",
                "line": 45
            }},
            {"old": {
                "content": "",
                "line": 46
            }},
            {"old": {
                "content": "/**",
                "line": 47
            }},
            {"old": {
                "content": " * Reset the object for reuse. This deliberately doesn't clear requestTimes_.",
                "line": 48
            }},
            {"old": {
                "content": " */",
                "line": 49
            }},
            {"old": {
                "content": "RequestBackoff.prototype.reset = function() {",
                "line": 50
            }},
            {"old": {
                "content": "  this.numErrors_ = 0;",
                "line": 51
            }},
            {"old": {
                "content": "  this.errorTimeout_ = 0;",
                "line": 52
            }},
            {"old": {
                "content": "  this.nextRequestTime_ = 0;",
                "line": 53
            }},
            {"old": {
                "content": "}",
                "line": 54
            }},
            {"old": {
                "content": "",
                "line": 55
            }},
            {"old": {
                "content": "/**",
                "line": 56
            }},
            {"old": {
                "content": " * Check to see if we can make a request.",
                "line": 57
            }},
            {"old": {
                "content": " */",
                "line": 58
            }},
            {"old": {
                "content": "RequestBackoff.prototype.canMakeRequest = function() {",
                "line": 59
            }},
            {"old": {
                "content": "  var now = Date.now();",
                "line": 60
            }},
            {"old": {
                "content": "  if (now < this.nextRequestTime_) {",
                "line": 61
            }},
            {"old": {
                "content": "    return false;",
                "line": 62
            }},
            {"old": {
                "content": "  }",
                "line": 63
            }},
            {"old": {
                "content": "",
                "line": 64
            }},
            {"old": {
                "content": "  return (this.requestTimes_.length < this.MAX_REQUESTS_ ||",
                "line": 65
            }},
            {"old": {
                "content": "          (now - this.requestTimes_[0]) > this.REQUEST_PERIOD_);",
                "line": 66
            }},
            {"old": {
                "content": "}",
                "line": 67
            }},
            {"old": {
                "content": "",
                "line": 68
            }},
            {"old": {
                "content": "RequestBackoff.prototype.noteRequest = function() {",
                "line": 69
            }},
            {"old": {
                "content": "  var now = Date.now();",
                "line": 70
            }},
            {"old": {
                "content": "  this.requestTimes_.push(now);",
                "line": 71
            }},
            {"old": {
                "content": "",
                "line": 72
            }},
            {"old": {
                "content": "  // We only care about keeping track of MAX_REQUESTS",
                "line": 73
            }},
            {"old": {
                "content": "  if (this.requestTimes_.length > this.MAX_REQUESTS_)",
                "line": 74
            }},
            {"old": {
                "content": "    this.requestTimes_.shift();",
                "line": 75
            }},
            {"old": {
                "content": "}",
                "line": 76
            }},
            {"old": {
                "content": "",
                "line": 77
            }},
            {"old": {
                "content": "RequestBackoff.prototype.nextRequestDelay = function() {",
                "line": 78
            }},
            {"old": {
                "content": "  return Math.max(0, this.nextRequestTime_ - Date.now());",
                "line": 79
            }},
            {"old": {
                "content": "}",
                "line": 80
            }},
            {"old": {
                "content": "",
                "line": 81
            }},
            {"old": {
                "content": "/**",
                "line": 82
            }},
            {"old": {
                "content": " * Notify this object of the last server response.  If it's an error,",
                "line": 83
            }},
            {"old": {
                "content": " */",
                "line": 84
            }},
            {"old": {
                "content": "RequestBackoff.prototype.noteServerResponse = function(status) {",
                "line": 85
            }},
            {"old": {
                "content": "  if (this.isErrorStatus(status)) {",
                "line": 86
            }},
            {"old": {
                "content": "    this.numErrors_++;",
                "line": 87
            }},
            {"old": {
                "content": "",
                "line": 88
            }},
            {"old": {
                "content": "    if (this.numErrors_ < this.MAX_ERRORS_)",
                "line": 89
            }},
            {"old": {
                "content": "      this.errorTimeout_ = this.RETRY_INCREMENT_;",
                "line": 90
            }},
            {"old": {
                "content": "    else if (this.numErrors_ == this.MAX_ERRORS_)",
                "line": 91
            }},
            {"old": {
                "content": "      this.errorTimeout_ = this.TIMEOUT_INCREMENT_;",
                "line": 92
            }},
            {"old": {
                "content": "    else",
                "line": 93
            }},
            {"old": {
                "content": "      this.errorTimeout_ *= 2;",
                "line": 94
            }},
            {"old": {
                "content": "",
                "line": 95
            }},
            {"old": {
                "content": "    this.errorTimeout_ = Math.min(this.errorTimeout_, this.MAX_TIMEOUT_);",
                "line": 96
            }},
            {"old": {
                "content": "    this.nextRequestTime_ = Date.now() + this.errorTimeout_;",
                "line": 97
            }},
            {"old": {
                "content": "  } else {",
                "line": 98
            }},
            {"old": {
                "content": "    // Reset error timeout, allow requests to go through.",
                "line": 99
            }},
            {"old": {
                "content": "    this.reset();",
                "line": 100
            }},
            {"old": {
                "content": "  }",
                "line": 101
            }},
            {"old": {
                "content": "}",
                "line": 102
            }},
            {"old": {
                "content": "",
                "line": 103
            }},
            {"old": {
                "content": "/**",
                "line": 104
            }},
            {"old": {
                "content": " * We consider 302, 303, 307, 4xx, and 5xx http responses to be errors.",
                "line": 105
            }},
            {"old": {
                "content": " * @param status Number http status",
                "line": 106
            }},
            {"old": {
                "content": " * @return Boolean true if we consider this http status an error",
                "line": 107
            }},
            {"old": {
                "content": " */",
                "line": 108
            }},
            {"old": {
                "content": "RequestBackoff.prototype.isErrorStatus = function(status) {",
                "line": 109
            }},
            {"old": {
                "content": "  return ((400 <= status && status <= 599) ||",
                "line": 110
            }},
            {"old": {
                "content": "          HTTP_FOUND == status ||",
                "line": 111
            }},
            {"old": {
                "content": "          HTTP_SEE_OTHER == status ||",
                "line": 112
            }},
            {"old": {
                "content": "          HTTP_TEMPORARY_REDIRECT == status);",
                "line": 113
            }},
            {"old": {
                "content": "}",
                "line": 114
            }},
            {"old": {
                "content": "",
                "line": 115
            }}
        ],
        "new": {"name": "dev/null"},
        "old": {"name": "/toolkit/components/url-classifier/content/request-backoff.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "]",
                "line": 55
            }},
            {"old": {
                "content": "",
                "line": 56
            }},
            {"old": {
                "content": "# Same as JS components that are run through the pre-processor.",
                "line": 57
            }},
            {"old": {
                "content": "EXTRA_PP_COMPONENTS += [",
                "line": 58
            }}
        ],
        "new": {"name": "/toolkit/components/url-classifier/moz.build"},
        "old": {"name": "/toolkit/components/url-classifier/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "# This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"old": {
                "content": "# License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"old": {
                "content": "# file, You can obtain one at http://mozilla.org/MPL/2.0/.",
                "line": 2
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 2
            }},
            {"old": {
                "content": "#include ./content/moz/lang.js",
                "line": 10
            }},
            {"old": {
                "content": "#include ./content/request-backoff.js",
                "line": 11
            }},
            {"new": {
                "content": "/**",
                "line": 10
            }},
            {"new": {
                "content": " * Partially applies a function to a particular \"this object\" and zero or",
                "line": 11
            }},
            {"new": {
                "content": " * more arguments. The result is a new function with some arguments of the first",
                "line": 12
            }},
            {"new": {
                "content": " * function pre-filled and the value of |this| \"pre-specified\".",
                "line": 13
            }},
            {"new": {
                "content": " *",
                "line": 14
            }},
            {"new": {
                "content": " * Remaining arguments specified at call-time are appended to the pre-",
                "line": 15
            }},
            {"new": {
                "content": " * specified ones.",
                "line": 16
            }},
            {"new": {
                "content": " *",
                "line": 17
            }},
            {"new": {
                "content": " * Usage:",
                "line": 18
            }},
            {"new": {
                "content": " * var barMethBound = BindToObject(myFunction, myObj, \"arg1\", \"arg2\");",
                "line": 19
            }},
            {"new": {
                "content": " * barMethBound(\"arg3\", \"arg4\");",
                "line": 20
            }},
            {"new": {
                "content": " *",
                "line": 21
            }},
            {"new": {
                "content": " * @param fn {string} Reference to the function to be bound",
                "line": 22
            }},
            {"new": {
                "content": " *",
                "line": 23
            }},
            {"new": {
                "content": " * @param self {object} Specifies the object which |this| should point to",
                "line": 24
            }},
            {"new": {
                "content": " * when the function is run. If the value is null or undefined, it will default",
                "line": 25
            }},
            {"new": {
                "content": " * to the global object.",
                "line": 26
            }},
            {"new": {
                "content": " *",
                "line": 27
            }},
            {"new": {
                "content": " * @returns {function} A partially-applied form of the speficied function.",
                "line": 28
            }},
            {"new": {
                "content": " */",
                "line": 29
            }},
            {"new": {
                "content": "this.BindToObject = function BindToObject(fn, self, opt_args) {",
                "line": 30
            }},
            {"new": {
                "content": "  var boundargs = fn.boundArgs_ || [];",
                "line": 31
            }},
            {"new": {
                "content": "  boundargs = boundargs.concat(Array.slice(arguments, 2, arguments.length));",
                "line": 32
            }},
            {"new": {
                "content": "",
                "line": 33
            }},
            {"new": {
                "content": "  if (fn.boundSelf_)",
                "line": 34
            }},
            {"new": {
                "content": "    self = fn.boundSelf_;",
                "line": 35
            }},
            {"new": {
                "content": "  if (fn.boundFn_)",
                "line": 36
            }},
            {"new": {
                "content": "    fn = fn.boundFn_;",
                "line": 37
            }},
            {"new": {
                "content": "",
                "line": 38
            }},
            {"new": {
                "content": "  var newfn = function() {",
                "line": 39
            }},
            {"new": {
                "content": "    // Combine the static args and the new args into one big array",
                "line": 40
            }},
            {"new": {
                "content": "    var args = boundargs.concat(Array.slice(arguments));",
                "line": 41
            }},
            {"new": {
                "content": "    return fn.apply(self, args);",
                "line": 42
            }},
            {"new": {
                "content": "  }",
                "line": 43
            }},
            {"new": {
                "content": "",
                "line": 44
            }},
            {"new": {
                "content": "  newfn.boundArgs_ = boundargs;",
                "line": 45
            }},
            {"new": {
                "content": "  newfn.boundSelf_ = self;",
                "line": 46
            }},
            {"new": {
                "content": "  newfn.boundFn_ = fn;",
                "line": 47
            }},
            {"new": {
                "content": "",
                "line": 48
            }},
            {"new": {
                "content": "  return newfn;",
                "line": 49
            }},
            {"new": {
                "content": "}",
                "line": 50
            }},
            {"new": {
                "content": "",
                "line": 51
            }},
            {"new": {
                "content": "// This implements logic for stopping requests if the server starts to return",
                "line": 52
            }},
            {"new": {
                "content": "// too many errors.  If we get MAX_ERRORS errors in ERROR_PERIOD minutes, we",
                "line": 53
            }},
            {"new": {
                "content": "// back off for TIMEOUT_INCREMENT minutes.  If we get another error",
                "line": 54
            }},
            {"new": {
                "content": "// immediately after we restart, we double the timeout and add",
                "line": 55
            }},
            {"new": {
                "content": "// TIMEOUT_INCREMENT minutes, etc.",
                "line": 56
            }},
            {"new": {
                "content": "//",
                "line": 57
            }},
            {"new": {
                "content": "// This is similar to the logic used by the search suggestion service.",
                "line": 58
            }},
            {"new": {
                "content": "",
                "line": 59
            }},
            {"new": {
                "content": "// HTTP responses that count as an error.  We also include any 5xx response",
                "line": 60
            }},
            {"new": {
                "content": "// as an error.",
                "line": 61
            }},
            {"new": {
                "content": "this.HTTP_FOUND                 = 302;",
                "line": 62
            }},
            {"new": {
                "content": "this.HTTP_SEE_OTHER             = 303;",
                "line": 63
            }},
            {"new": {
                "content": "this.HTTP_TEMPORARY_REDIRECT    = 307;",
                "line": 64
            }},
            {"new": {
                "content": "",
                "line": 65
            }},
            {"new": {
                "content": "/**",
                "line": 66
            }},
            {"new": {
                "content": " * @param maxErrors Number of times to request before backing off.",
                "line": 67
            }},
            {"new": {
                "content": " * @param retryIncrement Time (ms) for each retry before backing off.",
                "line": 68
            }},
            {"new": {
                "content": " * @param maxRequests Number the number of requests needed to trigger backoff",
                "line": 69
            }},
            {"new": {
                "content": " * @param requestPeriod Number time (ms) in which maxRequests have to occur to",
                "line": 70
            }},
            {"new": {
                "content": " *     trigger the backoff behavior (0 to disable maxRequests)",
                "line": 71
            }},
            {"new": {
                "content": " * @param timeoutIncrement Number time (ms) the starting timeout period",
                "line": 72
            }},
            {"new": {
                "content": " *     we double this time for consecutive errors",
                "line": 73
            }},
            {"new": {
                "content": " * @param maxTimeout Number time (ms) maximum timeout period",
                "line": 74
            }},
            {"new": {
                "content": " */",
                "line": 75
            }},
            {"new": {
                "content": "this.RequestBackoff =",
                "line": 76
            }},
            {"new": {
                "content": "function RequestBackoff(maxErrors, retryIncrement,",
                "line": 77
            }},
            {"new": {
                "content": "                        maxRequests, requestPeriod,",
                "line": 78
            }},
            {"new": {
                "content": "                        timeoutIncrement, maxTimeout) {",
                "line": 79
            }},
            {"new": {
                "content": "  this.MAX_ERRORS_ = maxErrors;",
                "line": 80
            }},
            {"new": {
                "content": "  this.RETRY_INCREMENT_ = retryIncrement;",
                "line": 81
            }},
            {"new": {
                "content": "  this.MAX_REQUESTS_ = maxRequests;",
                "line": 82
            }},
            {"new": {
                "content": "  this.REQUEST_PERIOD_ = requestPeriod;",
                "line": 83
            }},
            {"new": {
                "content": "  this.TIMEOUT_INCREMENT_ = timeoutIncrement;",
                "line": 84
            }},
            {"new": {
                "content": "  this.MAX_TIMEOUT_ = maxTimeout;",
                "line": 85
            }},
            {"new": {
                "content": "",
                "line": 86
            }},
            {"new": {
                "content": "  // Queue of ints keeping the time of all requests",
                "line": 87
            }},
            {"new": {
                "content": "  this.requestTimes_ = [];",
                "line": 88
            }},
            {"new": {
                "content": "",
                "line": 89
            }},
            {"new": {
                "content": "  this.numErrors_ = 0;",
                "line": 90
            }},
            {"new": {
                "content": "  this.errorTimeout_ = 0;",
                "line": 91
            }},
            {"new": {
                "content": "  this.nextRequestTime_ = 0;",
                "line": 92
            }},
            {"new": {
                "content": "}",
                "line": 93
            }},
            {"new": {
                "content": "",
                "line": 94
            }},
            {"new": {
                "content": "/**",
                "line": 95
            }},
            {"new": {
                "content": " * Reset the object for reuse. This deliberately doesn't clear requestTimes_.",
                "line": 96
            }},
            {"new": {
                "content": " */",
                "line": 97
            }},
            {"new": {
                "content": "RequestBackoff.prototype.reset = function() {",
                "line": 98
            }},
            {"new": {
                "content": "  this.numErrors_ = 0;",
                "line": 99
            }},
            {"new": {
                "content": "  this.errorTimeout_ = 0;",
                "line": 100
            }},
            {"new": {
                "content": "  this.nextRequestTime_ = 0;",
                "line": 101
            }},
            {"new": {
                "content": "}",
                "line": 102
            }},
            {"new": {
                "content": "",
                "line": 103
            }},
            {"new": {
                "content": "/**",
                "line": 104
            }},
            {"new": {
                "content": " * Check to see if we can make a request.",
                "line": 105
            }},
            {"new": {
                "content": " */",
                "line": 106
            }},
            {"new": {
                "content": "RequestBackoff.prototype.canMakeRequest = function() {",
                "line": 107
            }},
            {"new": {
                "content": "  var now = Date.now();",
                "line": 108
            }},
            {"new": {
                "content": "  if (now < this.nextRequestTime_) {",
                "line": 109
            }},
            {"new": {
                "content": "    return false;",
                "line": 110
            }},
            {"new": {
                "content": "  }",
                "line": 111
            }},
            {"new": {
                "content": "",
                "line": 112
            }},
            {"new": {
                "content": "  return (this.requestTimes_.length < this.MAX_REQUESTS_ ||",
                "line": 113
            }},
            {"new": {
                "content": "          (now - this.requestTimes_[0]) > this.REQUEST_PERIOD_);",
                "line": 114
            }},
            {"new": {
                "content": "}",
                "line": 115
            }},
            {"new": {
                "content": "",
                "line": 116
            }},
            {"new": {
                "content": "RequestBackoff.prototype.noteRequest = function() {",
                "line": 117
            }},
            {"new": {
                "content": "  var now = Date.now();",
                "line": 118
            }},
            {"new": {
                "content": "  this.requestTimes_.push(now);",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 120
            }},
            {"new": {
                "content": "  // We only care about keeping track of MAX_REQUESTS",
                "line": 121
            }},
            {"new": {
                "content": "  if (this.requestTimes_.length > this.MAX_REQUESTS_)",
                "line": 122
            }},
            {"new": {
                "content": "    this.requestTimes_.shift();",
                "line": 123
            }},
            {"new": {
                "content": "}",
                "line": 124
            }},
            {"new": {
                "content": "",
                "line": 125
            }},
            {"new": {
                "content": "RequestBackoff.prototype.nextRequestDelay = function() {",
                "line": 126
            }},
            {"new": {
                "content": "  return Math.max(0, this.nextRequestTime_ - Date.now());",
                "line": 127
            }},
            {"new": {
                "content": "}",
                "line": 128
            }},
            {"new": {
                "content": "",
                "line": 129
            }},
            {"new": {
                "content": "/**",
                "line": 130
            }},
            {"new": {
                "content": " * Notify this object of the last server response.  If it's an error,",
                "line": 131
            }},
            {"new": {
                "content": " */",
                "line": 132
            }},
            {"new": {
                "content": "RequestBackoff.prototype.noteServerResponse = function(status) {",
                "line": 133
            }},
            {"new": {
                "content": "  if (this.isErrorStatus(status)) {",
                "line": 134
            }},
            {"new": {
                "content": "    this.numErrors_++;",
                "line": 135
            }},
            {"new": {
                "content": "",
                "line": 136
            }},
            {"new": {
                "content": "    if (this.numErrors_ < this.MAX_ERRORS_)",
                "line": 137
            }},
            {"new": {
                "content": "      this.errorTimeout_ = this.RETRY_INCREMENT_;",
                "line": 138
            }},
            {"new": {
                "content": "    else if (this.numErrors_ == this.MAX_ERRORS_)",
                "line": 139
            }},
            {"new": {
                "content": "      this.errorTimeout_ = this.TIMEOUT_INCREMENT_;",
                "line": 140
            }},
            {"new": {
                "content": "    else",
                "line": 141
            }},
            {"new": {
                "content": "      this.errorTimeout_ *= 2;",
                "line": 142
            }},
            {"new": {
                "content": "",
                "line": 143
            }},
            {"new": {
                "content": "    this.errorTimeout_ = Math.min(this.errorTimeout_, this.MAX_TIMEOUT_);",
                "line": 144
            }},
            {"new": {
                "content": "    this.nextRequestTime_ = Date.now() + this.errorTimeout_;",
                "line": 145
            }},
            {"new": {
                "content": "  } else {",
                "line": 146
            }},
            {"new": {
                "content": "    // Reset error timeout, allow requests to go through.",
                "line": 147
            }},
            {"new": {
                "content": "    this.reset();",
                "line": 148
            }},
            {"new": {
                "content": "  }",
                "line": 149
            }},
            {"new": {
                "content": "}",
                "line": 150
            }},
            {"new": {
                "content": "",
                "line": 151
            }},
            {"new": {
                "content": "/**",
                "line": 152
            }},
            {"new": {
                "content": " * We consider 302, 303, 307, 4xx, and 5xx http responses to be errors.",
                "line": 153
            }},
            {"new": {
                "content": " * @param status Number http status",
                "line": 154
            }},
            {"new": {
                "content": " * @return Boolean true if we consider this http status an error",
                "line": 155
            }},
            {"new": {
                "content": " */",
                "line": 156
            }},
            {"new": {
                "content": "RequestBackoff.prototype.isErrorStatus = function(status) {",
                "line": 157
            }},
            {"new": {
                "content": "  return ((400 <= status && status <= 599) ||",
                "line": 158
            }},
            {"new": {
                "content": "          HTTP_FOUND == status ||",
                "line": 159
            }},
            {"new": {
                "content": "          HTTP_SEE_OTHER == status ||",
                "line": 160
            }},
            {"new": {
                "content": "          HTTP_TEMPORARY_REDIRECT == status);",
                "line": 161
            }},
            {"new": {
                "content": "}",
                "line": 162
            }}
        ],
        "new": {"name": "/toolkit/components/url-classifier/nsUrlClassifierLib.js"},
        "old": {"name": "/toolkit/components/url-classifier/nsUrlClassifierLib.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "# This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"old": {
                "content": "# License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"old": {
                "content": "# file, You can obtain one at http://mozilla.org/MPL/2.0/.",
                "line": 2
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 0
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 1
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 2
            }},
            {"new": {
                "content": "const Cu = Components.utils;",
                "line": 5
            }},
            {"old": {
                "content": "Components.utils.import(\"resource://gre/modules/XPCOMUtils.jsm\");",
                "line": 5
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");",
                "line": 6
            }},
            {"new": {
                "content": "Cu.import(\"resource://gre/modules/Services.jsm\");",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }},
            {"new": {
                "content": "// This is the only implementation of nsIUrlListManager.",
                "line": 9
            }},
            {"new": {
                "content": "// A class that manages lists, namely white and black lists for",
                "line": 10
            }},
            {"new": {
                "content": "// phishing or malware protection. The ListManager knows how to fetch,",
                "line": 11
            }},
            {"new": {
                "content": "// update, and store lists.",
                "line": 12
            }},
            {"new": {
                "content": "//",
                "line": 13
            }},
            {"new": {
                "content": "// There is a single listmanager for the whole application.",
                "line": 14
            }},
            {"new": {
                "content": "//",
                "line": 15
            }},
            {"new": {
                "content": "// TODO more comprehensive update tests, for example add unittest check",
                "line": 16
            }},
            {"new": {
                "content": "//      that the listmanagers tables are properly written on updates",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "// Lower and upper limits on the server-provided polling frequency",
                "line": 19
            }},
            {"new": {
                "content": "const minDelayMs = 5 * 60 * 1000;",
                "line": 20
            }},
            {"new": {
                "content": "const maxDelayMs = 24 * 60 * 60 * 1000;",
                "line": 21
            }},
            {"new": {
                "content": "const defaultUpdateIntervalMs = 30 * 60 * 1000;",
                "line": 22
            }},
            {"new": {
                "content": "const PREF_DEBUG_ENABLED = \"browser.safebrowsing.debug\";",
                "line": 23
            }},
            {"new": {
                "content": "",
                "line": 24
            }},
            {"new": {
                "content": "let loggingEnabled = false;",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "// Log only if browser.safebrowsing.debug is true",
                "line": 27
            }},
            {"new": {
                "content": "this.log = function log(...stuff) {",
                "line": 28
            }},
            {"new": {
                "content": "  if (!loggingEnabled) {",
                "line": 29
            }},
            {"new": {
                "content": "    return;",
                "line": 30
            }},
            {"new": {
                "content": "  }",
                "line": 31
            }},
            {"new": {
                "content": "",
                "line": 32
            }},
            {"new": {
                "content": "  var d = new Date();",
                "line": 33
            }},
            {"new": {
                "content": "  let msg = \"listmanager: \" + d.toTimeString() + \": \" + stuff.join(\" \");",
                "line": 34
            }},
            {"new": {
                "content": "  msg = Services.urlFormatter.trimSensitiveURLs(msg);",
                "line": 35
            }},
            {"new": {
                "content": "  Services.console.logStringMessage(msg);",
                "line": 36
            }},
            {"new": {
                "content": "  dump(msg + \"\\n\");",
                "line": 37
            }},
            {"new": {
                "content": "}",
                "line": 38
            }},
            {"new": {
                "content": "",
                "line": 39
            }},
            {"new": {
                "content": "/**",
                "line": 40
            }},
            {"new": {
                "content": " * A ListManager keeps track of black and white lists and knows",
                "line": 41
            }},
            {"new": {
                "content": " * how to update them.",
                "line": 42
            }},
            {"new": {
                "content": " *",
                "line": 43
            }},
            {"new": {
                "content": " * @constructor",
                "line": 44
            }},
            {"new": {
                "content": " */",
                "line": 45
            }},
            {"new": {
                "content": "this.PROT_ListManager = function PROT_ListManager() {",
                "line": 46
            }},
            {"new": {
                "content": "  loggingEnabled = Services.prefs.getBoolPref(PREF_DEBUG_ENABLED);",
                "line": 47
            }},
            {"new": {
                "content": "",
                "line": 48
            }},
            {"new": {
                "content": "  log(\"Initializing list manager\");",
                "line": 49
            }},
            {"new": {
                "content": "  this.updateInterval = defaultUpdateIntervalMs;",
                "line": 50
            }},
            {"new": {
                "content": "",
                "line": 51
            }},
            {"new": {
                "content": "  // A map of tableNames to objects of type",
                "line": 52
            }},
            {"new": {
                "content": "  // { updateUrl: <updateUrl>, gethashUrl: <gethashUrl> }",
                "line": 53
            }},
            {"new": {
                "content": "  this.tablesData = {};",
                "line": 54
            }},
            {"new": {
                "content": "  // A map of updateUrls to maps of tables requiring updates, e.g.",
                "line": 55
            }},
            {"new": {
                "content": "  // { safebrowsing-update-url: { goog-phish-shavar: true,",
                "line": 56
            }},
            {"new": {
                "content": "  //                              goog-malware-shavar: true }",
                "line": 57
            }},
            {"new": {
                "content": "  this.needsUpdate_ = {};",
                "line": 58
            }},
            {"new": {
                "content": "",
                "line": 59
            }},
            {"new": {
                "content": "  // A map of updateUrls to single-use nsITimer. An entry exists if and only if",
                "line": 60
            }},
            {"new": {
                "content": "  // there is at least one table with updates enabled for that url. nsITimers",
                "line": 61
            }},
            {"new": {
                "content": "  // are reset when enabling/disabling updates or on update callbacks (update",
                "line": 62
            }},
            {"new": {
                "content": "  // success, update failure, download error).",
                "line": 63
            }},
            {"new": {
                "content": "  this.updateCheckers_ = {};",
                "line": 64
            }},
            {"new": {
                "content": "  this.requestBackoffs_ = {};",
                "line": 65
            }},
            {"new": {
                "content": "  this.dbService_ = Cc[\"@mozilla.org/url-classifier/dbservice;1\"]",
                "line": 66
            }},
            {"new": {
                "content": "                   .getService(Ci.nsIUrlClassifierDBService);",
                "line": 67
            }},
            {"new": {
                "content": "",
                "line": 68
            }},
            {"new": {
                "content": "  Services.obs.addObserver(this, \"quit-application\");",
                "line": 69
            }},
            {"new": {
                "content": "  Services.prefs.addObserver(PREF_DEBUG_ENABLED, this);",
                "line": 70
            }},
            {"new": {
                "content": "}",
                "line": 71
            }},
            {"new": {
                "content": "",
                "line": 72
            }},
            {"new": {
                "content": "/**",
                "line": 73
            }},
            {"new": {
                "content": " * Register a new table table",
                "line": 74
            }},
            {"new": {
                "content": " * @param tableName - the name of the table",
                "line": 75
            }},
            {"new": {
                "content": " * @param updateUrl - the url for updating the table",
                "line": 76
            }},
            {"new": {
                "content": " * @param gethashUrl - the url for fetching hash completions",
                "line": 77
            }},
            {"new": {
                "content": " * @returns true if the table could be created; false otherwise",
                "line": 78
            }},
            {"new": {
                "content": " */",
                "line": 79
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.registerTable = function(tableName,",
                "line": 80
            }},
            {"new": {
                "content": "                                                    providerName,",
                "line": 81
            }},
            {"new": {
                "content": "                                                    updateUrl,",
                "line": 82
            }},
            {"new": {
                "content": "                                                    gethashUrl) {",
                "line": 83
            }},
            {"new": {
                "content": "  this.tablesData[tableName] = {};",
                "line": 84
            }},
            {"new": {
                "content": "  if (!updateUrl) {",
                "line": 85
            }},
            {"new": {
                "content": "    log(\"Can't register table \" + tableName + \" without updateUrl\");",
                "line": 86
            }},
            {"new": {
                "content": "    return false;",
                "line": 87
            }},
            {"new": {
                "content": "  }",
                "line": 88
            }},
            {"new": {
                "content": "  log(\"registering \" + tableName + \" with \" + updateUrl);",
                "line": 89
            }},
            {"new": {
                "content": "  this.tablesData[tableName].updateUrl = updateUrl;",
                "line": 90
            }},
            {"new": {
                "content": "  this.tablesData[tableName].gethashUrl = gethashUrl;",
                "line": 91
            }},
            {"new": {
                "content": "  this.tablesData[tableName].provider = providerName;",
                "line": 92
            }},
            {"new": {
                "content": "",
                "line": 93
            }},
            {"new": {
                "content": "  // Keep track of all of our update URLs.",
                "line": 94
            }},
            {"new": {
                "content": "  if (!this.needsUpdate_[updateUrl]) {",
                "line": 95
            }},
            {"new": {
                "content": "    this.needsUpdate_[updateUrl] = {};",
                "line": 96
            }},
            {"new": {
                "content": "",
                "line": 97
            }},
            {"new": {
                "content": "    // Using the V4 backoff algorithm for both V2 and V4. See bug 1273398.",
                "line": 98
            }},
            {"new": {
                "content": "    this.requestBackoffs_[updateUrl] = new RequestBackoffV4(",
                "line": 99
            }},
            {"new": {
                "content": "                                            4 /* num requests */,",
                "line": 100
            }},
            {"new": {
                "content": "                                   60*60*1000 /* request time, 60 min */);",
                "line": 101
            }},
            {"new": {
                "content": "  }",
                "line": 102
            }},
            {"new": {
                "content": "  this.needsUpdate_[updateUrl][tableName] = false;",
                "line": 103
            }},
            {"new": {
                "content": "",
                "line": 104
            }},
            {"new": {
                "content": "  return true;",
                "line": 105
            }},
            {"new": {
                "content": "}",
                "line": 106
            }},
            {"new": {
                "content": "",
                "line": 107
            }},
            {"new": {
                "content": "/**",
                "line": 108
            }},
            {"new": {
                "content": " * Delete all of our data tables which seem to leak otherwise.",
                "line": 109
            }},
            {"new": {
                "content": " * Remove observers",
                "line": 110
            }},
            {"new": {
                "content": " */",
                "line": 111
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.shutdown_ = function() {",
                "line": 112
            }},
            {"new": {
                "content": "  this.stopUpdateCheckers();",
                "line": 113
            }},
            {"new": {
                "content": "  for (var name in this.tablesData) {",
                "line": 114
            }},
            {"new": {
                "content": "    delete this.tablesData[name];",
                "line": 115
            }},
            {"new": {
                "content": "  }",
                "line": 116
            }},
            {"new": {
                "content": "  Services.obs.removeObserver(this, \"quit-application\");",
                "line": 117
            }},
            {"new": {
                "content": "  Services.prefs.removeObserver(PREF_DEBUG_ENABLED, this);",
                "line": 118
            }},
            {"new": {
                "content": "}",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 120
            }},
            {"new": {
                "content": "/**",
                "line": 121
            }},
            {"new": {
                "content": " * xpcom-shutdown callback",
                "line": 122
            }},
            {"new": {
                "content": " */",
                "line": 123
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.observe = function(aSubject, aTopic, aData) {",
                "line": 124
            }},
            {"new": {
                "content": "  switch (aTopic) {",
                "line": 125
            }},
            {"new": {
                "content": "  case \"quit-application\":",
                "line": 126
            }},
            {"new": {
                "content": "    this.shutdown_();",
                "line": 127
            }},
            {"new": {
                "content": "    break;",
                "line": 128
            }},
            {"new": {
                "content": "  case \"nsPref:changed\":",
                "line": 129
            }},
            {"new": {
                "content": "    if (aData == PREF_DEBUG_ENABLED) {",
                "line": 130
            }},
            {"new": {
                "content": "      loggingEnabled = Services.prefs.getBoolPref(PREF_DEBUG_ENABLED);",
                "line": 131
            }},
            {"new": {
                "content": "    }",
                "line": 132
            }},
            {"new": {
                "content": "    break;",
                "line": 133
            }},
            {"new": {
                "content": "  }",
                "line": 134
            }},
            {"new": {
                "content": "}",
                "line": 135
            }},
            {"new": {
                "content": "",
                "line": 136
            }},
            {"new": {
                "content": "",
                "line": 137
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.getGethashUrl = function(tableName) {",
                "line": 138
            }},
            {"new": {
                "content": "  if (this.tablesData[tableName] && this.tablesData[tableName].gethashUrl) {",
                "line": 139
            }},
            {"new": {
                "content": "    return this.tablesData[tableName].gethashUrl;",
                "line": 140
            }},
            {"new": {
                "content": "  }",
                "line": 141
            }},
            {"new": {
                "content": "  return \"\";",
                "line": 142
            }},
            {"new": {
                "content": "}",
                "line": 143
            }},
            {"new": {
                "content": "",
                "line": 144
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.getUpdateUrl = function(tableName) {",
                "line": 145
            }},
            {"new": {
                "content": "  if (this.tablesData[tableName] && this.tablesData[tableName].updateUrl) {",
                "line": 146
            }},
            {"new": {
                "content": "    return this.tablesData[tableName].updateUrl;",
                "line": 147
            }},
            {"new": {
                "content": "  }",
                "line": 148
            }},
            {"new": {
                "content": "  return \"\";",
                "line": 149
            }},
            {"new": {
                "content": "}",
                "line": 150
            }},
            {"new": {
                "content": "",
                "line": 151
            }},
            {"new": {
                "content": "/**",
                "line": 152
            }},
            {"new": {
                "content": " * Enable updates for some tables",
                "line": 153
            }},
            {"new": {
                "content": " * @param tables - an array of table names that need updating",
                "line": 154
            }},
            {"new": {
                "content": " */",
                "line": 155
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.enableUpdate = function(tableName) {",
                "line": 156
            }},
            {"new": {
                "content": "  var table = this.tablesData[tableName];",
                "line": 157
            }},
            {"new": {
                "content": "  if (table) {",
                "line": 158
            }},
            {"new": {
                "content": "    log(\"Enabling table updates for \" + tableName);",
                "line": 159
            }},
            {"new": {
                "content": "    this.needsUpdate_[table.updateUrl][tableName] = true;",
                "line": 160
            }},
            {"new": {
                "content": "  }",
                "line": 161
            }},
            {"new": {
                "content": "}",
                "line": 162
            }},
            {"new": {
                "content": "",
                "line": 163
            }},
            {"new": {
                "content": "/**",
                "line": 164
            }},
            {"new": {
                "content": " * Returns true if any table associated with the updateUrl requires updates.",
                "line": 165
            }},
            {"new": {
                "content": " * @param updateUrl - the updateUrl",
                "line": 166
            }},
            {"new": {
                "content": " */",
                "line": 167
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.updatesNeeded_ = function(updateUrl) {",
                "line": 168
            }},
            {"new": {
                "content": "  let updatesNeeded = false;",
                "line": 169
            }},
            {"new": {
                "content": "  for (var tableName in this.needsUpdate_[updateUrl]) {",
                "line": 170
            }},
            {"new": {
                "content": "    if (this.needsUpdate_[updateUrl][tableName]) {",
                "line": 171
            }},
            {"new": {
                "content": "      updatesNeeded = true;",
                "line": 172
            }},
            {"new": {
                "content": "    }",
                "line": 173
            }},
            {"new": {
                "content": "  }",
                "line": 174
            }},
            {"new": {
                "content": "  return updatesNeeded;",
                "line": 175
            }},
            {"new": {
                "content": "}",
                "line": 176
            }},
            {"new": {
                "content": "",
                "line": 177
            }},
            {"new": {
                "content": "/**",
                "line": 178
            }},
            {"new": {
                "content": " * Disables updates for some tables",
                "line": 179
            }},
            {"new": {
                "content": " * @param tables - an array of table names that no longer need updating",
                "line": 180
            }},
            {"new": {
                "content": " */",
                "line": 181
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.disableUpdate = function(tableName) {",
                "line": 182
            }},
            {"new": {
                "content": "  var table = this.tablesData[tableName];",
                "line": 183
            }},
            {"new": {
                "content": "  if (table) {",
                "line": 184
            }},
            {"new": {
                "content": "    log(\"Disabling table updates for \" + tableName);",
                "line": 185
            }},
            {"new": {
                "content": "    this.needsUpdate_[table.updateUrl][tableName] = false;",
                "line": 186
            }},
            {"new": {
                "content": "    if (!this.updatesNeeded_(table.updateUrl) &&",
                "line": 187
            }},
            {"new": {
                "content": "        this.updateCheckers_[table.updateUrl]) {",
                "line": 188
            }},
            {"new": {
                "content": "      this.updateCheckers_[table.updateUrl].cancel();",
                "line": 189
            }},
            {"new": {
                "content": "      this.updateCheckers_[table.updateUrl] = null;",
                "line": 190
            }},
            {"new": {
                "content": "    }",
                "line": 191
            }},
            {"new": {
                "content": "  }",
                "line": 192
            }},
            {"new": {
                "content": "}",
                "line": 193
            }},
            {"new": {
                "content": "",
                "line": 194
            }},
            {"new": {
                "content": "/**",
                "line": 195
            }},
            {"new": {
                "content": " * Determine if we have some tables that need updating.",
                "line": 196
            }},
            {"new": {
                "content": " */",
                "line": 197
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.requireTableUpdates = function() {",
                "line": 198
            }},
            {"new": {
                "content": "  for (var name in this.tablesData) {",
                "line": 199
            }},
            {"new": {
                "content": "    // Tables that need updating even if other tables don't require it",
                "line": 200
            }},
            {"new": {
                "content": "    if (this.needsUpdate_[this.tablesData[name].updateUrl][name]) {",
                "line": 201
            }},
            {"new": {
                "content": "      return true;",
                "line": 202
            }},
            {"new": {
                "content": "    }",
                "line": 203
            }},
            {"new": {
                "content": "  }",
                "line": 204
            }},
            {"new": {
                "content": "",
                "line": 205
            }},
            {"new": {
                "content": "  return false;",
                "line": 206
            }},
            {"new": {
                "content": "}",
                "line": 207
            }},
            {"new": {
                "content": "",
                "line": 208
            }},
            {"new": {
                "content": "/**",
                "line": 209
            }},
            {"new": {
                "content": " *  Set timer to check update after delay",
                "line": 210
            }},
            {"new": {
                "content": " */",
                "line": 211
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.setUpdateCheckTimer = function (updateUrl,",
                "line": 212
            }},
            {"new": {
                "content": "                                                           delay)",
                "line": 213
            }},
            {"new": {
                "content": "{",
                "line": 214
            }},
            {"new": {
                "content": "  this.updateCheckers_[updateUrl] = Cc[\"@mozilla.org/timer;1\"]",
                "line": 215
            }},
            {"new": {
                "content": "                                    .createInstance(Ci.nsITimer);",
                "line": 216
            }},
            {"new": {
                "content": "  this.updateCheckers_[updateUrl].initWithCallback(() => {",
                "line": 217
            }},
            {"new": {
                "content": "    this.updateCheckers_[updateUrl] = null;",
                "line": 218
            }},
            {"new": {
                "content": "    this.checkForUpdates(updateUrl);",
                "line": 219
            }},
            {"new": {
                "content": "  }, delay, Ci.nsITimer.TYPE_ONE_SHOT);",
                "line": 220
            }},
            {"new": {
                "content": "}",
                "line": 221
            }},
            {"new": {
                "content": "/**",
                "line": 222
            }},
            {"new": {
                "content": " * Acts as a nsIUrlClassifierCallback for getTables.",
                "line": 223
            }},
            {"new": {
                "content": " */",
                "line": 224
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.kickoffUpdate_ = function (onDiskTableData)",
                "line": 225
            }},
            {"new": {
                "content": "{",
                "line": 226
            }},
            {"new": {
                "content": "  this.startingUpdate_ = false;",
                "line": 227
            }},
            {"new": {
                "content": "  var initialUpdateDelay = 3000;",
                "line": 228
            }},
            {"new": {
                "content": "  // Add a fuzz of 0-1 minutes for both v2 and v4 according to Bug 1305478.",
                "line": 229
            }},
            {"new": {
                "content": "  initialUpdateDelay += Math.floor(Math.random() * (1 * 60 * 1000));",
                "line": 230
            }},
            {"new": {
                "content": "",
                "line": 231
            }},
            {"new": {
                "content": "  // If the user has never downloaded tables, do the check now.",
                "line": 232
            }},
            {"new": {
                "content": "  log(\"needsUpdate: \" + JSON.stringify(this.needsUpdate_, undefined, 2));",
                "line": 233
            }},
            {"new": {
                "content": "  for (var updateUrl in this.needsUpdate_) {",
                "line": 234
            }},
            {"new": {
                "content": "    // If we haven't already kicked off updates for this updateUrl, set a",
                "line": 235
            }},
            {"new": {
                "content": "    // non-repeating timer for it. The timer delay will be reset either on",
                "line": 236
            }},
            {"new": {
                "content": "    // updateSuccess to this.updateInterval, or backed off on downloadError.",
                "line": 237
            }},
            {"new": {
                "content": "    // Don't set the updateChecker unless at least one table has updates",
                "line": 238
            }},
            {"new": {
                "content": "    // enabled.",
                "line": 239
            }},
            {"new": {
                "content": "    if (this.updatesNeeded_(updateUrl) && !this.updateCheckers_[updateUrl]) {",
                "line": 240
            }},
            {"new": {
                "content": "      let provider = null;",
                "line": 241
            }},
            {"new": {
                "content": "      Object.keys(this.tablesData).forEach(function(table) {",
                "line": 242
            }},
            {"new": {
                "content": "        if (this.tablesData[table].updateUrl === updateUrl) {",
                "line": 243
            }},
            {"new": {
                "content": "          let newProvider = this.tablesData[table].provider;",
                "line": 244
            }},
            {"new": {
                "content": "          if (provider) {",
                "line": 245
            }},
            {"new": {
                "content": "            if (newProvider !== provider) {",
                "line": 246
            }},
            {"new": {
                "content": "              log(\"Multiple tables for the same updateURL have a different provider?!\");",
                "line": 247
            }},
            {"new": {
                "content": "            }",
                "line": 248
            }},
            {"new": {
                "content": "          } else {",
                "line": 249
            }},
            {"new": {
                "content": "            provider = newProvider;",
                "line": 250
            }},
            {"new": {
                "content": "          }",
                "line": 251
            }},
            {"new": {
                "content": "        }",
                "line": 252
            }},
            {"new": {
                "content": "      }, this);",
                "line": 253
            }},
            {"new": {
                "content": "      log(\"Initializing update checker for \" + updateUrl",
                "line": 254
            }},
            {"new": {
                "content": "          + \" provided by \" + provider);",
                "line": 255
            }},
            {"new": {
                "content": "",
                "line": 256
            }},
            {"new": {
                "content": "      // Use the initialUpdateDelay + fuzz unless we had previous updates",
                "line": 257
            }},
            {"new": {
                "content": "      // and the server told us when to try again.",
                "line": 258
            }},
            {"new": {
                "content": "      let updateDelay = initialUpdateDelay;",
                "line": 259
            }},
            {"new": {
                "content": "      let nextUpdatePref = \"browser.safebrowsing.provider.\" + provider +",
                "line": 260
            }},
            {"new": {
                "content": "                           \".nextupdatetime\";",
                "line": 261
            }},
            {"new": {
                "content": "      let nextUpdate;",
                "line": 262
            }},
            {"new": {
                "content": "      try {",
                "line": 263
            }},
            {"new": {
                "content": "        nextUpdate = Services.prefs.getCharPref(nextUpdatePref);",
                "line": 264
            }},
            {"new": {
                "content": "      } catch (ex) {",
                "line": 265
            }},
            {"new": {
                "content": "      }",
                "line": 266
            }},
            {"new": {
                "content": "",
                "line": 267
            }},
            {"new": {
                "content": "      if (nextUpdate) {",
                "line": 268
            }},
            {"new": {
                "content": "        updateDelay = Math.min(maxDelayMs, Math.max(0, nextUpdate - Date.now()));",
                "line": 269
            }},
            {"new": {
                "content": "        log(\"Next update at \" + nextUpdate);",
                "line": 270
            }},
            {"new": {
                "content": "      }",
                "line": 271
            }},
            {"new": {
                "content": "      log(\"Next update \" + updateDelay / 60000 + \"min from now\");",
                "line": 272
            }},
            {"new": {
                "content": "",
                "line": 273
            }},
            {"new": {
                "content": "      this.setUpdateCheckTimer(updateUrl, updateDelay);",
                "line": 274
            }},
            {"new": {
                "content": "    } else {",
                "line": 275
            }},
            {"new": {
                "content": "      log(\"No updates needed or already initialized for \" + updateUrl);",
                "line": 276
            }},
            {"new": {
                "content": "    }",
                "line": 277
            }},
            {"new": {
                "content": "  }",
                "line": 278
            }},
            {"new": {
                "content": "}",
                "line": 279
            }},
            {"new": {
                "content": "",
                "line": 280
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.stopUpdateCheckers = function() {",
                "line": 281
            }},
            {"new": {
                "content": "  log(\"Stopping updates\");",
                "line": 282
            }},
            {"new": {
                "content": "  for (var updateUrl in this.updateCheckers_) {",
                "line": 283
            }},
            {"new": {
                "content": "    if (this.updateCheckers_[updateUrl]) {",
                "line": 284
            }},
            {"new": {
                "content": "      this.updateCheckers_[updateUrl].cancel();",
                "line": 285
            }},
            {"new": {
                "content": "      this.updateCheckers_[updateUrl] = null;",
                "line": 286
            }},
            {"new": {
                "content": "    }",
                "line": 287
            }},
            {"new": {
                "content": "  }",
                "line": 288
            }},
            {"new": {
                "content": "}",
                "line": 289
            }},
            {"new": {
                "content": "",
                "line": 290
            }},
            {"new": {
                "content": "/**",
                "line": 291
            }},
            {"new": {
                "content": " * Determine if we have any tables that require updating.  Different",
                "line": 292
            }},
            {"new": {
                "content": " * Wardens may call us with new tables that need to be updated.",
                "line": 293
            }},
            {"new": {
                "content": " */",
                "line": 294
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.maybeToggleUpdateChecking = function() {",
                "line": 295
            }},
            {"new": {
                "content": "  // We update tables if we have some tables that want updates.  If there",
                "line": 296
            }},
            {"new": {
                "content": "  // are no tables that want to be updated - we dont need to check anything.",
                "line": 297
            }},
            {"new": {
                "content": "  if (this.requireTableUpdates()) {",
                "line": 298
            }},
            {"new": {
                "content": "    log(\"Starting managing lists\");",
                "line": 299
            }},
            {"new": {
                "content": "",
                "line": 300
            }},
            {"new": {
                "content": "    // Get the list of existing tables from the DBService before making any",
                "line": 301
            }},
            {"new": {
                "content": "    // update requests.",
                "line": 302
            }},
            {"new": {
                "content": "    if (!this.startingUpdate_) {",
                "line": 303
            }},
            {"new": {
                "content": "      this.startingUpdate_ = true;",
                "line": 304
            }},
            {"new": {
                "content": "      // check the current state of tables in the database",
                "line": 305
            }},
            {"new": {
                "content": "      this.dbService_.getTables(this.kickoffUpdate_.bind(this));",
                "line": 306
            }},
            {"new": {
                "content": "    }",
                "line": 307
            }},
            {"new": {
                "content": "  } else {",
                "line": 308
            }},
            {"new": {
                "content": "    log(\"Stopping managing lists (if currently active)\");",
                "line": 309
            }},
            {"new": {
                "content": "    this.stopUpdateCheckers();                    // Cancel pending updates",
                "line": 310
            }},
            {"new": {
                "content": "  }",
                "line": 311
            }},
            {"new": {
                "content": "}",
                "line": 312
            }},
            {"old": {
                "content": "#include ./content/listmanager.js",
                "line": 6
            }},
            {"new": {
                "content": "/**",
                "line": 313
            }},
            {"new": {
                "content": " * Updates our internal tables from the update server",
                "line": 314
            }},
            {"new": {
                "content": " *",
                "line": 315
            }},
            {"new": {
                "content": " * @param updateUrl: request updates for tables associated with that url, or",
                "line": 316
            }},
            {"new": {
                "content": " * for all tables if the url is empty.",
                "line": 317
            }},
            {"new": {
                "content": " */",
                "line": 318
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.checkForUpdates = function(updateUrl) {",
                "line": 319
            }},
            {"new": {
                "content": "  log(\"checkForUpdates with \" + updateUrl);",
                "line": 320
            }},
            {"new": {
                "content": "  // See if we've triggered the request backoff logic.",
                "line": 321
            }},
            {"new": {
                "content": "  if (!updateUrl) {",
                "line": 322
            }},
            {"new": {
                "content": "    return false;",
                "line": 323
            }},
            {"new": {
                "content": "  }",
                "line": 324
            }},
            {"new": {
                "content": "  if (!this.requestBackoffs_[updateUrl] ||",
                "line": 325
            }},
            {"new": {
                "content": "      !this.requestBackoffs_[updateUrl].canMakeRequest()) {",
                "line": 326
            }},
            {"new": {
                "content": "    log(\"Can't make update request\");",
                "line": 327
            }},
            {"new": {
                "content": "    return false;",
                "line": 328
            }},
            {"new": {
                "content": "  }",
                "line": 329
            }},
            {"new": {
                "content": "  // Grab the current state of the tables from the database",
                "line": 330
            }},
            {"new": {
                "content": "  this.dbService_.getTables(BindToObject(this.makeUpdateRequest_, this,",
                "line": 331
            }},
            {"new": {
                "content": "                            updateUrl));",
                "line": 332
            }},
            {"new": {
                "content": "  return true;",
                "line": 333
            }},
            {"new": {
                "content": "}",
                "line": 334
            }},
            {"new": {
                "content": "",
                "line": 335
            }},
            {"new": {
                "content": "/**",
                "line": 336
            }},
            {"new": {
                "content": " * Method that fires the actual HTTP update request.",
                "line": 337
            }},
            {"new": {
                "content": " * First we reset any tables that have disappeared.",
                "line": 338
            }},
            {"new": {
                "content": " * @param tableData List of table data already in the database, in the form",
                "line": 339
            }},
            {"new": {
                "content": " *        tablename;<chunk ranges>\\n",
                "line": 340
            }},
            {"new": {
                "content": " */",
                "line": 341
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.makeUpdateRequest_ = function(updateUrl, tableData) {",
                "line": 342
            }},
            {"new": {
                "content": "  log(\"this.tablesData: \" + JSON.stringify(this.tablesData, undefined, 2));",
                "line": 343
            }},
            {"new": {
                "content": "  log(\"existing chunks: \" + tableData + \"\\n\");",
                "line": 344
            }},
            {"new": {
                "content": "  // Disallow blank updateUrls",
                "line": 345
            }},
            {"new": {
                "content": "  if (!updateUrl) {",
                "line": 346
            }},
            {"new": {
                "content": "    return;",
                "line": 347
            }},
            {"new": {
                "content": "  }",
                "line": 348
            }},
            {"new": {
                "content": "  // An object of the form",
                "line": 349
            }},
            {"new": {
                "content": "  // { tableList: comma-separated list of tables to request,",
                "line": 350
            }},
            {"new": {
                "content": "  //   tableNames: map of tables that need updating,",
                "line": 351
            }},
            {"new": {
                "content": "  //   request: list of tables and existing chunk ranges from tableData",
                "line": 352
            }},
            {"new": {
                "content": "  // }",
                "line": 353
            }},
            {"new": {
                "content": "  var streamerMap = { tableList: null,",
                "line": 354
            }},
            {"new": {
                "content": "                      tableNames: {},",
                "line": 355
            }},
            {"new": {
                "content": "                      requestPayload: \"\",",
                "line": 356
            }},
            {"new": {
                "content": "                      isPostRequest: true };",
                "line": 357
            }},
            {"new": {
                "content": "",
                "line": 358
            }},
            {"new": {
                "content": "  let useProtobuf = false;",
                "line": 359
            }},
            {"new": {
                "content": "  let onceThru = false;",
                "line": 360
            }},
            {"new": {
                "content": "  for (var tableName in this.tablesData) {",
                "line": 361
            }},
            {"new": {
                "content": "    // Skip tables not matching this update url",
                "line": 362
            }},
            {"new": {
                "content": "    if (this.tablesData[tableName].updateUrl != updateUrl) {",
                "line": 363
            }},
            {"new": {
                "content": "      continue;",
                "line": 364
            }},
            {"new": {
                "content": "    }",
                "line": 365
            }},
            {"new": {
                "content": "",
                "line": 366
            }},
            {"new": {
                "content": "    // Check if |updateURL| is for 'proto'. (only v4 uses protobuf for now.)",
                "line": 367
            }},
            {"new": {
                "content": "    // We use the table name 'goog-*-proto' and an additional provider \"google4\"",
                "line": 368
            }},
            {"new": {
                "content": "    // to describe the v4 settings.",
                "line": 369
            }},
            {"new": {
                "content": "    let isCurTableProto = tableName.endsWith('-proto');",
                "line": 370
            }},
            {"new": {
                "content": "    if (!onceThru) {",
                "line": 371
            }},
            {"new": {
                "content": "      useProtobuf = isCurTableProto;",
                "line": 372
            }},
            {"new": {
                "content": "      onceThru = true;",
                "line": 373
            }},
            {"new": {
                "content": "    } else if (useProtobuf !== isCurTableProto) {",
                "line": 374
            }},
            {"new": {
                "content": "      log('ERROR: Cannot mix \"proto\" tables with other types ' +",
                "line": 375
            }},
            {"new": {
                "content": "          'within the same provider.');",
                "line": 376
            }},
            {"new": {
                "content": "    }",
                "line": 377
            }},
            {"new": {
                "content": "",
                "line": 378
            }},
            {"new": {
                "content": "    if (this.needsUpdate_[this.tablesData[tableName].updateUrl][tableName]) {",
                "line": 379
            }},
            {"new": {
                "content": "      streamerMap.tableNames[tableName] = true;",
                "line": 380
            }},
            {"new": {
                "content": "    }",
                "line": 381
            }},
            {"new": {
                "content": "    if (!streamerMap.tableList) {",
                "line": 382
            }},
            {"new": {
                "content": "      streamerMap.tableList = tableName;",
                "line": 383
            }},
            {"new": {
                "content": "    } else {",
                "line": 384
            }},
            {"new": {
                "content": "      streamerMap.tableList += \",\" + tableName;",
                "line": 385
            }},
            {"new": {
                "content": "    }",
                "line": 386
            }},
            {"new": {
                "content": "  }",
                "line": 387
            }},
            {"new": {
                "content": "",
                "line": 388
            }},
            {"new": {
                "content": "  if (useProtobuf) {",
                "line": 389
            }},
            {"new": {
                "content": "    let tableArray = [];",
                "line": 390
            }},
            {"new": {
                "content": "    Object.keys(streamerMap.tableNames).forEach(aTableName => {",
                "line": 391
            }},
            {"new": {
                "content": "      if (streamerMap.tableNames[aTableName]) {",
                "line": 392
            }},
            {"new": {
                "content": "        tableArray.push(aTableName);",
                "line": 393
            }},
            {"new": {
                "content": "      }",
                "line": 394
            }},
            {"new": {
                "content": "    });",
                "line": 395
            }},
            {"new": {
                "content": "",
                "line": 396
            }},
            {"new": {
                "content": "    // Build the <tablename, stateBase64> mapping.",
                "line": 397
            }},
            {"new": {
                "content": "    let tableState = {};",
                "line": 398
            }},
            {"new": {
                "content": "    tableData.split(\"\\n\").forEach(line => {",
                "line": 399
            }},
            {"new": {
                "content": "      let p = line.indexOf(\";\");",
                "line": 400
            }},
            {"new": {
                "content": "      if (-1 === p) {",
                "line": 401
            }},
            {"new": {
                "content": "        return;",
                "line": 402
            }},
            {"new": {
                "content": "      }",
                "line": 403
            }},
            {"new": {
                "content": "      let tableName = line.substring(0, p);",
                "line": 404
            }},
            {"new": {
                "content": "      if (tableName in streamerMap.tableNames) {",
                "line": 405
            }},
            {"new": {
                "content": "        let metadata = line.substring(p + 1).split(\":\");",
                "line": 406
            }},
            {"new": {
                "content": "        let stateBase64 = metadata[0];",
                "line": 407
            }},
            {"new": {
                "content": "        log(tableName + \" ==> \" + stateBase64);",
                "line": 408
            }},
            {"new": {
                "content": "        tableState[tableName] = stateBase64;",
                "line": 409
            }},
            {"new": {
                "content": "      }",
                "line": 410
            }},
            {"new": {
                "content": "    });",
                "line": 411
            }},
            {"new": {
                "content": "",
                "line": 412
            }},
            {"new": {
                "content": "    // The state is a byte stream which server told us from the",
                "line": 413
            }},
            {"new": {
                "content": "    // last table update. The state would be used to do the partial",
                "line": 414
            }},
            {"new": {
                "content": "    // update and the empty string means the table has",
                "line": 415
            }},
            {"new": {
                "content": "    // never been downloaded. See Bug 1287058 for supporting",
                "line": 416
            }},
            {"new": {
                "content": "    // partial update.",
                "line": 417
            }},
            {"new": {
                "content": "    let stateArray = [];",
                "line": 418
            }},
            {"new": {
                "content": "    tableArray.forEach(listName => {",
                "line": 419
            }},
            {"new": {
                "content": "      stateArray.push(tableState[listName] || \"\");",
                "line": 420
            }},
            {"new": {
                "content": "    });",
                "line": 421
            }},
            {"new": {
                "content": "",
                "line": 422
            }},
            {"new": {
                "content": "    log(\"stateArray: \" + stateArray);",
                "line": 423
            }},
            {"new": {
                "content": "",
                "line": 424
            }},
            {"new": {
                "content": "    let urlUtils = Cc[\"@mozilla.org/url-classifier/utils;1\"]",
                "line": 425
            }},
            {"new": {
                "content": "                     .getService(Ci.nsIUrlClassifierUtils);",
                "line": 426
            }},
            {"new": {
                "content": "",
                "line": 427
            }},
            {"new": {
                "content": "    streamerMap.requestPayload = urlUtils.makeUpdateRequestV4(tableArray,",
                "line": 428
            }},
            {"new": {
                "content": "                                                              stateArray,",
                "line": 429
            }},
            {"new": {
                "content": "                                                              tableArray.length);",
                "line": 430
            }},
            {"new": {
                "content": "    streamerMap.isPostRequest = false;",
                "line": 431
            }},
            {"new": {
                "content": "  } else {",
                "line": 432
            }},
            {"new": {
                "content": "    // Build the request. For each table already in the database, include the",
                "line": 433
            }},
            {"new": {
                "content": "    // chunk data from the database",
                "line": 434
            }},
            {"new": {
                "content": "    var lines = tableData.split(\"\\n\");",
                "line": 435
            }},
            {"new": {
                "content": "    for (var i = 0; i < lines.length; i++) {",
                "line": 436
            }},
            {"new": {
                "content": "      var fields = lines[i].split(\";\");",
                "line": 437
            }},
            {"new": {
                "content": "      var name = fields[0];",
                "line": 438
            }},
            {"new": {
                "content": "      if (streamerMap.tableNames[name]) {",
                "line": 439
            }},
            {"new": {
                "content": "        streamerMap.requestPayload += lines[i] + \"\\n\";",
                "line": 440
            }},
            {"new": {
                "content": "        delete streamerMap.tableNames[name];",
                "line": 441
            }},
            {"new": {
                "content": "      }",
                "line": 442
            }},
            {"new": {
                "content": "    }",
                "line": 443
            }},
            {"new": {
                "content": "    // For each requested table that didn't have chunk data in the database,",
                "line": 444
            }},
            {"new": {
                "content": "    // request it fresh",
                "line": 445
            }},
            {"new": {
                "content": "    for (let tableName in streamerMap.tableNames) {",
                "line": 446
            }},
            {"new": {
                "content": "      streamerMap.requestPayload += tableName + \";\\n\";",
                "line": 447
            }},
            {"new": {
                "content": "    }",
                "line": 448
            }},
            {"new": {
                "content": "",
                "line": 449
            }},
            {"new": {
                "content": "    streamerMap.isPostRequest = true;",
                "line": 450
            }},
            {"new": {
                "content": "  }",
                "line": 451
            }},
            {"new": {
                "content": "",
                "line": 452
            }},
            {"new": {
                "content": "  log(\"update request: \" + JSON.stringify(streamerMap, undefined, 2) + \"\\n\");",
                "line": 453
            }},
            {"new": {
                "content": "",
                "line": 454
            }},
            {"new": {
                "content": "  // Don't send an empty request.",
                "line": 455
            }},
            {"new": {
                "content": "  if (streamerMap.requestPayload.length > 0) {",
                "line": 456
            }},
            {"new": {
                "content": "    this.makeUpdateRequestForEntry_(updateUrl, streamerMap.tableList,",
                "line": 457
            }},
            {"new": {
                "content": "                                    streamerMap.requestPayload,",
                "line": 458
            }},
            {"new": {
                "content": "                                    streamerMap.isPostRequest);",
                "line": 459
            }},
            {"new": {
                "content": "  } else {",
                "line": 460
            }},
            {"new": {
                "content": "    // We were disabled between kicking off getTables and now.",
                "line": 461
            }},
            {"new": {
                "content": "    log(\"Not sending empty request\");",
                "line": 462
            }},
            {"new": {
                "content": "  }",
                "line": 463
            }},
            {"new": {
                "content": "}",
                "line": 464
            }},
            {"new": {
                "content": "",
                "line": 465
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.makeUpdateRequestForEntry_ = function(updateUrl,",
                "line": 466
            }},
            {"new": {
                "content": "                                                                 tableList,",
                "line": 467
            }},
            {"new": {
                "content": "                                                                 requestPayload,",
                "line": 468
            }},
            {"new": {
                "content": "                                                                 isPostRequest) {",
                "line": 469
            }},
            {"new": {
                "content": "  log(\"makeUpdateRequestForEntry_: requestPayload \" + requestPayload +",
                "line": 470
            }},
            {"new": {
                "content": "      \" update: \" + updateUrl + \" tablelist: \" + tableList + \"\\n\");",
                "line": 471
            }},
            {"new": {
                "content": "  var streamer = Cc[\"@mozilla.org/url-classifier/streamupdater;1\"]",
                "line": 472
            }},
            {"new": {
                "content": "                 .getService(Ci.nsIUrlClassifierStreamUpdater);",
                "line": 473
            }},
            {"new": {
                "content": "",
                "line": 474
            }},
            {"new": {
                "content": "  this.requestBackoffs_[updateUrl].noteRequest();",
                "line": 475
            }},
            {"new": {
                "content": "",
                "line": 476
            }},
            {"new": {
                "content": "  if (!streamer.downloadUpdates(",
                "line": 477
            }},
            {"new": {
                "content": "        tableList,",
                "line": 478
            }},
            {"new": {
                "content": "        requestPayload,",
                "line": 479
            }},
            {"new": {
                "content": "        isPostRequest,",
                "line": 480
            }},
            {"new": {
                "content": "        updateUrl,",
                "line": 481
            }},
            {"new": {
                "content": "        BindToObject(this.updateSuccess_, this, tableList, updateUrl),",
                "line": 482
            }},
            {"new": {
                "content": "        BindToObject(this.updateError_, this, tableList, updateUrl),",
                "line": 483
            }},
            {"new": {
                "content": "        BindToObject(this.downloadError_, this, tableList, updateUrl))) {",
                "line": 484
            }},
            {"new": {
                "content": "    // Our alarm gets reset in one of the 3 callbacks.",
                "line": 485
            }},
            {"new": {
                "content": "    log(\"pending update, queued request until later\");",
                "line": 486
            }},
            {"new": {
                "content": "  } else {",
                "line": 487
            }},
            {"new": {
                "content": "    let table = Object.keys(this.tablesData).find(key => {",
                "line": 488
            }},
            {"new": {
                "content": "      return this.tablesData[key].updateUrl === updateUrl;",
                "line": 489
            }},
            {"new": {
                "content": "    });",
                "line": 490
            }},
            {"new": {
                "content": "    let provider = this.tablesData[table].provider;",
                "line": 491
            }},
            {"new": {
                "content": "    Services.obs.notifyObservers(null, \"safebrowsing-update-begin\", provider);",
                "line": 492
            }},
            {"new": {
                "content": "  }",
                "line": 493
            }},
            {"new": {
                "content": "}",
                "line": 494
            }},
            {"new": {
                "content": "",
                "line": 495
            }},
            {"new": {
                "content": "/**",
                "line": 496
            }},
            {"new": {
                "content": " * Callback function if the update request succeeded.",
                "line": 497
            }},
            {"new": {
                "content": " * @param waitForUpdate String The number of seconds that the client should",
                "line": 498
            }},
            {"new": {
                "content": " *        wait before requesting again.",
                "line": 499
            }},
            {"new": {
                "content": " */",
                "line": 500
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.updateSuccess_ = function(tableList, updateUrl,",
                "line": 501
            }},
            {"new": {
                "content": "                                                     waitForUpdateSec) {",
                "line": 502
            }},
            {"new": {
                "content": "  log(\"update success for \" + tableList + \" from \" + updateUrl + \": \" +",
                "line": 503
            }},
            {"new": {
                "content": "      waitForUpdateSec + \"\\n\");",
                "line": 504
            }},
            {"new": {
                "content": "",
                "line": 505
            }},
            {"new": {
                "content": "  // The time unit below are all milliseconds if not specified.",
                "line": 506
            }},
            {"new": {
                "content": "",
                "line": 507
            }},
            {"new": {
                "content": "  var delay = 0;",
                "line": 508
            }},
            {"new": {
                "content": "  if (waitForUpdateSec) {",
                "line": 509
            }},
            {"new": {
                "content": "    delay = parseInt(waitForUpdateSec, 10) * 1000;",
                "line": 510
            }},
            {"new": {
                "content": "  }",
                "line": 511
            }},
            {"new": {
                "content": "  // As long as the delay is something sane (5 min to 1 day), update",
                "line": 512
            }},
            {"new": {
                "content": "  // our delay time for requesting updates. We always use a non-repeating",
                "line": 513
            }},
            {"new": {
                "content": "  // timer since the delay is set differently at every callback.",
                "line": 514
            }},
            {"new": {
                "content": "  if (delay > maxDelayMs) {",
                "line": 515
            }},
            {"new": {
                "content": "    log(\"Ignoring delay from server (too long), waiting \" +",
                "line": 516
            }},
            {"new": {
                "content": "        maxDelayMs / 60000 + \"min\");",
                "line": 517
            }},
            {"new": {
                "content": "    delay = maxDelayMs;",
                "line": 518
            }},
            {"new": {
                "content": "  } else if (delay < minDelayMs) {",
                "line": 519
            }},
            {"new": {
                "content": "    log(\"Ignoring delay from server (too short), waiting \" +",
                "line": 520
            }},
            {"new": {
                "content": "        this.updateInterval / 60000 + \"min\");",
                "line": 521
            }},
            {"new": {
                "content": "    delay = this.updateInterval;",
                "line": 522
            }},
            {"new": {
                "content": "  } else {",
                "line": 523
            }},
            {"new": {
                "content": "    log(\"Waiting \" + delay / 60000 + \"min\");",
                "line": 524
            }},
            {"new": {
                "content": "  }",
                "line": 525
            }},
            {"new": {
                "content": "",
                "line": 526
            }},
            {"new": {
                "content": "  this.setUpdateCheckTimer(updateUrl, delay);",
                "line": 527
            }},
            {"new": {
                "content": "",
                "line": 528
            }},
            {"new": {
                "content": "  // Let the backoff object know that we completed successfully.",
                "line": 529
            }},
            {"new": {
                "content": "  this.requestBackoffs_[updateUrl].noteServerResponse(200);",
                "line": 530
            }},
            {"new": {
                "content": "",
                "line": 531
            }},
            {"new": {
                "content": "  // Set last update time for provider",
                "line": 532
            }},
            {"new": {
                "content": "  // Get the provider for these tables, check for consistency",
                "line": 533
            }},
            {"new": {
                "content": "  let tables = tableList.split(\",\");",
                "line": 534
            }},
            {"new": {
                "content": "  let provider = null;",
                "line": 535
            }},
            {"new": {
                "content": "  for (let table of tables) {",
                "line": 536
            }},
            {"new": {
                "content": "    let newProvider = this.tablesData[table].provider;",
                "line": 537
            }},
            {"new": {
                "content": "    if (provider) {",
                "line": 538
            }},
            {"new": {
                "content": "      if (newProvider !== provider) {",
                "line": 539
            }},
            {"new": {
                "content": "        log(\"Multiple tables for the same updateURL have a different provider?!\");",
                "line": 540
            }},
            {"new": {
                "content": "      }",
                "line": 541
            }},
            {"new": {
                "content": "    } else {",
                "line": 542
            }},
            {"new": {
                "content": "      provider = newProvider;",
                "line": 543
            }},
            {"new": {
                "content": "    }",
                "line": 544
            }},
            {"new": {
                "content": "  }",
                "line": 545
            }},
            {"new": {
                "content": "",
                "line": 546
            }},
            {"new": {
                "content": "  // Store the last update time (needed to know if the table is \"fresh\")",
                "line": 547
            }},
            {"new": {
                "content": "  // and the next update time (to know when to update next).",
                "line": 548
            }},
            {"new": {
                "content": "  let lastUpdatePref = \"browser.safebrowsing.provider.\" + provider + \".lastupdatetime\";",
                "line": 549
            }},
            {"new": {
                "content": "  let now = Date.now();",
                "line": 550
            }},
            {"new": {
                "content": "  log(\"Setting last update of \" + provider + \" to \" + now);",
                "line": 551
            }},
            {"new": {
                "content": "  Services.prefs.setCharPref(lastUpdatePref, now.toString());",
                "line": 552
            }},
            {"new": {
                "content": "",
                "line": 553
            }},
            {"new": {
                "content": "  let nextUpdatePref = \"browser.safebrowsing.provider.\" + provider + \".nextupdatetime\";",
                "line": 554
            }},
            {"new": {
                "content": "  let targetTime = now + delay;",
                "line": 555
            }},
            {"new": {
                "content": "  log(\"Setting next update of \" + provider + \" to \" + targetTime",
                "line": 556
            }},
            {"new": {
                "content": "      + \" (\" + delay / 60000 + \"min from now)\");",
                "line": 557
            }},
            {"new": {
                "content": "  Services.prefs.setCharPref(nextUpdatePref, targetTime.toString());",
                "line": 558
            }},
            {"new": {
                "content": "",
                "line": 559
            }},
            {"new": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\", \"success\");",
                "line": 560
            }},
            {"new": {
                "content": "}",
                "line": 561
            }},
            {"new": {
                "content": "",
                "line": 562
            }},
            {"new": {
                "content": "/**",
                "line": 563
            }},
            {"new": {
                "content": " * Callback function if the update request succeeded.",
                "line": 564
            }},
            {"new": {
                "content": " * @param result String The error code of the failure",
                "line": 565
            }},
            {"new": {
                "content": " */",
                "line": 566
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.updateError_ = function(table, updateUrl, result) {",
                "line": 567
            }},
            {"new": {
                "content": "  log(\"update error for \" + table + \" from \" + updateUrl + \": \" + result + \"\\n\");",
                "line": 568
            }},
            {"new": {
                "content": "  // There was some trouble applying the updates. Don't try again for at least",
                "line": 569
            }},
            {"new": {
                "content": "  // updateInterval milliseconds.",
                "line": 570
            }},
            {"new": {
                "content": "  this.setUpdateCheckTimer(updateUrl, this.updateInterval);",
                "line": 571
            }},
            {"new": {
                "content": "",
                "line": 572
            }},
            {"new": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\",",
                "line": 573
            }},
            {"new": {
                "content": "                               \"update error: \" + result);",
                "line": 574
            }},
            {"new": {
                "content": "}",
                "line": 575
            }},
            {"new": {
                "content": "",
                "line": 576
            }},
            {"new": {
                "content": "/**",
                "line": 577
            }},
            {"new": {
                "content": " * Callback function when the download failed",
                "line": 578
            }},
            {"new": {
                "content": " * @param status String http status or an empty string if connection refused.",
                "line": 579
            }},
            {"new": {
                "content": " */",
                "line": 580
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.downloadError_ = function(table, updateUrl, status) {",
                "line": 581
            }},
            {"new": {
                "content": "  log(\"download error for \" + table + \": \" + status + \"\\n\");",
                "line": 582
            }},
            {"new": {
                "content": "  // If status is empty, then we assume that we got an NS_CONNECTION_REFUSED",
                "line": 583
            }},
            {"new": {
                "content": "  // error.  In this case, we treat this is a http 500 error.",
                "line": 584
            }},
            {"new": {
                "content": "  if (!status) {",
                "line": 585
            }},
            {"new": {
                "content": "    status = 500;",
                "line": 586
            }},
            {"new": {
                "content": "  }",
                "line": 587
            }},
            {"new": {
                "content": "  status = parseInt(status, 10);",
                "line": 588
            }},
            {"new": {
                "content": "  this.requestBackoffs_[updateUrl].noteServerResponse(status);",
                "line": 589
            }},
            {"new": {
                "content": "  var delay = this.updateInterval;",
                "line": 590
            }},
            {"new": {
                "content": "  if (this.requestBackoffs_[updateUrl].isErrorStatus(status)) {",
                "line": 591
            }},
            {"new": {
                "content": "    // Schedule an update for when our backoff is complete",
                "line": 592
            }},
            {"new": {
                "content": "    delay = this.requestBackoffs_[updateUrl].nextRequestDelay();",
                "line": 593
            }},
            {"new": {
                "content": "  } else {",
                "line": 594
            }},
            {"new": {
                "content": "    log(\"Got non error status for error callback?!\");",
                "line": 595
            }},
            {"new": {
                "content": "  }",
                "line": 596
            }},
            {"new": {
                "content": "",
                "line": 597
            }},
            {"new": {
                "content": "  this.setUpdateCheckTimer(updateUrl, delay);",
                "line": 598
            }},
            {"new": {
                "content": "",
                "line": 599
            }},
            {"new": {
                "content": "  Services.obs.notifyObservers(null, \"safebrowsing-update-finished\",",
                "line": 600
            }},
            {"new": {
                "content": "                               \"download error: \" + status);",
                "line": 601
            }},
            {"new": {
                "content": "}",
                "line": 602
            }},
            {"new": {
                "content": "",
                "line": 603
            }},
            {"new": {
                "content": "/**",
                "line": 604
            }},
            {"new": {
                "content": " * Get back-off time for the given provider.",
                "line": 605
            }},
            {"new": {
                "content": " * Return 0 if we are not in back-off mode.",
                "line": 606
            }},
            {"new": {
                "content": " */",
                "line": 607
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.getBackOffTime = function(provider) {",
                "line": 608
            }},
            {"new": {
                "content": "  let updateUrl = \"\";",
                "line": 609
            }},
            {"new": {
                "content": "  for (var table in this.tablesData) {",
                "line": 610
            }},
            {"new": {
                "content": "    if (this.tablesData[table].provider == provider) {",
                "line": 611
            }},
            {"new": {
                "content": "      updateUrl = this.tablesData[table].updateUrl;",
                "line": 612
            }},
            {"new": {
                "content": "      break;",
                "line": 613
            }},
            {"new": {
                "content": "    }",
                "line": 614
            }},
            {"new": {
                "content": "  }",
                "line": 615
            }},
            {"new": {
                "content": "",
                "line": 616
            }},
            {"new": {
                "content": "  if (!updateUrl || !this.requestBackoffs_[updateUrl]) {",
                "line": 617
            }},
            {"new": {
                "content": "    return 0;",
                "line": 618
            }},
            {"new": {
                "content": "  }",
                "line": 619
            }},
            {"new": {
                "content": "",
                "line": 620
            }},
            {"new": {
                "content": "  let delay = this.requestBackoffs_[updateUrl].nextRequestDelay();",
                "line": 621
            }},
            {"new": {
                "content": "  return delay == 0 ? 0 : Date.now() + delay;",
                "line": 622
            }},
            {"new": {
                "content": "}",
                "line": 623
            }},
            {"new": {
                "content": "",
                "line": 624
            }},
            {"new": {
                "content": "PROT_ListManager.prototype.QueryInterface = function(iid) {",
                "line": 625
            }},
            {"new": {
                "content": "  if (iid.equals(Ci.nsISupports) ||",
                "line": 626
            }},
            {"new": {
                "content": "      iid.equals(Ci.nsIUrlListManager) ||",
                "line": 627
            }},
            {"new": {
                "content": "      iid.equals(Ci.nsIObserver) ||",
                "line": 628
            }},
            {"new": {
                "content": "      iid.equals(Ci.nsITimerCallback))",
                "line": 629
            }},
            {"new": {
                "content": "    return this;",
                "line": 630
            }},
            {"new": {
                "content": "",
                "line": 631
            }},
            {"new": {
                "content": "  throw Components.results.NS_ERROR_NO_INTERFACE;",
                "line": 632
            }},
            {"new": {
                "content": "}",
                "line": 633
            }}
        ],
        "new": {"name": "/toolkit/components/url-classifier/nsUrlClassifierListManager.js"},
        "old": {"name": "/toolkit/components/url-classifier/nsUrlClassifierListManager.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "                  nsITimerCallback)",
                "line": 99
            }},
            {"new": {
                "content": "                  nsITimerCallback,",
                "line": 99
            }},
            {"new": {
                "content": "                  nsINamed)",
                "line": 100
            }},
            {"new": {
                "content": "////////////////////////////////////////////////////////////////////////",
                "line": 1012
            }},
            {"new": {
                "content": "//// nsINamed",
                "line": 1013
            }},
            {"new": {
                "content": "",
                "line": 1014
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 1015
            }},
            {"new": {
                "content": "nsUrlClassifierStreamUpdater::GetName(nsACString& aName)",
                "line": 1016
            }},
            {"new": {
                "content": "{",
                "line": 1017
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsUrlClassifierStreamUpdater\");",
                "line": 1018
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 1019
            }},
            {"new": {
                "content": "}",
                "line": 1020
            }},
            {"new": {
                "content": "",
                "line": 1021
            }}
        ],
        "new": {"name": "/toolkit/components/url-classifier/nsUrlClassifierStreamUpdater.cpp"},
        "old": {"name": "/toolkit/components/url-classifier/nsUrlClassifierStreamUpdater.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 8
            }},
            {"old": {
                "content": "                                           public nsITimerCallback",
                "line": 22
            }},
            {"new": {
                "content": "                                           public nsITimerCallback,",
                "line": 23
            }},
            {"new": {
                "content": "                                           public nsINamed",
                "line": 24
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 36
            }}
        ],
        "new": {"name": "/toolkit/components/url-classifier/nsUrlClassifierStreamUpdater.h"},
        "old": {"name": "/toolkit/components/url-classifier/nsUrlClassifierStreamUpdater.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "bool ShouldEnableSending()",
                "line": 440
            }},
            {"old": {
                "content": "{",
                "line": 441
            }},
            {"old": {
                "content": "  srand(time(0));",
                "line": 442
            }},
            {"old": {
                "content": "  return ((rand() % 100) < MOZ_CRASHREPORTER_ENABLE_PERCENT);",
                "line": 443
            }},
            {"old": {
                "content": "}",
                "line": 444
            }},
            {"old": {
                "content": "",
                "line": 445
            }}
        ],
        "new": {"name": "/toolkit/crashreporter/client/crashreporter.cpp"},
        "old": {"name": "/toolkit/crashreporter/client/crashreporter.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  bool ShouldEnableSending();",
                "line": 117
            }}
        ],
        "new": {"name": "/toolkit/crashreporter/client/crashreporter.h"},
        "old": {"name": "/toolkit/crashreporter/client/crashreporter.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    bool enabled;",
                "line": 60
            }},
            {"new": {
                "content": "    bool enabled = true;",
                "line": 60
            }},
            {"old": {
                "content": "    else",
                "line": 63
            }},
            {"old": {
                "content": "      enabled = ShouldEnableSending();",
                "line": 64
            }}
        ],
        "new": {"name": "/toolkit/crashreporter/client/crashreporter_linux.cpp"},
        "old": {"name": "/toolkit/crashreporter/client/crashreporter_linux.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  BOOL submitChecked = NO;",
                "line": 169
            }},
            {"new": {
                "content": "  BOOL submitChecked = YES;",
                "line": 169
            }},
            {"old": {
                "content": "    submitChecked =  [userDefaults boolForKey:@\"submitReport\"];",
                "line": 172
            }},
            {"new": {
                "content": "    submitChecked = [userDefaults boolForKey:@\"submitReport\"];",
                "line": 172
            }},
            {"old": {
                "content": "    // use compile-time specified enable percentage",
                "line": 175
            }},
            {"old": {
                "content": "    submitChecked = ShouldEnableSending();",
                "line": 176
            }}
        ],
        "new": {"name": "/toolkit/crashreporter/client/crashreporter_osx.mm"},
        "old": {"name": "/toolkit/crashreporter/client/crashreporter_osx.mm"}
    },
    {
        "changes": [
            {"old": {
                "content": "      enabled = ShouldEnableSending();",
                "line": 913
            }},
            {"new": {
                "content": "      enabled = true;",
                "line": 913
            }}
        ],
        "new": {"name": "/toolkit/crashreporter/client/crashreporter_win.cpp"},
        "old": {"name": "/toolkit/crashreporter/client/crashreporter_win.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'nsHelperAppDlg.js',",
                "line": 9
            }},
            {"old": {
                "content": "EXTRA_PP_COMPONENTS += [",
                "line": 11
            }},
            {"old": {
                "content": "    'nsHelperAppDlg.js',",
                "line": 12
            }},
            {"old": {
                "content": "]",
                "line": 13
            }},
            {"old": {
                "content": "",
                "line": 14
            }}
        ],
        "new": {"name": "/toolkit/mozapps/downloads/moz.build"},
        "old": {"name": "/toolkit/mozapps/downloads/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "    }",
                "line": 1069
            }},
            {"old": {
                "content": "    else {",
                "line": 1070
            }},
            {"old": {
                "content": "#if MOZ_WIDGET_GTK == 3",
                "line": 1071
            }},
            {"new": {
                "content": "    } else if (\"@mozilla.org/applicationchooser;1\" in Components.classes) {",
                "line": 1069
            }},
            {"old": {
                "content": "#else",
                "line": 1086
            }},
            {"new": {
                "content": "    } else {",
                "line": 1084
            }},
            {"old": {
                "content": "#endif // MOZ_WIDGET_GTK == 3",
                "line": 1105
            }},
            {"new": {
                "content": "",
                "line": 1104
            }}
        ],
        "new": {"name": "/toolkit/mozapps/downloads/nsHelperAppDlg.js"},
        "old": {"name": "/toolkit/mozapps/downloads/nsHelperAppDlg.js"}
    },
    {
        "changes": [
            {"old": {
                "content": "#if defined(MOZ_PROFILING) && \\",
                "line": 76
            }},
            {"old": {
                "content": "    (defined(GP_OS_windows) || defined(GP_OS_darwin))",
                "line": 77
            }},
            {"new": {
                "content": "// Win32 builds always have frame pointers, so FramePointerStackWalk() always",
                "line": 76
            }},
            {"new": {
                "content": "// works.",
                "line": 77
            }},
            {"new": {
                "content": "#if defined(GP_PLAT_x86_windows)",
                "line": 78
            }},
            {"new": {
                "content": "# define HAVE_NATIVE_UNWIND",
                "line": 79
            }},
            {"new": {
                "content": "# define USE_FRAME_POINTER_STACK_WALK",
                "line": 80
            }},
            {"new": {
                "content": "#endif",
                "line": 81
            }},
            {"new": {
                "content": "",
                "line": 82
            }},
            {"new": {
                "content": "// Win64 builds always omit frame pointers, so we use the slower",
                "line": 83
            }},
            {"new": {
                "content": "// MozStackWalk(), which works in that case.",
                "line": 84
            }},
            {"new": {
                "content": "#if defined(GP_PLAT_amd64_windows)",
                "line": 85
            }},
            {"old": {
                "content": "# define USE_NS_STACKWALK",
                "line": 79
            }},
            {"new": {
                "content": "# define USE_MOZ_STACK_WALK",
                "line": 87
            }},
            {"old": {
                "content": "// This should also work on ARM Linux, but not tested there yet.",
                "line": 81
            }},
            {"new": {
                "content": "// Mac builds only have frame pointers when MOZ_PROFILING is specified, so",
                "line": 89
            }},
            {"new": {
                "content": "// FramePointerStackWalk() only works in that case. We don't use MozStackWalk()",
                "line": 90
            }},
            {"new": {
                "content": "// on Mac.",
                "line": 91
            }},
            {"new": {
                "content": "#if defined(GP_OS_darwin) && defined(MOZ_PROFILING)",
                "line": 92
            }},
            {"new": {
                "content": "# define HAVE_NATIVE_UNWIND",
                "line": 93
            }},
            {"new": {
                "content": "# define USE_FRAME_POINTER_STACK_WALK",
                "line": 94
            }},
            {"new": {
                "content": "#endif",
                "line": 95
            }},
            {"new": {
                "content": "",
                "line": 96
            }},
            {"new": {
                "content": "// Android builds use the ARM Exception Handling ABI to unwind.",
                "line": 97
            }},
            {"new": {
                "content": "// Linux builds use LUL, which uses DWARF info to unwind stacks.",
                "line": 103
            }},
            {"old": {
                "content": "#ifdef USE_NS_STACKWALK",
                "line": 987
            }},
            {"new": {
                "content": "#if defined(USE_FRAME_POINTER_STACK_WALK) || defined(USE_MOZ_STACK_WALK)",
                "line": 1004
            }},
            {"old": {
                "content": "#if defined(GP_OS_darwin) || (defined(GP_PLAT_x86_windows))",
                "line": 1014
            }},
            {"new": {
                "content": "#if defined(USE_FRAME_POINTER_STACK_WALK)",
                "line": 1031
            }},
            {"old": {
                "content": "#else",
                "line": 1021
            }},
            {"old": {
                "content": "  // Win64 always omits frame pointers so for it we use the slower",
                "line": 1022
            }},
            {"old": {
                "content": "  // MozStackWalk().",
                "line": 1023
            }},
            {"new": {
                "content": "#elif defined(USE_MOZ_STACK_WALK)",
                "line": 1038
            }},
            {"new": {
                "content": "#else",
                "line": 1043
            }},
            {"new": {
                "content": "# error \"bad configuration\"",
                "line": 1044
            }},
            {"new": {
                "content": "    // We can't walk the whole native stack, but we can record the top frame.",
                "line": 1292
            }}
        ],
        "new": {"name": "/tools/profiler/core/platform.cpp"},
        "old": {"name": "/tools/profiler/core/platform.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    nsresult rv = SystemGroup::Dispatch(\"CheckResponsivenessTask\",",
                "line": 50
            }},
            {"old": {
                "content": "                                        TaskCategory::Other,",
                "line": 51
            }},
            {"new": {
                "content": "    nsresult rv = SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 50
            }},
            {"old": {
                "content": "    SystemGroup::Dispatch(\"CheckResponsivenessTask\",",
                "line": 81
            }},
            {"old": {
                "content": "                          TaskCategory::Other,",
                "line": 82
            }},
            {"new": {
                "content": "    SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 80
            }}
        ],
        "new": {"name": "/tools/profiler/gecko/ThreadResponsiveness.cpp"},
        "old": {"name": "/tools/profiler/gecko/ThreadResponsiveness.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "gfx/webrender_traits",
                "line": 13
            }},
            {"new": {
                "content": "gfx/webrender_api",
                "line": 13
            }}
        ],
        "new": {"name": "/tools/rewriting/ThirdPartyPaths.txt"},
        "old": {"name": "/tools/rewriting/ThirdPartyPaths.txt"}
    },
    {
        "changes": [
            {"new": {
                "content": "   NS_INTERFACE_MAP_ENTRY(nsINamed)",
                "line": 1198
            }},
            {"new": {
                "content": "",
                "line": 2563
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 2564
            }},
            {"new": {
                "content": "nsExternalAppHandler::GetName(nsACString& aName)",
                "line": 2565
            }},
            {"new": {
                "content": "{",
                "line": 2566
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsExternalAppHandler\");",
                "line": 2567
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 2568
            }},
            {"new": {
                "content": "}",
                "line": 2569
            }},
            {"new": {
                "content": "",
                "line": 2570
            }}
        ],
        "new": {"name": "/uriloader/exthandler/nsExternalHelperAppService.cpp"},
        "old": {"name": "/uriloader/exthandler/nsExternalHelperAppService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 16
            }},
            {"old": {
                "content": "                                   public nsIBackgroundFileSaverObserver",
                "line": 213
            }},
            {"new": {
                "content": "                                   public nsIBackgroundFileSaverObserver,",
                "line": 214
            }},
            {"new": {
                "content": "                                   public nsINamed",
                "line": 215
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 225
            }}
        ],
        "new": {"name": "/uriloader/exthandler/nsExternalHelperAppService.h"},
        "old": {"name": "/uriloader/exthandler/nsExternalHelperAppService.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "// visibility change",
                "line": 454
            }},
            {"new": {
                "content": "NS_EVENT_MESSAGE(eVisibilityChange)",
                "line": 455
            }},
            {"new": {
                "content": "",
                "line": 456
            }}
        ],
        "new": {"name": "/widget/EventMessageList.h"},
        "old": {"name": "/widget/EventMessageList.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "    mTabChild->TabGroup()->Dispatch(\"PuppetWidget::Invalidate\", TaskCategory::Other, event.forget());",
                "line": 310
            }},
            {"new": {
                "content": "    mTabChild->TabGroup()->Dispatch(TaskCategory::Other, event.forget());",
                "line": 310
            }}
        ],
        "new": {"name": "/widget/PuppetWidget.cpp"},
        "old": {"name": "/widget/PuppetWidget.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  // set manually without using a print dialog a la reftest-print.",
                "line": 46
            }},
            {"new": {
                "content": "  // set manually without using a print dialog a la reftest-paged.",
                "line": 46
            }}
        ],
        "new": {"name": "/widget/cocoa/nsPrintSettingsX.h"},
        "old": {"name": "/widget/cocoa/nsPrintSettingsX.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "    // If aEvent.mNativeKeyEvent is nullptr, the event was created by chrome",
                "line": 6250
            }},
            {"new": {
                "content": "    // script.  In such case, we shouldn't expose the OS settings to it.",
                "line": 6251
            }},
            {"new": {
                "content": "    // So, just ignore such events here.",
                "line": 6252
            }},
            {"new": {
                "content": "    if (!aEvent.mNativeKeyEvent) {",
                "line": 6253
            }},
            {"new": {
                "content": "        return;",
                "line": 6254
            }},
            {"new": {
                "content": "    }",
                "line": 6255
            }},
            {"old": {
                "content": "    return keyBindings->GetEditCommands(modifiedEvent, aCommands);",
                "line": 6255
            }},
            {"new": {
                "content": "    keyBindings->GetEditCommands(modifiedEvent, aCommands);",
                "line": 6261
            }}
        ],
        "new": {"name": "/widget/gtk/nsWindow.cpp"},
        "old": {"name": "/widget/gtk/nsWindow.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(nsNativeTheme, nsITimerCallback)",
                "line": 38
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(nsNativeTheme, nsITimerCallback, nsINamed)",
                "line": 38
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 686
            }},
            {"new": {
                "content": "nsNativeTheme::GetName(nsACString& aName)",
                "line": 687
            }},
            {"new": {
                "content": "{",
                "line": 688
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"nsNativeTheme\");",
                "line": 689
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 690
            }},
            {"new": {
                "content": "}",
                "line": 691
            }},
            {"new": {
                "content": "",
                "line": 692
            }}
        ],
        "new": {"name": "/widget/nsNativeTheme.cpp"},
        "old": {"name": "/widget/nsNativeTheme.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 14
            }},
            {"old": {
                "content": "class nsNativeTheme : public nsITimerCallback",
                "line": 22
            }},
            {"new": {
                "content": "class nsNativeTheme : public nsITimerCallback, public nsINamed",
                "line": 23
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 29
            }}
        ],
        "new": {"name": "/widget/nsNativeTheme.h"},
        "old": {"name": "/widget/nsNativeTheme.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 25
            }},
            {"old": {
                "content": "                                , public nsITimerCallback {",
                "line": 43
            }},
            {"new": {
                "content": "                                , public nsITimerCallback",
                "line": 44
            }},
            {"new": {
                "content": "                                , public nsINamed {",
                "line": 45
            }},
            {"new": {
                "content": "",
                "line": 53
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override {",
                "line": 54
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"WinWakeLockListener\");",
                "line": 55
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 56
            }},
            {"new": {
                "content": "  }",
                "line": 57
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(WinWakeLockListener, nsIDOMMozWakeLockListener, nsITimerCallback)",
                "line": 134
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(WinWakeLockListener, nsIDOMMozWakeLockListener, nsITimerCallback, nsINamed)",
                "line": 141
            }}
        ],
        "new": {"name": "/widget/windows/nsAppShell.cpp"},
        "old": {"name": "/widget/windows/nsAppShell.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "    return SystemGroup::Dispatch(\"DebuggerOnGCRunnable\", TaskCategory::GarbageCollection, runOnGC.forget());",
                "line": 26
            }},
            {"new": {
                "content": "    return SystemGroup::Dispatch(TaskCategory::GarbageCollection, runOnGC.forget());",
                "line": 26
            }}
        ],
        "new": {"name": "/xpcom/base/DebuggerOnGCRunnable.cpp"},
        "old": {"name": "/xpcom/base/DebuggerOnGCRunnable.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "      SystemGroup::Dispatch(\"LogMessageRunnable\", TaskCategory::Other, r.forget());",
                "line": 332
            }},
            {"new": {
                "content": "      SystemGroup::Dispatch(TaskCategory::Other, r.forget());",
                "line": 332
            }}
        ],
        "new": {"name": "/xpcom/base/nsConsoleService.cpp"},
        "old": {"name": "/xpcom/base/nsConsoleService.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 9
            }},
            {"old": {
                "content": "  : public nsITimerCallback",
                "line": 58
            }},
            {"new": {
                "content": "  : public nsITimerCallback, public nsINamed",
                "line": 59
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 65
            }},
            {"new": {
                "content": "  {",
                "line": 66
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"MessageLoopTimerCallback\");",
                "line": 67
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 68
            }},
            {"new": {
                "content": "  }",
                "line": 69
            }},
            {"new": {
                "content": "",
                "line": 70
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(MessageLoopTimerCallback, nsITimerCallback)",
                "line": 142
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(MessageLoopTimerCallback, nsITimerCallback, nsINamed)",
                "line": 149
            }}
        ],
        "new": {"name": "/xpcom/base/nsMessageLoop.cpp"},
        "old": {"name": "/xpcom/base/nsMessageLoop.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  if (NS_WARN_IF(!compMgr)) {",
                "line": 49
            }},
            {"new": {
                "content": "  if (!compMgr) {",
                "line": 49
            }},
            {"old": {
                "content": "  if (NS_WARN_IF(!compMgr)) {",
                "line": 58
            }},
            {"new": {
                "content": "  if (!compMgr) {",
                "line": 58
            }}
        ],
        "new": {"name": "/xpcom/components/nsComponentManagerUtils.cpp"},
        "old": {"name": "/xpcom/components/nsComponentManagerUtils.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 11
            }},
            {"new": {
                "content": "int",
                "line": 204
            }},
            {"new": {
                "content": "Sanity5_Child()",
                "line": 205
            }},
            {"new": {
                "content": "{",
                "line": 206
            }},
            {"new": {
                "content": "    DisableCrashReporter();",
                "line": 207
            }},
            {"new": {
                "content": "",
                "line": 208
            }},
            {"new": {
                "content": "    mozilla::RecursiveMutex m1(\"dd.sanity4.m1\");",
                "line": 209
            }},
            {"new": {
                "content": "    MUTEX m2(\"dd.sanity4.m2\");",
                "line": 210
            }},
            {"new": {
                "content": "    m1.Lock();",
                "line": 211
            }},
            {"new": {
                "content": "    m2.Lock();",
                "line": 212
            }},
            {"new": {
                "content": "    m1.Lock();",
                "line": 213
            }},
            {"new": {
                "content": "    return 0;",
                "line": 214
            }},
            {"new": {
                "content": "}",
                "line": 215
            }},
            {"new": {
                "content": "",
                "line": 216
            }},
            {"new": {
                "content": "TEST_F(TESTNAME(DeadlockDetectorTest), TESTNAME(Sanity5DeathTest))",
                "line": 217
            }},
            {"new": {
                "content": "{",
                "line": 218
            }},
            {"new": {
                "content": "    const char* const regex =",
                "line": 219
            }},
            {"new": {
                "content": "        \"Re-entering RecursiveMutex after acquiring other resources.*\"",
                "line": 220
            }},
            {"new": {
                "content": "        \"###!!! ERROR: Potential deadlock detected.*\"",
                "line": 221
            }},
            {"new": {
                "content": "        \"=== Cyclical dependency starts at.*--- RecursiveMutex : dd.sanity4.m1.*\"",
                "line": 222
            }},
            {"new": {
                "content": "        \"--- Next dependency:.*--- Mutex : dd.sanity4.m2.*\"",
                "line": 223
            }},
            {"new": {
                "content": "        \"=== Cycle completed at.*--- RecursiveMutex : dd.sanity4.m1.*\"",
                "line": 224
            }},
            {"new": {
                "content": "        \"###!!! ASSERTION: Potential deadlock detected.*\";",
                "line": 225
            }},
            {"new": {
                "content": "    ASSERT_DEATH_IF_SUPPORTED(Sanity5_Child(), regex);",
                "line": 226
            }},
            {"new": {
                "content": "}",
                "line": 227
            }},
            {"new": {
                "content": "",
                "line": 228
            }}
        ],
        "new": {"name": "/xpcom/tests/gtest/TestDeadlockDetector.cpp"},
        "old": {"name": "/xpcom/tests/gtest/TestDeadlockDetector.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */",
                "line": 0
            }},
            {"new": {
                "content": "/* vim: set ts=8 sts=2 et sw=2 tw=80: */",
                "line": 1
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 2
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 3
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "#include \"nsThreadUtils.h\"",
                "line": 6
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 7
            }},
            {"new": {
                "content": "#include \"gtest/gtest.h\"",
                "line": 8
            }},
            {"new": {
                "content": "",
                "line": 9
            }},
            {"new": {
                "content": "using mozilla::RecursiveMutex;",
                "line": 10
            }},
            {"new": {
                "content": "using mozilla::RecursiveMutexAutoLock;",
                "line": 11
            }},
            {"new": {
                "content": "",
                "line": 12
            }},
            {"new": {
                "content": "// Basic test to make sure the underlying implementation of RecursiveMutex is,",
                "line": 13
            }},
            {"new": {
                "content": "// well, actually recursively acquirable.",
                "line": 14
            }},
            {"new": {
                "content": "",
                "line": 15
            }},
            {"new": {
                "content": "TEST(RecursiveMutex, SmokeTest)",
                "line": 16
            }},
            {"new": {
                "content": "{",
                "line": 17
            }},
            {"new": {
                "content": "  RecursiveMutex mutex(\"testing mutex\");",
                "line": 18
            }},
            {"new": {
                "content": "",
                "line": 19
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock1(mutex);",
                "line": 20
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock lock2(mutex);",
                "line": 21
            }},
            {"new": {
                "content": "",
                "line": 22
            }},
            {"new": {
                "content": "  //...and done.",
                "line": 23
            }},
            {"new": {
                "content": "}",
                "line": 24
            }}
        ],
        "new": {"name": "/xpcom/tests/gtest/TestRecursiveMutex.cpp"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsIPipe.h\"",
                "line": 3
            }}
        ],
        "new": {"name": "/xpcom/tests/gtest/TestSlicedInputStream.cpp"},
        "old": {"name": "/xpcom/tests/gtest/TestSlicedInputStream.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'TestRecursiveMutex.cpp',",
                "line": 34
            }}
        ],
        "new": {"name": "/xpcom/tests/gtest/moz.build"},
        "old": {"name": "/xpcom/tests/gtest/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "    nsresult rv = SystemGroup::Dispatch(\"NotifyBHRHangObservers\",",
                "line": 636
            }},
            {"old": {
                "content": "                                        TaskCategory::Other,",
                "line": 637
            }},
            {"new": {
                "content": "    nsresult rv = SystemGroup::Dispatch(TaskCategory::Other,",
                "line": 636
            }}
        ],
        "new": {"name": "/xpcom/threads/BackgroundHangMonitor.cpp"},
        "old": {"name": "/xpcom/threads/BackgroundHangMonitor.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 21
            }},
            {"old": {
                "content": "  \"Mutex\", \"ReentrantMonitor\", \"CondVar\"",
                "line": 39
            }},
            {"new": {
                "content": "  \"Mutex\", \"ReentrantMonitor\", \"CondVar\", \"RecursiveMutex\"",
                "line": 40
            }},
            {"new": {
                "content": "// Debug implementation of RecursiveMutex",
                "line": 528
            }},
            {"new": {
                "content": "void",
                "line": 529
            }},
            {"new": {
                "content": "RecursiveMutex::Lock()",
                "line": 530
            }},
            {"new": {
                "content": "{",
                "line": 531
            }},
            {"new": {
                "content": "  BlockingResourceBase* chainFront = ResourceChainFront();",
                "line": 532
            }},
            {"new": {
                "content": "",
                "line": 533
            }},
            {"new": {
                "content": "  // the code below implements mutex reentrancy semantics",
                "line": 534
            }},
            {"new": {
                "content": "",
                "line": 535
            }},
            {"new": {
                "content": "  if (this == chainFront) {",
                "line": 536
            }},
            {"new": {
                "content": "    // immediately re-entered the mutex: acceptable",
                "line": 537
            }},
            {"new": {
                "content": "    LockInternal();",
                "line": 538
            }},
            {"new": {
                "content": "    ++mEntryCount;",
                "line": 539
            }},
            {"new": {
                "content": "    return;",
                "line": 540
            }},
            {"new": {
                "content": "  }",
                "line": 541
            }},
            {"new": {
                "content": "",
                "line": 542
            }},
            {"new": {
                "content": "  // this is sort of a hack around not recording the thread that",
                "line": 543
            }},
            {"new": {
                "content": "  // owns this monitor",
                "line": 544
            }},
            {"new": {
                "content": "  if (chainFront) {",
                "line": 545
            }},
            {"new": {
                "content": "    for (BlockingResourceBase* br = ResourceChainPrev(chainFront);",
                "line": 546
            }},
            {"new": {
                "content": "         br;",
                "line": 547
            }},
            {"new": {
                "content": "         br = ResourceChainPrev(br)) {",
                "line": 548
            }},
            {"new": {
                "content": "      if (br == this) {",
                "line": 549
            }},
            {"new": {
                "content": "        NS_WARNING(",
                "line": 550
            }},
            {"new": {
                "content": "          \"Re-entering RecursiveMutex after acquiring other resources.\");",
                "line": 551
            }},
            {"new": {
                "content": "",
                "line": 552
            }},
            {"new": {
                "content": "        // show the caller why this is potentially bad",
                "line": 553
            }},
            {"new": {
                "content": "        CheckAcquire();",
                "line": 554
            }},
            {"new": {
                "content": "",
                "line": 555
            }},
            {"new": {
                "content": "        LockInternal();",
                "line": 556
            }},
            {"new": {
                "content": "        ++mEntryCount;",
                "line": 557
            }},
            {"new": {
                "content": "        return;",
                "line": 558
            }},
            {"new": {
                "content": "      }",
                "line": 559
            }},
            {"new": {
                "content": "    }",
                "line": 560
            }},
            {"new": {
                "content": "  }",
                "line": 561
            }},
            {"new": {
                "content": "",
                "line": 562
            }},
            {"new": {
                "content": "  CheckAcquire();",
                "line": 563
            }},
            {"new": {
                "content": "  LockInternal();",
                "line": 564
            }},
            {"new": {
                "content": "  NS_ASSERTION(mEntryCount == 0, \"RecursiveMutex isn't free!\");",
                "line": 565
            }},
            {"new": {
                "content": "  Acquire();       // protected by us",
                "line": 566
            }},
            {"new": {
                "content": "  mOwningThread = PR_GetCurrentThread();",
                "line": 567
            }},
            {"new": {
                "content": "  mEntryCount = 1;",
                "line": 568
            }},
            {"new": {
                "content": "}",
                "line": 569
            }},
            {"new": {
                "content": "",
                "line": 570
            }},
            {"new": {
                "content": "void",
                "line": 571
            }},
            {"new": {
                "content": "RecursiveMutex::Unlock()",
                "line": 572
            }},
            {"new": {
                "content": "{",
                "line": 573
            }},
            {"new": {
                "content": "  if (--mEntryCount == 0) {",
                "line": 574
            }},
            {"new": {
                "content": "    Release();              // protected by us",
                "line": 575
            }},
            {"new": {
                "content": "    mOwningThread = nullptr;",
                "line": 576
            }},
            {"new": {
                "content": "  }",
                "line": 577
            }},
            {"new": {
                "content": "  UnlockInternal();",
                "line": 578
            }},
            {"new": {
                "content": "}",
                "line": 579
            }},
            {"new": {
                "content": "",
                "line": 580
            }},
            {"new": {
                "content": "void",
                "line": 581
            }},
            {"new": {
                "content": "RecursiveMutex::AssertCurrentThreadIn()",
                "line": 582
            }},
            {"new": {
                "content": "{",
                "line": 583
            }},
            {"new": {
                "content": "  MOZ_ASSERT(IsAcquired() && mOwningThread == PR_GetCurrentThread());",
                "line": 584
            }},
            {"new": {
                "content": "}",
                "line": 585
            }},
            {"new": {
                "content": "",
                "line": 586
            }},
            {"new": {
                "content": "//",
                "line": 587
            }}
        ],
        "new": {"name": "/xpcom/threads/BlockingResourceBase.cpp"},
        "old": {"name": "/xpcom/threads/BlockingResourceBase.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  enum BlockingResourceType { eMutex, eReentrantMonitor, eCondVar };",
                "line": 52
            }},
            {"new": {
                "content": "  enum BlockingResourceType { eMutex, eReentrantMonitor, eCondVar, eRecursiveMutex };",
                "line": 52
            }}
        ],
        "new": {"name": "/xpcom/threads/BlockingResourceBase.h"},
        "old": {"name": "/xpcom/threads/BlockingResourceBase.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "                        nsIObserver)",
                "line": 379
            }},
            {"new": {
                "content": "                        nsIObserver,",
                "line": 379
            }},
            {"new": {
                "content": "                        nsINamed)",
                "line": 380
            }},
            {"new": {
                "content": "LazyIdleThread::GetName(nsACString& aName)",
                "line": 565
            }},
            {"new": {
                "content": "{",
                "line": 566
            }},
            {"new": {
                "content": "  aName.AssignLiteral(\"LazyIdleThread\");",
                "line": 567
            }},
            {"new": {
                "content": "  return NS_OK;",
                "line": 568
            }},
            {"new": {
                "content": "}",
                "line": 569
            }},
            {"new": {
                "content": "",
                "line": 570
            }},
            {"new": {
                "content": "NS_IMETHODIMP",
                "line": 571
            }}
        ],
        "new": {"name": "/xpcom/threads/LazyIdleThread.cpp"},
        "old": {"name": "/xpcom/threads/LazyIdleThread.cpp"}
    },
    {
        "changes": [
            {"new": {
                "content": "#include \"nsINamed.h\"",
                "line": 10
            }},
            {"new": {
                "content": "  , public nsINamed",
                "line": 40
            }},
            {"new": {
                "content": "  NS_DECL_NSINAMED",
                "line": 49
            }}
        ],
        "new": {"name": "/xpcom/threads/LazyIdleThread.h"},
        "old": {"name": "/xpcom/threads/LazyIdleThread.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */",
                "line": 0
            }},
            {"new": {
                "content": "/* vim: set ts=8 sts=2 et sw=2 tw=80: */",
                "line": 1
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 2
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 3
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 4
            }},
            {"new": {
                "content": "",
                "line": 5
            }},
            {"new": {
                "content": "#include \"mozilla/RecursiveMutex.h\"",
                "line": 6
            }},
            {"new": {
                "content": "",
                "line": 7
            }},
            {"new": {
                "content": "#ifdef XP_WIN",
                "line": 8
            }},
            {"new": {
                "content": "#include <windows.h>",
                "line": 9
            }},
            {"new": {
                "content": "",
                "line": 10
            }},
            {"new": {
                "content": "#define NativeHandle(m) (reinterpret_cast<CRITICAL_SECTION*>(&m))",
                "line": 11
            }},
            {"new": {
                "content": "#endif",
                "line": 12
            }},
            {"new": {
                "content": "",
                "line": 13
            }},
            {"new": {
                "content": "namespace mozilla {",
                "line": 14
            }},
            {"new": {
                "content": "",
                "line": 15
            }},
            {"new": {
                "content": "RecursiveMutex::RecursiveMutex(const char* aName MOZ_GUARD_OBJECT_NOTIFIER_PARAM_IN_IMPL)",
                "line": 16
            }},
            {"new": {
                "content": "  : BlockingResourceBase(aName, eRecursiveMutex)",
                "line": 17
            }},
            {"new": {
                "content": "#ifdef DEBUG",
                "line": 18
            }},
            {"new": {
                "content": "  , mOwningThread(nullptr)",
                "line": 19
            }},
            {"new": {
                "content": "  , mEntryCount(0)",
                "line": 20
            }},
            {"new": {
                "content": "#endif",
                "line": 21
            }},
            {"new": {
                "content": "{",
                "line": 22
            }},
            {"new": {
                "content": "  MOZ_GUARD_OBJECT_NOTIFIER_INIT;",
                "line": 23
            }},
            {"new": {
                "content": "#ifdef XP_WIN",
                "line": 24
            }},
            {"new": {
                "content": "  // This number was adapted from NSPR.",
                "line": 25
            }},
            {"new": {
                "content": "  static const DWORD sLockSpinCount = 100;",
                "line": 26
            }},
            {"new": {
                "content": "",
                "line": 27
            }},
            {"new": {
                "content": "#if defined(RELEASE_OR_BETA)",
                "line": 28
            }},
            {"new": {
                "content": "  // Vista and later automatically allocate and subsequently leak a debug info",
                "line": 29
            }},
            {"new": {
                "content": "  // object for each critical section that we allocate unless we tell the",
                "line": 30
            }},
            {"new": {
                "content": "  // system not to do that.",
                "line": 31
            }},
            {"new": {
                "content": "  DWORD flags = CRITICAL_SECTION_NO_DEBUG_INFO;",
                "line": 32
            }},
            {"new": {
                "content": "#else",
                "line": 33
            }},
            {"new": {
                "content": "  DWORD flags = 0;",
                "line": 34
            }},
            {"new": {
                "content": "#endif",
                "line": 35
            }},
            {"new": {
                "content": "  BOOL r = InitializeCriticalSectionEx(NativeHandle(mMutex),",
                "line": 36
            }},
            {"new": {
                "content": "                                       sLockSpinCount, flags);",
                "line": 37
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(r);",
                "line": 38
            }},
            {"new": {
                "content": "#else",
                "line": 39
            }},
            {"new": {
                "content": "  pthread_mutexattr_t attr;",
                "line": 40
            }},
            {"new": {
                "content": "",
                "line": 41
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutexattr_init(&attr) == 0,",
                "line": 42
            }},
            {"new": {
                "content": "                     \"pthread_mutexattr_init failed\");",
                "line": 43
            }},
            {"new": {
                "content": "",
                "line": 44
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_RECURSIVE) == 0,",
                "line": 45
            }},
            {"new": {
                "content": "                     \"pthread_mutexattr_settype failed\");",
                "line": 46
            }},
            {"new": {
                "content": "",
                "line": 47
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutex_init(&mMutex, &attr) == 0,",
                "line": 48
            }},
            {"new": {
                "content": "                     \"pthread_mutex_init failed\");",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutexattr_destroy(&attr) == 0,",
                "line": 51
            }},
            {"new": {
                "content": "                     \"pthread_mutexattr_destroy failed\");",
                "line": 52
            }},
            {"new": {
                "content": "#endif",
                "line": 53
            }},
            {"new": {
                "content": "}",
                "line": 54
            }},
            {"new": {
                "content": "",
                "line": 55
            }},
            {"new": {
                "content": "RecursiveMutex::~RecursiveMutex()",
                "line": 56
            }},
            {"new": {
                "content": "{",
                "line": 57
            }},
            {"new": {
                "content": "#ifdef XP_WIN",
                "line": 58
            }},
            {"new": {
                "content": "  DeleteCriticalSection(NativeHandle(mMutex));",
                "line": 59
            }},
            {"new": {
                "content": "#else",
                "line": 60
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutex_destroy(&mMutex) == 0,",
                "line": 61
            }},
            {"new": {
                "content": "                     \"pthread_mutex_destroy failed\");",
                "line": 62
            }},
            {"new": {
                "content": "#endif",
                "line": 63
            }},
            {"new": {
                "content": "}",
                "line": 64
            }},
            {"new": {
                "content": "",
                "line": 65
            }},
            {"new": {
                "content": "void",
                "line": 66
            }},
            {"new": {
                "content": "RecursiveMutex::LockInternal()",
                "line": 67
            }},
            {"new": {
                "content": "{",
                "line": 68
            }},
            {"new": {
                "content": "#ifdef XP_WIN",
                "line": 69
            }},
            {"new": {
                "content": "  EnterCriticalSection(NativeHandle(mMutex));",
                "line": 70
            }},
            {"new": {
                "content": "#else",
                "line": 71
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutex_lock(&mMutex) == 0,",
                "line": 72
            }},
            {"new": {
                "content": "                     \"pthread_mutex_lock failed\");",
                "line": 73
            }},
            {"new": {
                "content": "#endif",
                "line": 74
            }},
            {"new": {
                "content": "}",
                "line": 75
            }},
            {"new": {
                "content": "",
                "line": 76
            }},
            {"new": {
                "content": "void",
                "line": 77
            }},
            {"new": {
                "content": "RecursiveMutex::UnlockInternal()",
                "line": 78
            }},
            {"new": {
                "content": "{",
                "line": 79
            }},
            {"new": {
                "content": "#ifdef XP_WIN",
                "line": 80
            }},
            {"new": {
                "content": "  LeaveCriticalSection(NativeHandle(mMutex));",
                "line": 81
            }},
            {"new": {
                "content": "#else",
                "line": 82
            }},
            {"new": {
                "content": "  MOZ_RELEASE_ASSERT(pthread_mutex_unlock(&mMutex) == 0,",
                "line": 83
            }},
            {"new": {
                "content": "                     \"pthread_mutex_unlock failed\");",
                "line": 84
            }},
            {"new": {
                "content": "#endif",
                "line": 85
            }},
            {"new": {
                "content": "}",
                "line": 86
            }},
            {"new": {
                "content": "",
                "line": 87
            }},
            {"new": {
                "content": "} // namespace mozilla",
                "line": 88
            }}
        ],
        "new": {"name": "/xpcom/threads/RecursiveMutex.cpp"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"new": {
                "content": "",
                "line": 0
            }},
            {"new": {
                "content": "/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */",
                "line": 1
            }},
            {"new": {
                "content": "/* vim: set ts=8 sts=2 et sw=2 tw=80: */",
                "line": 2
            }},
            {"new": {
                "content": "/* This Source Code Form is subject to the terms of the Mozilla Public",
                "line": 3
            }},
            {"new": {
                "content": " * License, v. 2.0. If a copy of the MPL was not distributed with this",
                "line": 4
            }},
            {"new": {
                "content": " * file, You can obtain one at http://mozilla.org/MPL/2.0/. */",
                "line": 5
            }},
            {"new": {
                "content": "",
                "line": 6
            }},
            {"new": {
                "content": "// A lock that can be acquired multiple times on the same thread.",
                "line": 7
            }},
            {"new": {
                "content": "",
                "line": 8
            }},
            {"new": {
                "content": "#ifndef mozilla_RecursiveMutex_h",
                "line": 9
            }},
            {"new": {
                "content": "#define mozilla_RecursiveMutex_h",
                "line": 10
            }},
            {"new": {
                "content": "",
                "line": 11
            }},
            {"new": {
                "content": "#include \"mozilla/BlockingResourceBase.h\"",
                "line": 12
            }},
            {"new": {
                "content": "#include \"mozilla/GuardObjects.h\"",
                "line": 13
            }},
            {"new": {
                "content": "",
                "line": 14
            }},
            {"new": {
                "content": "#ifndef XP_WIN",
                "line": 15
            }},
            {"new": {
                "content": "#include <pthread.h>",
                "line": 16
            }},
            {"new": {
                "content": "#endif",
                "line": 17
            }},
            {"new": {
                "content": "",
                "line": 18
            }},
            {"new": {
                "content": "namespace mozilla {",
                "line": 19
            }},
            {"new": {
                "content": "",
                "line": 20
            }},
            {"new": {
                "content": "class RecursiveMutex : public BlockingResourceBase",
                "line": 21
            }},
            {"new": {
                "content": "{",
                "line": 22
            }},
            {"new": {
                "content": "public:",
                "line": 23
            }},
            {"new": {
                "content": "  explicit RecursiveMutex(const char* aName MOZ_GUARD_OBJECT_NOTIFIER_PARAM);",
                "line": 24
            }},
            {"new": {
                "content": "  ~RecursiveMutex();",
                "line": 25
            }},
            {"new": {
                "content": "",
                "line": 26
            }},
            {"new": {
                "content": "#ifdef DEBUG",
                "line": 27
            }},
            {"new": {
                "content": "  void Lock();",
                "line": 28
            }},
            {"new": {
                "content": "  void Unlock();",
                "line": 29
            }},
            {"new": {
                "content": "#else",
                "line": 30
            }},
            {"new": {
                "content": "  void Lock() { LockInternal(); }",
                "line": 31
            }},
            {"new": {
                "content": "  void Unlock() { UnlockInternal(); }",
                "line": 32
            }},
            {"new": {
                "content": "#endif",
                "line": 33
            }},
            {"new": {
                "content": "",
                "line": 34
            }},
            {"new": {
                "content": "  void AssertCurrentThreadIn()",
                "line": 35
            }},
            {"new": {
                "content": "#ifdef DEBUG",
                "line": 36
            }},
            {"new": {
                "content": "    ;",
                "line": 37
            }},
            {"new": {
                "content": "#else",
                "line": 38
            }},
            {"new": {
                "content": "  {",
                "line": 39
            }},
            {"new": {
                "content": "  }",
                "line": 40
            }},
            {"new": {
                "content": "#endif",
                "line": 41
            }},
            {"new": {
                "content": "",
                "line": 42
            }},
            {"new": {
                "content": "private:",
                "line": 43
            }},
            {"new": {
                "content": "  RecursiveMutex() = delete;",
                "line": 44
            }},
            {"new": {
                "content": "  RecursiveMutex(const RecursiveMutex&) = delete;",
                "line": 45
            }},
            {"new": {
                "content": "  RecursiveMutex& operator=(const RecursiveMutex&) = delete;",
                "line": 46
            }},
            {"new": {
                "content": "",
                "line": 47
            }},
            {"new": {
                "content": "  void LockInternal();",
                "line": 48
            }},
            {"new": {
                "content": "  void UnlockInternal();",
                "line": 49
            }},
            {"new": {
                "content": "",
                "line": 50
            }},
            {"new": {
                "content": "#ifdef DEBUG",
                "line": 51
            }},
            {"new": {
                "content": "  PRThread* mOwningThread;",
                "line": 52
            }},
            {"new": {
                "content": "  size_t mEntryCount;",
                "line": 53
            }},
            {"new": {
                "content": "#endif",
                "line": 54
            }},
            {"new": {
                "content": "",
                "line": 55
            }},
            {"new": {
                "content": "#if !defined(XP_WIN)",
                "line": 56
            }},
            {"new": {
                "content": "  pthread_mutex_t mMutex;",
                "line": 57
            }},
            {"new": {
                "content": "#else",
                "line": 58
            }},
            {"new": {
                "content": "  // We eschew including windows.h and using CRITICAL_SECTION here so that files",
                "line": 59
            }},
            {"new": {
                "content": "  // including us don't also pull in windows.h.  Just use a type that's big",
                "line": 60
            }},
            {"new": {
                "content": "  // enough for CRITICAL_SECTION, and we'll fix it up later.",
                "line": 61
            }},
            {"new": {
                "content": "  void* mMutex[6];",
                "line": 62
            }},
            {"new": {
                "content": "#endif",
                "line": 63
            }},
            {"new": {
                "content": "  MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER",
                "line": 64
            }},
            {"new": {
                "content": "};",
                "line": 65
            }},
            {"new": {
                "content": "",
                "line": 66
            }},
            {"new": {
                "content": "class MOZ_RAII RecursiveMutexAutoLock",
                "line": 67
            }},
            {"new": {
                "content": "{",
                "line": 68
            }},
            {"new": {
                "content": "public:",
                "line": 69
            }},
            {"new": {
                "content": "  explicit RecursiveMutexAutoLock(RecursiveMutex& aRecursiveMutex",
                "line": 70
            }},
            {"new": {
                "content": "                                  MOZ_GUARD_OBJECT_NOTIFIER_PARAM)",
                "line": 71
            }},
            {"new": {
                "content": "    : mRecursiveMutex(&aRecursiveMutex)",
                "line": 72
            }},
            {"new": {
                "content": "  {",
                "line": 73
            }},
            {"new": {
                "content": "    MOZ_GUARD_OBJECT_NOTIFIER_INIT;",
                "line": 74
            }},
            {"new": {
                "content": "    NS_ASSERTION(mRecursiveMutex, \"null mutex\");",
                "line": 75
            }},
            {"new": {
                "content": "    mRecursiveMutex->Lock();",
                "line": 76
            }},
            {"new": {
                "content": "  }",
                "line": 77
            }},
            {"new": {
                "content": "",
                "line": 78
            }},
            {"new": {
                "content": "  ~RecursiveMutexAutoLock(void)",
                "line": 79
            }},
            {"new": {
                "content": "  {",
                "line": 80
            }},
            {"new": {
                "content": "    mRecursiveMutex->Unlock();",
                "line": 81
            }},
            {"new": {
                "content": "  }",
                "line": 82
            }},
            {"new": {
                "content": "",
                "line": 83
            }},
            {"new": {
                "content": "private:",
                "line": 84
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock() = delete;",
                "line": 85
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock(const RecursiveMutexAutoLock&) = delete;",
                "line": 86
            }},
            {"new": {
                "content": "  RecursiveMutexAutoLock& operator=(const RecursiveMutexAutoLock&) = delete;",
                "line": 87
            }},
            {"new": {
                "content": "  static void* operator new(size_t) CPP_THROW_NEW;",
                "line": 88
            }},
            {"new": {
                "content": "",
                "line": 89
            }},
            {"new": {
                "content": "  mozilla::RecursiveMutex* mRecursiveMutex;",
                "line": 90
            }},
            {"new": {
                "content": "  MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER",
                "line": 91
            }},
            {"new": {
                "content": "};",
                "line": 92
            }},
            {"new": {
                "content": "",
                "line": 93
            }},
            {"new": {
                "content": "class MOZ_RAII RecursiveMutexAutoUnlock",
                "line": 94
            }},
            {"new": {
                "content": "{",
                "line": 95
            }},
            {"new": {
                "content": "public:",
                "line": 96
            }},
            {"new": {
                "content": "  explicit RecursiveMutexAutoUnlock(RecursiveMutex& aRecursiveMutex",
                "line": 97
            }},
            {"new": {
                "content": "                                    MOZ_GUARD_OBJECT_NOTIFIER_PARAM)",
                "line": 98
            }},
            {"new": {
                "content": "    : mRecursiveMutex(&aRecursiveMutex)",
                "line": 99
            }},
            {"new": {
                "content": "  {",
                "line": 100
            }},
            {"new": {
                "content": "    MOZ_GUARD_OBJECT_NOTIFIER_INIT;",
                "line": 101
            }},
            {"new": {
                "content": "    NS_ASSERTION(mRecursiveMutex, \"null mutex\");",
                "line": 102
            }},
            {"new": {
                "content": "    mRecursiveMutex->Unlock();",
                "line": 103
            }},
            {"new": {
                "content": "  }",
                "line": 104
            }},
            {"new": {
                "content": "",
                "line": 105
            }},
            {"new": {
                "content": "  ~RecursiveMutexAutoUnlock(void)",
                "line": 106
            }},
            {"new": {
                "content": "  {",
                "line": 107
            }},
            {"new": {
                "content": "    mRecursiveMutex->Lock();",
                "line": 108
            }},
            {"new": {
                "content": "  }",
                "line": 109
            }},
            {"new": {
                "content": "",
                "line": 110
            }},
            {"new": {
                "content": "private:",
                "line": 111
            }},
            {"new": {
                "content": "  RecursiveMutexAutoUnlock() = delete;",
                "line": 112
            }},
            {"new": {
                "content": "  RecursiveMutexAutoUnlock(const RecursiveMutexAutoUnlock&) = delete;",
                "line": 113
            }},
            {"new": {
                "content": "  RecursiveMutexAutoUnlock& operator=(const RecursiveMutexAutoUnlock&) = delete;",
                "line": 114
            }},
            {"new": {
                "content": "  static void* operator new(size_t) CPP_THROW_NEW;",
                "line": 115
            }},
            {"new": {
                "content": "",
                "line": 116
            }},
            {"new": {
                "content": "  mozilla::RecursiveMutex* mRecursiveMutex;",
                "line": 117
            }},
            {"new": {
                "content": "  MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER",
                "line": 118
            }},
            {"new": {
                "content": "};",
                "line": 119
            }},
            {"new": {
                "content": "",
                "line": 120
            }},
            {"new": {
                "content": "} // namespace mozilla",
                "line": 121
            }},
            {"new": {
                "content": "",
                "line": 122
            }},
            {"new": {
                "content": "#endif // mozilla_RecursiveMutex_h",
                "line": 123
            }}
        ],
        "new": {"name": "/xpcom/threads/RecursiveMutex.h"},
        "old": {"name": "dev/null"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 255
            }}
        ],
        "new": {"name": "/xpcom/threads/ReentrantMonitor.h"},
        "old": {"name": "/xpcom/threads/ReentrantMonitor.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "  return mDispatcher->Dispatch(nullptr, mCategory, Move(aRunnable));",
                "line": 147
            }},
            {"new": {
                "content": "  return mDispatcher->Dispatch(mCategory, Move(aRunnable));",
                "line": 147
            }},
            {"old": {
                "content": "SchedulerGroup::UnlabeledDispatch(const char* aName,",
                "line": 169
            }},
            {"old": {
                "content": "                                  TaskCategory aCategory,",
                "line": 170
            }},
            {"new": {
                "content": "SchedulerGroup::UnlabeledDispatch(TaskCategory aCategory,",
                "line": 169
            }},
            {"old": {
                "content": "  nsCOMPtr<nsIRunnable> runnable(aRunnable);",
                "line": 173
            }},
            {"old": {
                "content": "  if (aName) {",
                "line": 174
            }},
            {"old": {
                "content": "    if (nsCOMPtr<nsINamed> named = do_QueryInterface(runnable)) {",
                "line": 175
            }},
            {"old": {
                "content": "      named->SetName(aName);",
                "line": 176
            }},
            {"old": {
                "content": "    }",
                "line": 177
            }},
            {"old": {
                "content": "  }",
                "line": 178
            }},
            {"old": {
                "content": "    return NS_DispatchToCurrentThread(runnable.forget());",
                "line": 180
            }},
            {"new": {
                "content": "    return NS_DispatchToCurrentThread(Move(aRunnable));",
                "line": 173
            }},
            {"old": {
                "content": "    return NS_DispatchToMainThread(runnable.forget());",
                "line": 182
            }},
            {"new": {
                "content": "    return NS_DispatchToMainThread(Move(aRunnable));",
                "line": 175
            }},
            {"old": {
                "content": "SchedulerGroup::Dispatch(const char* aName,",
                "line": 219
            }},
            {"old": {
                "content": "                         TaskCategory aCategory,",
                "line": 220
            }},
            {"new": {
                "content": "SchedulerGroup::Dispatch(TaskCategory aCategory,",
                "line": 212
            }},
            {"old": {
                "content": "  return LabeledDispatch(aName, aCategory, Move(aRunnable));",
                "line": 223
            }},
            {"new": {
                "content": "  return LabeledDispatch(aCategory, Move(aRunnable));",
                "line": 215
            }},
            {"old": {
                "content": "SchedulerGroup::LabeledDispatch(const char* aName,",
                "line": 306
            }},
            {"old": {
                "content": "                                TaskCategory aCategory,",
                "line": 307
            }},
            {"new": {
                "content": "SchedulerGroup::LabeledDispatch(TaskCategory aCategory,",
                "line": 298
            }},
            {"old": {
                "content": "  return UnlabeledDispatch(aName, aCategory, runnable.forget());",
                "line": 314
            }},
            {"new": {
                "content": "  return UnlabeledDispatch(aCategory, runnable.forget());",
                "line": 305
            }}
        ],
        "new": {"name": "/xpcom/threads/SchedulerGroup.cpp"},
        "old": {"name": "/xpcom/threads/SchedulerGroup.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  virtual nsresult Dispatch(const char* aName,",
                "line": 108
            }},
            {"old": {
                "content": "                            TaskCategory aCategory,",
                "line": 109
            }},
            {"new": {
                "content": "  virtual nsresult Dispatch(TaskCategory aCategory,",
                "line": 108
            }},
            {"old": {
                "content": "  static nsresult UnlabeledDispatch(const char* aName,",
                "line": 118
            }},
            {"old": {
                "content": "                                    TaskCategory aCategory,",
                "line": 119
            }},
            {"new": {
                "content": "  static nsresult UnlabeledDispatch(TaskCategory aCategory,",
                "line": 117
            }},
            {"old": {
                "content": "  nsresult LabeledDispatch(const char* aName,",
                "line": 144
            }},
            {"old": {
                "content": "                           TaskCategory aCategory,",
                "line": 145
            }},
            {"new": {
                "content": "  nsresult LabeledDispatch(TaskCategory aCategory,",
                "line": 142
            }}
        ],
        "new": {"name": "/xpcom/threads/SchedulerGroup.h"},
        "old": {"name": "/xpcom/threads/SchedulerGroup.h"}
    },
    {
        "changes": [
            {"old": {
                "content": "SystemGroup::Dispatch(const char* aName,",
                "line": 85
            }},
            {"old": {
                "content": "                      TaskCategory aCategory,",
                "line": 86
            }},
            {"new": {
                "content": "SystemGroup::Dispatch(TaskCategory aCategory,",
                "line": 85
            }},
            {"old": {
                "content": "  return SystemGroupImpl::Get()->Dispatch(aName, aCategory, Move(aRunnable));",
                "line": 89
            }},
            {"new": {
                "content": "  return SystemGroupImpl::Get()->Dispatch(aCategory, Move(aRunnable));",
                "line": 88
            }}
        ],
        "new": {"name": "/xpcom/threads/SystemGroup.cpp"},
        "old": {"name": "/xpcom/threads/SystemGroup.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  static nsresult Dispatch(const char* aName,",
                "line": 21
            }},
            {"old": {
                "content": "                           TaskCategory aCategory,",
                "line": 22
            }},
            {"new": {
                "content": "  static nsresult Dispatch(TaskCategory aCategory,",
                "line": 21
            }}
        ],
        "new": {"name": "/xpcom/threads/SystemGroup.h"},
        "old": {"name": "/xpcom/threads/SystemGroup.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "    'RecursiveMutex.h',",
                "line": 51
            }},
            {"new": {
                "content": "    'RecursiveMutex.cpp',",
                "line": 85
            }}
        ],
        "new": {"name": "/xpcom/threads/moz.build"},
        "old": {"name": "/xpcom/threads/moz.build"}
    },
    {
        "changes": [
            {"old": {
                "content": "",
                "line": 23
            }},
            {"old": {
                "content": "    /*",
                "line": 24
            }},
            {"old": {
                "content": "     * Note: The string you pass in should be a compile-time literal.",
                "line": 25
            }},
            {"old": {
                "content": "     *",
                "line": 26
            }},
            {"old": {
                "content": "     * WARNING: This value will be included in telemetry, so it should",
                "line": 27
            }},
            {"old": {
                "content": "     * never contain privacy sensitive information.",
                "line": 28
            }},
            {"old": {
                "content": "     */",
                "line": 29
            }},
            {"old": {
                "content": "    [noscript] void setName(in string aName);",
                "line": 30
            }}
        ],
        "new": {"name": "/xpcom/threads/nsINamed.idl"},
        "old": {"name": "/xpcom/threads/nsINamed.idl"}
    },
    {
        "changes": [
            {"old": {
                "content": "  if (NS_WARN_IF(!mMainThread)) {",
                "line": 331
            }},
            {"new": {
                "content": "  if (!mMainThread) {",
                "line": 331
            }}
        ],
        "new": {"name": "/xpcom/threads/nsThreadManager.cpp"},
        "old": {"name": "/xpcom/threads/nsThreadManager.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "nsresult",
                "line": 66
            }},
            {"old": {
                "content": "Runnable::SetName(const char* aName)",
                "line": 67
            }},
            {"old": {
                "content": "{",
                "line": 68
            }},
            {"old": {
                "content": "#ifndef RELEASE_OR_BETA",
                "line": 69
            }},
            {"old": {
                "content": "  mName = aName;",
                "line": 70
            }},
            {"old": {
                "content": "#endif",
                "line": 71
            }},
            {"old": {
                "content": "  return NS_OK;",
                "line": 72
            }},
            {"old": {
                "content": "}",
                "line": 73
            }},
            {"old": {
                "content": "",
                "line": 74
            }}
        ],
        "new": {"name": "/xpcom/threads/nsThreadUtils.cpp"},
        "old": {"name": "/xpcom/threads/nsThreadUtils.cpp"}
    },
    {
        "changes": [
            {"old": {
                "content": "  explicit RunnableFunction(F&& aFunction)",
                "line": 518
            }},
            {"old": {
                "content": "    : Runnable(\"RunnableFunction\")",
                "line": 519
            }},
            {"new": {
                "content": "  explicit RunnableFunction(const char* aName, F&& aFunction)",
                "line": 518
            }},
            {"new": {
                "content": "    : Runnable(aName)",
                "line": 519
            }},
            {"old": {
                "content": "",
                "line": 537
            }},
            {"old": {
                "content": "template <typename T>",
                "line": 538
            }},
            {"old": {
                "content": "inline already_AddRefed<T>",
                "line": 539
            }},
            {"old": {
                "content": "SetRunnableName(const char* aName, T* aObj)",
                "line": 540
            }},
            {"old": {
                "content": "{",
                "line": 541
            }},
            {"old": {
                "content": "#ifdef RELEASE_OR_BETA",
                "line": 542
            }},
            {"old": {
                "content": "  return do_AddRef(aObj);",
                "line": 543
            }},
            {"old": {
                "content": "#else",
                "line": 544
            }},
            {"old": {
                "content": "  MOZ_RELEASE_ASSERT(aName);",
                "line": 545
            }},
            {"old": {
                "content": "  RefPtr<T> ref(aObj);",
                "line": 546
            }},
            {"old": {
                "content": "  ref->SetName(aName);",
                "line": 547
            }},
            {"old": {
                "content": "  return ref.forget();",
                "line": 548
            }},
            {"old": {
                "content": "#endif",
                "line": 549
            }},
            {"old": {
                "content": "}",
                "line": 550
            }},
            {"old": {
                "content": "",
                "line": 551
            }},
            {"old": {
                "content": "  return mozilla::detail::SetRunnableName(",
                "line": 646
            }},
            {"old": {
                "content": "    aName,",
                "line": 647
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 631
            }},
            {"old": {
                "content": "      mozilla::Forward<Function>(aFunction)));",
                "line": 649
            }},
            {"new": {
                "content": "      aName, mozilla::Forward<Function>(aFunction)));",
                "line": 633
            }},
            {"old": {
                "content": "  nsRunnableMethod() : BaseType(\"nsRunnableMethod\") {}",
                "line": 724
            }},
            {"new": {
                "content": "  nsRunnableMethod(const char* aName) : BaseType(aName) {}",
                "line": 708
            }},
            {"old": {
                "content": "  explicit RunnableMethodImpl(ForwardedPtrType&& aObj, Method aMethod,",
                "line": 1193
            }},
            {"old": {
                "content": "                              Args&&... aArgs)",
                "line": 1194
            }},
            {"old": {
                "content": "    : mReceiver(Forward<ForwardedPtrType>(aObj))",
                "line": 1195
            }},
            {"new": {
                "content": "  explicit RunnableMethodImpl(const char* aName, ForwardedPtrType&& aObj,",
                "line": 1177
            }},
            {"new": {
                "content": "                              Method aMethod, Args&&... aArgs)",
                "line": 1178
            }},
            {"new": {
                "content": "    : BaseType(aName)",
                "line": 1179
            }},
            {"new": {
                "content": "    , mReceiver(Forward<ForwardedPtrType>(aObj))",
                "line": 1180
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1403
            }},
            {"old": {
                "content": "    aName,",
                "line": 1404
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1388
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1406
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1390
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1412
            }},
            {"old": {
                "content": "    aName,",
                "line": 1413
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1396
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1415
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1398
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1421
            }},
            {"old": {
                "content": "    aName,",
                "line": 1422
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1404
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1424
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1406
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1432
            }},
            {"old": {
                "content": "    aName,",
                "line": 1433
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1414
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1435
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1416
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1441
            }},
            {"old": {
                "content": "    aName,",
                "line": 1442
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1422
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1444
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1424
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1451
            }},
            {"old": {
                "content": "    aName,",
                "line": 1452
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1431
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1454
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1433
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1462
            }},
            {"old": {
                "content": "    aName,",
                "line": 1463
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1441
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1465
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1443
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1473
            }},
            {"old": {
                "content": "    aName,",
                "line": 1474
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1451
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod));",
                "line": 1476
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod));",
                "line": 1453
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1488
            }},
            {"old": {
                "content": "    aName,",
                "line": 1489
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1465
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1491
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1467
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1500
            }},
            {"old": {
                "content": "    aName,",
                "line": 1501
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1476
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1503
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1478
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1512
            }},
            {"old": {
                "content": "    aName,",
                "line": 1513
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1487
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1515
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1489
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1524
            }},
            {"old": {
                "content": "    aName,",
                "line": 1525
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1498
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1527
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1500
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1541
            }},
            {"old": {
                "content": "    aName,",
                "line": 1542
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1514
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1544
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1516
            }},
            {"old": {
                "content": "  return detail::SetRunnableName(",
                "line": 1558
            }},
            {"old": {
                "content": "    aName,",
                "line": 1559
            }},
            {"new": {
                "content": "  return do_AddRef(",
                "line": 1530
            }},
            {"old": {
                "content": "      Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1561
            }},
            {"new": {
                "content": "      aName, Forward<PtrType>(aPtr), aMethod, mozilla::Forward<Args>(aArgs)...));",
                "line": 1532
            }}
        ],
        "new": {"name": "/xpcom/threads/nsThreadUtils.h"},
        "old": {"name": "/xpcom/threads/nsThreadUtils.h"}
    },
    {
        "changes": [
            {"new": {
                "content": "                                        , public nsINamed",
                "line": 529
            }},
            {"new": {
                "content": "  NS_IMETHOD GetName(nsACString& aName) override",
                "line": 548
            }},
            {"new": {
                "content": "  {",
                "line": 549
            }},
            {"new": {
                "content": "    aName.AssignLiteral(\"WebShellWindowTimerCallback\");",
                "line": 550
            }},
            {"new": {
                "content": "    return NS_OK;",
                "line": 551
            }},
            {"new": {
                "content": "  }",
                "line": 552
            }},
            {"new": {
                "content": "",
                "line": 553
            }},
            {"old": {
                "content": "NS_IMPL_ISUPPORTS(WebShellWindowTimerCallback, nsITimerCallback)",
                "line": 551
            }},
            {"new": {
                "content": "NS_IMPL_ISUPPORTS(WebShellWindowTimerCallback, nsITimerCallback, nsINamed)",
                "line": 558
            }}
        ],
        "new": {"name": "/xpfe/appshell/nsWebShellWindow.cpp"},
        "old": {"name": "/xpfe/appshell/nsWebShellWindow.cpp"}
    }
]
